(this.webpackJsonppruebas=this.webpackJsonppruebas||[]).push([[1],{115:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(38),o=n.n(c),s=n(20),i=n(1),u=n(74),l=n(3),j=n.n(l),b=n(5),d=n(4),p=n(27),h=(n(96),n(29)),O=n(10),f=n(11),x=n(16),m=n.n(x);function g(){var e=localStorage.getItem("@Storage:recordarUsuario");if(null!=e){var t="true"==e;return t?{pass:localStorage.getItem("@Storage:contraseniaX"),user:localStorage.getItem("@Storage:usuario"),remember:t}:(localStorage.removeItem("@Storage:contraseniaX"),localStorage.removeItem('"@Storage:usuario"'),{pass:"",user:"",remember:t})}return{pass:"",user:"",remember:!1}}function v(e){e.recordar?localStorage.setItem("@Storage:contraseniaX",e.contrasenia):localStorage.removeItem("@Storage:contraseniaX"),localStorage.setItem("@Storage:usuario",e.usuario),localStorage.setItem("@Storage:idUsuario",String(e.idUsuario)),localStorage.setItem("@Storage:cliente",String(e.cliente)),localStorage.setItem("@Storage::userToken",e.token),localStorage.setItem("@Storage:recordarUsuario",String(e.recordar)),localStorage.setItem("@Storage:userName",e.userName),console.log(e.userName)}function S(){return localStorage.getItem("@Storage:usuario")}function y(){return{cliente:localStorage.getItem("@Storage:cliente"),idUsuario:localStorage.getItem("@Storage:idUsuario"),token:localStorage.getItem("@Storage::userToken")}}function k(e){localStorage.setItem("@Storage:contratos",e)}function C(e,t,n,a){return localStorage.setItem("@Storage:idLectura",e),localStorage.setItem("@Storage:nContribuyente",t),localStorage.setItem("@Storage:contratoVigente",n),localStorage.setItem("@Storage:medidor",a),!0}function w(){return{idLectura:localStorage.getItem("@Storage:idLectura"),contribuyente:localStorage.getItem("@Storage:nContribuyente"),contratoVigente:localStorage.getItem("@Storage:contratoVigente"),medidor:localStorage.getItem("@Storage:medidor"),nCliente:localStorage.getItem("@Storage:cliente"),token:localStorage.getItem("@Storage::userToken"),idUsuario:localStorage.getItem("@Storage:idUsuario")}}function I(){return{idLectura:localStorage.getItem("@Storage:editarIdLectura"),contrato:localStorage.getItem("@Storage:editarContratoVigente"),contribuyente:localStorage.getItem("@Storage:editarNContribuyente"),medidor:localStorage.getItem("@Storage:editarMedidor")}}function A(){return{datosLectura:{idConsulta:localStorage.getItem("@Storage:editarIdLectura"),nCliente:localStorage.getItem("@Storage:cliente")},token:localStorage.getItem("@Storage::userToken")}}function N(){return M.apply(this,arguments)}function M(){return(M=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"false"==localStorage.getItem("@Storage:recordarUsuario")?(localStorage.removeItem("@Storage:usuario"),localStorage.removeItem("@Storage:idUsuario"),localStorage.removeItem("@Storage:cliente"),localStorage.removeItem("@Storage::userToken"),localStorage.removeItem("@Storage:contraseniaX")):(localStorage.removeItem("@Storage:idUsuario"),localStorage.removeItem("@Storage:cliente"),localStorage.removeItem("@Storage::userToken")),e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return null!=localStorage.getItem("@Storage::userToken")}function D(){return String(localStorage.getItem("@Storage::userToken"))}function R(e){localStorage.setItem("@Storage:serched",String(e))}function P(e){localStorage.setItem("@Storage:cursor",String(e))}function L(){var e=localStorage.getItem("@Storage:cursor"),t=Number(e);return isNaN(t)?0:t}function z(e){localStorage.setItem("@Storage:pages",String(e))}function F(){var e=localStorage.getItem("@Storage:pages"),t=Number(e);return isNaN(t)?0:t}function T(){return Y.apply(this,arguments)}function Y(){return(Y=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",localStorage.getItem("@Storage:logoCliente"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return _.apply(this,arguments)}function _(){return(_=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.setItem("@Storage:logoCliente",t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){localStorage.setItem("@Storage:clienteNombreCorto",e)}function q(e){localStorage.setItem("@Storage:idContribuyente",e)}function V(){return localStorage.getItem("@Storage:idContribuyente")}function H(){localStorage.removeItem("@Storage:idSector"),localStorage.removeItem("@Storage:cursor"),localStorage.removeItem("@Storage:pages"),localStorage.removeItem("@Storage:lecturaDesde"),localStorage.removeItem("@Storage:lecturaHasta"),localStorage.removeItem("@Storage:reporteDesde"),localStorage.removeItem("@Storage:reporteHasta")}function G(e){console.log(e),localStorage.setItem("@Storage:punteroBusqueda",String(e))}function J(){var e=localStorage.getItem("@Storage:punteroBusqueda"),t=Number(e);return isNaN(t)?0:t}function K(){var e=localStorage.getItem("@Storage:paginasBusqueda"),t=Number(e);return isNaN(t)?0:t}function X(){return localStorage.getItem("@Storage:inspeccionPadron")}function W(){return localStorage.getItem("@Storage:cliente")}function $(e){localStorage.setItem("@Storage:CuentasPapas",String(e))}var Q=new(function(){function e(){Object(O.a)(this,e)}return Object(f.a)(e,[{key:"getAuth",value:function(e){return m.a.post("https://api.servicioenlinea.mx/api-movil/login-presidentePrueba",e)}},{key:"verificarUsuarioLecturista",value:function(e,t){var n={"Content-type":"application/json",Authorization:"Bearer"+t};return m.a.post("https://api.servicioenlinea.mx/api-movil/verificarUsuarioLecturistaPrueba",e,{headers:n})}},{key:"buscarSectores",value:function(e,t){var n={"Content-type":"application/json",Authorization:"Bearer"+t};return m.a.post("https://api.servicioenlinea.mx/api-movil/buscarSectores",e,{headers:n})}},{key:"buscarLecturasPorSector",value:function(e,t){var n={"Content-type":"application/json",Authorization:"Bearer"+t};return m.a.post("https://api.servicioenlinea.mx/api-movil/datosLecturaPorSector",e,{headers:n})}},{key:"extraesDatosLectura",value:function(e,t){var n={"Content-type":"application/json",Authorization:"Bearer"+t};return m.a.post("https://api.servicioenlinea.mx/api-movil/extrarDatosLecturaPrueba",e,{headers:n})}},{key:"guardarDatosLectura",value:function(e,t){var n={"Content-type":"application/json",Authorization:"Bearer"+t};return m.a.post("https://api.servicioenlinea.mx/api-movil/guardarDatosLecturaPrueba",e,{headers:n})}},{key:"extraerHistorial",value:function(e,t){var n={"Content-type":"application/json",Authorization:"Bearer"+t};return m.a.post("https://api.servicioenlinea.mx/api-movil/extraerHistorialPrueba",e,{headers:n})}},{key:"extraerDatoseditar",value:function(e,t){var n={"Content-type":"application/json",Authorization:"Bearer"+t};return m.a.post("https://api.servicioenlinea.mx/api-movil/extraerDatosEditarPrueba",e,{headers:n})}},{key:"actualizarDatosLectura",value:function(e,t){var n={"Content-type":"application/json",Authorization:"Bearer"+t};return m.a.post("https://api.servicioenlinea.mx/api-movil/actualizarRegistroPrueba",e,{headers:n})}},{key:"crearReporte",value:function(e,t){var n={"Content-type":"application/json",Authorization:"Bearer"+t};return m.a.post("https://api.servicioenlinea.mx/api-movil/crearReportePrueba",e,{headers:n})}},{key:"extraerHistorialReportes",value:function(e,t){var n={"Content-type":"application/json",Authorization:"Bearer"+t};return m.a.post("https://api.servicioenlinea.mx/api-movil/listaReportes",e,{headers:n})}},{key:"extraerReporte",value:function(e,t){var n={"Content-type":"application/json",Authorization:"Bearer"+t};return m.a.post("https://api.servicioenlinea.mx/api-movil/extraerReporte",e,{headers:n})}},{key:"extraerContribuyente",value:function(e,t){var n={"Content-type":"application/json",Authorization:"Bearer"+t};return m.a.post("https://api.servicioenlinea.mx/api-movil/datosLecturaAguaPrueba",e,{headers:n})}},{key:"extraerNumeroItems",value:function(e,t){var n={"Content-type":"application/json",Authorization:"Bearer"+t};return m.a.post("https://api.servicioenlinea.mx/api-movil/paginas",e,{headers:n})}},{key:"extraerPromedioContribuyente",value:function(e,t){var n={"Content-type":"application/json",Authorization:"Bearer"+t};return m.a.post("https://api.servicioenlinea.mx/api-movil/obtenerConsumoPromedio",e,{headers:n})}},{key:"obtenerLogoCliente",value:function(e,t){var n={"Content-type":"application/json",Authorization:"Bearer"+t};return m.a.post("https://api.servicioenlinea.mx/api-movil/extraerLogo",e,{headers:n})}},{key:"extraerContactoContribuyente",value:function(e,t){var n={"Content-type":"application/json",Authorization:"Bearer"+t};return m.a.post("https://api.servicioenlinea.mx/api-movil/extraerContribuyente",e,{headers:n})}},{key:"guardarContribuyente",value:function(e,t){var n={"Content-type":"application/json",Authorization:"Bearer"+t};return m.a.post("https://api.servicioenlinea.mx/api-movil/guardarContribuyente",e,{headers:n})}},{key:"extraerNumeroItemsBusqueda",value:function(e,t){var n={"Content-type":"application/json",Authorization:"Bearer"+t};return m.a.post("https://api.servicioenlinea.mx/api-movil/paginasBusqueda",e,{headers:n})}},{key:"obtenerContribuyenteInspeccion",value:function(e,t){var n={"Content-type":"application/json",Authorization:"Bearer"+t};return m.a.post("https://api.servicioenlinea.mx/api-movil/inspeccionContribuyente",e,{headers:n})}},{key:"obtenerDatosContribuyentePorPadron",value:function(e,t){var n={"Content-type":"application/json",Authorization:"Bearer"+t};return m.a.post("https://api.servicioenlinea.mx/api-movil/obtenerPadronContribyenteDatos",e,{headers:n})}},{key:"obtenerDatosSectorPalabraClave",value:function(e,t){var n={"Content-type":"application/json",Authorization:"Bearer"+t};return m.a.post("https://api.servicioenlinea.mx/api-movil/buscarSectorPalabraClave",e,{headers:n})}},{key:"obtenerNumeroItemsBusquedaSector",value:function(e,t){var n={"Content-type":"application/json",Authorization:"Bearer"+t};return m.a.post("https://api.servicioenlinea.mx/api-movil/paginasBusqueaSector",e,{headers:n})}},{key:"obtenerPromedioEditar",value:function(e,t){var n={"Content-type":"application/json",Authorization:"Bearer"+t};return m.a.post("https://api.servicioenlinea.mx/api-movil/ObtenerPromedioEditar",e,{headers:n})}},{key:"buscarPorContrato",value:function(e,t){var n={"Content-type":"application/json",Authorization:"Bearer"+t};return m.a.post("https://api.servicioenlinea.mx/api-movil/buscarPorContrato",e,{headers:n})}},{key:"buscarPorMedidor",value:function(e,t){var n={"Content-type":"application/json",Authorization:"Bearer"+t};return m.a.post("https://api.servicioenlinea.mx/api-movil/buscarPorMedidor",e,{headers:n})}}]),e}()),Z=new Date,ee=new Error("Error al intentar comunicarse con la API. Verifique que su dispositivo se encuentre conectado a la red"),te=new Error("Sesion no valida"),ne=new Error("Usuario y/o contrase\xf1a incorrectos"),ae=new Error("No puedes iniciar sesi\xf3n con este usuario"),re=new Error("Consulte con su administrador que el c\xf3digo de lecturas de agua se encuentre en el rango de 1-3"),ce=new Error("No se encontraron registros"),oe=new Error("No se ha calculado el consumo"),se=new Error("La lectura actual no puede ser menor a la anterior"),ie=new Error("Aun no puedes realizar registros para el mes seleccionado"),ue=new Error("El mes seleccionado ya fue registrado"),le=new Error("Aun no puedes realizar registros para este a\xf1o"),je=new Error("Ya no puedes realizar registros para este a\xf1o"),be=new Error("este mes ya fue registrado"),de=new Error("Revisa que los campos esten rellenados de forma correcta"),pe=new Error("Error del servidor");new Error("El mes seleccionada debe se mayor a la actual"),new Error("El mes de la lectura debe ser menor al actual"),new Error("Para poder hacer uso de todas las funciones de la aplicaci\xf2n por favor acepta los permisos solicitados por la misma");function he(e,t,n){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(b.a)(j.a.mark((function e(t,n,a){var r,c,o,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={usuario:t,passwd:n},e.prev=1,e.next=4,Q.getAuth(r);case 4:if(c=e.sent,1!=c.data.Status){e.next=19;break}return o={usuario:t,cliente:c.data.cliente,idUsuario:c.data.idUsuario,token:c.data.token,recordar:a,contrasenia:n,userName:c.data.datosUsuario.NombreCompleto},console.log(o.token),e.next=11,fe(o);case 11:if(!0!==(s=e.sent)){e.next=16;break}return e.abrupt("return",s);case 16:throw s;case 17:e.next=20;break;case 19:throw ne;case 20:e.next=25;break;case 22:throw e.prev=22,e.t0=e.catch(1),Ze(e.t0);case 25:case"end":return e.stop()}}),e,null,[[1,22]])})))).apply(this,arguments)}function fe(e){return xe.apply(this,arguments)}function xe(){return(xe=Object(b.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"-1"!==(n={usuario:t.idUsuario,cliente:t.cliente}).cliente){e.next=4;break}throw ae;case 4:return e.next=6,Q.verificarUsuarioLecturista(n,t.token);case 6:if(a=e.sent,!a.data.Status){e.next=13;break}return v(t),e.abrupt("return",!0);case 13:throw ae;case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(0),Ze(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function me(){return ge.apply(this,arguments)}function ge(){return(ge=Object(b.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=y(),n={nCliente:t.cliente,idUsuario:t.idUsuario},e.next=5,Q.buscarSectores(n,t.token+"");case 5:return a=e.sent,e.abrupt("return",a.data.Sectores);case 9:throw e.prev=9,e.t0=e.catch(0),Ze(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function ve(e){return Se.apply(this,arguments)}function Se(){return(Se=Object(b.a)(j.a.mark((function e(t){var n,a,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=y(),a={nCliente:n.cliente,idLectura:t},e.next=5,Q.extraesDatosLectura(a,n.token+"");case 5:if(r=e.sent,"1"==(c=r.data.ValorLectura[0].Valor)||"2"==c||"3"==c){e.next=11;break}throw re;case 11:return e.abrupt("return",r.data);case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(0),Ze(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function ye(e){return ke.apply(this,arguments)}function ke(){return(ke=Object(b.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ce(t);case 3:if(!0!==(n=e.sent)){e.next=11;break}return e.next=7,Ie(t);case 7:return a=e.sent,e.abrupt("return",a);case 11:throw n;case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(0),Ze(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function Ce(e){return we.apply(this,arguments)}function we(){return(we=Object(b.a)(j.a.mark((function e(t){var n,a,r,c,o,s,i,u,l,b;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=parseInt(t.anomalia),a=t.lectura,r=t.arrayAnios,c=Z.getMonth()+2,Number.isInteger(n)||(n=NaN),""!=t.lecturaActual&&null!=t.lecturaActual){e.next=7;break}throw oe;case 7:if(o=parseInt(t.consumoFinal),isNaN(n)){e.next=13;break}if(!(o<0)){e.next=11;break}throw se;case 11:e.next=15;break;case 13:if(!(o<=0)){e.next=15;break}throw se;case 15:if(3!=a){e.next=30;break}if(s=r[t.indexAnio-1].anio,!(t.comparaMes<t.mesCaptura)){e.next=19;break}throw ie;case 19:if(!(t.comparaAnio<s)){e.next=21;break}throw le;case 21:if(!(t.comparaMes>t.mesCaptura)){e.next=23;break}throw ue;case 23:if(!(t.comparaAnio>s)){e.next=25;break}throw je;case 25:if(13==c&&(c=1),c!=t.mesLectura){e.next=28;break}throw be;case 28:e.next=59;break;case 30:if(2!=a){e.next=44;break}if(i=r[t.indexAnio-1].anio,!(t.comparaMes<t.mesCaptura)){e.next=34;break}throw ie;case 34:if(!(t.comparaMes>t.mesCaptura)){e.next=36;break}throw ue;case 36:if(!(t.comparaAnio<i)){e.next=38;break}throw le;case 38:if(!(t.comparaAnio>i)){e.next=40;break}throw je;case 40:if(!(t.mesCaptura>=t.comparaAnio&&t.anhioCaptura>=t.comparaAnio)){e.next=42;break}throw be;case 42:e.next=59;break;case 44:if(1!=a){e.next=59;break}if(u=r[t.indexAnio-1].anio,!(t.mesCaptura>t.comparaMes)){e.next=48;break}throw ie;case 48:if(!(u>t.comparaAnio)){e.next=50;break}throw le;case 50:if(!(t.mesCaptura<t.comparaMes)){e.next=52;break}throw ue;case 52:if(!(u<t.comparaAnio)){e.next=54;break}throw je;case 54:if(l=Z.getMonth()+2,b=Z.getFullYear(),13==l&&(l=1,b=Z.getFullYear()+1),l!=t.mesCaptura||b!=t.comparaAnio){e.next=59;break}throw ie;case 59:return e.abrupt("return",!0);case 60:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(b.a)(j.a.mark((function e(t){var n,a,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={idToma:t.idToma,cliente:t.nCliente,lecturaAnterior:t.lecturaAnterior,lecturaActual:t.lecturaActual,consumoFinal:t.consumoFinal,mesCaptura:t.mesCaptura,anhioCaptura:t.anhioCaptura,fechaCaptura:t.fechaCaptura,anomalia:t.anomalia,idUsuario:t.idUsuario,latitud:t.Latidude,longitud:t.Longitude,tipoCoordenada:1,fotos:[],arregloFotos:t.arregloFotos,ruta:t.route},e.next=3,Q.guardarDatosLectura(n,t.token);case 3:a=e.sent,console.log(a),r=a.data.Mensaje,c="",e.t0=r,e.next=200===e.t0?10:224===e.t0?12:223===e.t0?14:400===e.t0?15:17;break;case 10:return c="Ok",e.abrupt("break",19);case 12:throw new Error("No se pudo realizar el registro");case 14:throw de;case 15:throw new Error("El mes ya fue capturado");case 17:throw pe;case 19:return e.abrupt("return",c);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e,t){return Me.apply(this,arguments)}function Me(){return(Me=Object(b.a)(j.a.mark((function e(t,n){var a,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=y(),r={idUsuario:a.idUsuario,nCliente:a.cliente,fechaInicioH:t,fechaFinH:n},e.next=5,Q.extraerHistorial(r,a.token+"");case 5:if(!(c=e.sent).data.Status){e.next=10;break}return e.abrupt("return",c.data);case 10:throw ce;case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(0),Ze(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function Ee(){return De.apply(this,arguments)}function De(){return(De=Object(b.a)(j.a.mark((function e(){var t,n,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=A(),n=t.datosLectura,null==(a=t.token)){e.next=9;break}return e.next=5,Q.extraerDatoseditar(n,a);case 5:return r=e.sent,e.abrupt("return",r.data);case 9:throw null;case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(0),Ze(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function Re(e){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(b.a)(j.a.mark((function e(t){var n,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!Le(t)){e.next=15;break}return n=y(),a={cliente:n.cliente,usuario:n.idUsuario,colonia:t.colonia,calle:t.calle,numero:t.numero,descripcion:t.descripcion,contrato:t.contrato,fallaAdministrativa:t.fallaAdministrativa},e.next=7,Q.crearReporte(a,n.token+"");case 7:if(!(r=e.sent).data.Status){e.next=12;break}return e.abrupt("return",r.data.Mensaje);case 12:throw new Error(r.data.Mensaje);case 13:e.next=16;break;case 15:throw new Error("Los campos que presentan * son obligatorios");case 16:e.next=21;break;case 18:throw e.prev=18,e.t0=e.catch(0),Ze(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function Le(e){return""!=e.colonia&&""!=e.calle&&""!=e.descripcion}function ze(){return(ze=Object(b.a)(j.a.mark((function e(t,n){var a,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=y(),r={idUsuario:a.idUsuario,cliente:a.cliente,fechaInicio:t,fechaFin:n},e.next=5,Q.extraerHistorialReportes(r,a.token+"");case 5:if(!((c=e.sent).data.Mensaje.length<=0)){e.next=10;break}throw ce;case 10:return e.abrupt("return",c.data.Mensaje);case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(0),Ze(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function Fe(e){return Te.apply(this,arguments)}function Te(){return(Te=Object(b.a)(j.a.mark((function e(t){var n,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=y(),a={cliente:n.cliente,idUsuario:n.idUsuario,id:t},e.next=5,Q.extraerReporte(a,String(n.token));case 5:if(!((r=e.sent).data.Mensaje.length<=0)){e.next=10;break}throw ce;case 10:return e.abrupt("return",r.data.Mensaje);case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(0),Ze(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function Ye(e,t,n){return Be.apply(this,arguments)}function Be(){return(Be=Object(b.a)(j.a.mark((function e(t,n,a){var r,c,o,s,i,u,l,b,d;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=y(),c=r.token,o=r.cliente,s=Z.getMonth()+1,i=Z.getFullYear(),u={nCliente:o,datoBusqueda:t,mes:s,a_no:i,Offset:n,sector:a},l=null,"-1"==a){e.next=13;break}return e.next=9,Q.obtenerDatosSectorPalabraClave(u,String(c));case 9:l=e.sent,console.log("Se utiliso el sector: "+a),e.next=16;break;case 13:return e.next=15,Q.extraerContribuyente(u,String(c));case 15:l=e.sent;case 16:if(b=l.data.mensaje,!Array.isArray(b)){e.next=22;break}return e.abrupt("return",b);case 22:throw d=String(b),new Error(d);case 24:e.next=29;break;case 26:throw e.prev=26,e.t0=e.catch(0),Ze(e.t0);case 29:case"end":return e.stop()}}),e,null,[[0,26]])})))).apply(this,arguments)}function _e(e){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(b.a)(j.a.mark((function e(t){var n,a,r,c,o,s,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=y(),a=Z.getMonth()+1,r=Z.getFullYear(),c={cliente:n.cliente,sector:t,mes:a,anio:r},e.next=7,Q.extraerNumeroItems(c,String(n.token));case 7:if(o=e.sent,!(o.data.Mensaje.length>=1)){e.next=17;break}return s=o.data.Mensaje[0].cantidad,(i=s/20)%1>0&&i++,e.abrupt("return",i);case 17:return e.abrupt("return",0);case 18:e.next=23;break;case 20:throw e.prev=20,e.t0=e.catch(0),Ze(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})))).apply(this,arguments)}function qe(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(b.a)(j.a.mark((function e(t,n){var a,r,c,o,s,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=y(),r=Z.getMonth()+1,c=Z.getFullYear(),o={nCliente:a.cliente,Sector:t,mes:r,a_no:c,Offset:n},e.next=7,Q.buscarLecturasPorSector(o,a.token+"");case 7:if(s=e.sent,i=s.data.mensaje,k(JSON.stringify(i)),0!==i.legth&&"No se encontraron registros"!==i){e.next=14;break}throw ce;case 14:return e.abrupt("return",i);case 15:e.next=20;break;case 17:throw e.prev=17,e.t0=e.catch(0),Ze(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function He(){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(b.a)(j.a.mark((function e(){var t,n,a,r,c,o,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=w(),n=t.idLectura,a=t.token,r=t.nCliente,c={idLectura:n,nCliente:r},e.next=5,Q.extraerPromedioContribuyente(c,String(a));case 5:return o=e.sent,s=o.data.Mensaje,s=Math.round(s),e.abrupt("return",s);case 11:throw e.prev=11,e.t0=e.catch(0),Ze(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function Je(){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(b.a)(j.a.mark((function e(){var t,n,a,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=y(),n=t.cliente,a=t.token,r={nCliente:n},e.next=5,Q.obtenerLogoCliente(r,String(a));case 5:c=e.sent,U(String(c.data.Data)),B(String(c.data.Mensaje)),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(0),Ze(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Xe(){return We.apply(this,arguments)}function We(){return(We=Object(b.a)(j.a.mark((function e(){var t,n,a,r,c,o,s,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=w(),n=t.idLectura,a=t.token,r=y(),c=r.cliente,o={nCliente:c,idBusqueda:n},e.next=6,Q.extraerContactoContribuyente(o,String(a));case 6:return s=e.sent,q((i=s.data.Mensaje[0]).Contribuyente),e.abrupt("return",i);case 12:throw e.prev=12,e.t0=e.catch(0),Ze(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function $e(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=Object(b.a)(j.a.mark((function e(t){var n,a,r,c,o,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=w(),a=n.nCliente,r=n.token,c=V(),o={cliente:a,id:c,telefono:t.telefono,email:t.email},e.next=6,Q.guardarContribuyente(o,String(r));case 6:return s=e.sent,e.abrupt("return",s.data.Mensaje);case 10:throw e.prev=10,e.t0=e.catch(0),Ze(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Ze(e){var t=String(e.message),n=String(e.code),a=e;return t.includes("Network Error")?a=ee:t.includes("400")?a=te:n.includes("ECONNABORTED")&&(a=ee),a}function et(){return tt.apply(this,arguments)}function tt(){return(tt=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.checkPermission(h.a.PERMISSION.CAMERA);case 2:return t=e.sent,e.abrupt("return",t.hasPermission);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nt(){return at.apply(this,arguments)}function at(){return(at=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.checkPermission(h.a.PERMISSION.ACCESS_COARSE_LOCATION);case 2:return t=e.sent,e.abrupt("return",t.hasPermission);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(){return(rt=Object(b.a)(j.a.mark((function e(t){var n,a,r,c,o,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=y(),a=n.cliente,r=n.token,c={Cliente:a,Busqueda:t},e.next=5,Q.obtenerContribuyenteInspeccion(c,String(r));case 5:if(o=e.sent,!((s=o.data.mensaje)instanceof Array)){e.next=11;break}return e.abrupt("return",s);case 11:throw ce;case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(0),Ze(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function ct(){return ot.apply(this,arguments)}function ot(){return(ot=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.requestPermissions([h.a.PERMISSION.CAMERA,h.a.PERMISSION.ACCESS_COARSE_LOCATION]);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function st(e){return it.apply(this,arguments)}function it(){return(it=Object(b.a)(j.a.mark((function e(t){var n,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={Cliente:W(),Padron:t},e.next=4,Q.obtenerDatosContribuyentePorPadron(n,D());case 4:if(a=e.sent,console.log(a.data.mensaje.length),!((r=a.data.mensaje).length>0)){e.next=11;break}return e.abrupt("return",r[0]);case 11:throw ce;case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(0),Ze(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function ut(e){return lt.apply(this,arguments)}function lt(){return(lt=Object(b.a)(j.a.mark((function e(t){var n,a,r,c,o,s,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=w(),a=n.token,r=n.nCliente,c=I(),o={Cliente:r,Padron:t,Lectura:c.idLectura},e.next=6,Q.obtenerPromedioEditar(o,String(a));case 6:return s=e.sent,i=s.data.Mensaje,i=Math.round(i),e.abrupt("return",i);case 12:throw e.prev=12,e.t0=e.catch(0),Ze(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function jt(e){return bt.apply(this,arguments)}function bt(){return(bt=Object(b.a)(j.a.mark((function e(t){var n,a,r,c,o,s,i,u,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Buscando por contrato"),n=y(),a=n.cliente,r=n.token,c=Z.getMonth()+1,o=Z.getFullYear(),s={Cliente:a,Contrato:t,mes:c,a_no:o},e.next=8,Q.buscarPorContrato(s,String(r));case 8:if(i=e.sent,u=i.data.Mensaje,console.log(i.data.consulta),$(i.data.Papas),console.log(i.data.Papas),!Array.isArray(u)){e.next=18;break}return e.abrupt("return",u);case 18:throw l=String(u),new Error(l);case 20:e.next=25;break;case 22:throw e.prev=22,e.t0=e.catch(0),Ze(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})))).apply(this,arguments)}function dt(e){return pt.apply(this,arguments)}function pt(){return(pt=Object(b.a)(j.a.mark((function e(t){var n,a,r,c,o,s,i,u,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Buscando por medidor"),n=y(),a=n.cliente,r=n.token,c=Z.getMonth()+1,o=Z.getFullYear(),s={Cliente:a,Contrato:t,mes:c,a_no:o},e.next=8,Q.buscarPorMedidor(s,String(r));case 8:if(i=e.sent,u=i.data.Mensaje,$(i.data.Papas),console.log(i.data.Papas),!Array.isArray(u)){e.next=17;break}return e.abrupt("return",u);case 17:throw l=String(u),new Error(l);case 19:e.next=24;break;case 21:throw e.prev=21,e.t0=e.catch(0),Ze(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})))).apply(this,arguments)}var ht=n(0),Ot=p.e.SplashScreen,ft=function(){var e=Object(s.e)(),t=Object(a.useState)(""),n=Object(d.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(""),u=Object(d.a)(o,2),l=u[0],p=u[1],h=Object(a.useState)(!1),O=Object(d.a)(h,2),f=O[0],x=O[1],m=Object(a.useState)(""),v=Object(d.a)(m,2),S=v[0],y=v[1],k=Object(a.useState)(!1),C=Object(d.a)(k,2),w=C[0],I=C[1];Object(a.useEffect)((function(){Ot.hide(),M(),A()}),[]),Object(i.X)(H);var A=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!=(t=g()).pass&&null!=t.user&&(c(t.user),p(t.pass),I(t.remember));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""==r||""==l||null==r||null==l){t.next=13;break}return t.prev=1,setTimeout((function(){if(f)throw new Error("Tiempo de espera agotado.")}),8e3),t.next=5,he(r,l,w).then(function(){var t=Object(b.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Je();case 2:e.replace("./form-datos-toma.page");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){y(e.message)})).finally((function(){x(!1)}));case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),y(t.t0.message),x(!1);case 11:t.next=15;break;case 13:x(!1),y("Campos vacios");case 15:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(){return t.apply(this,arguments)}}(),M=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct().then((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ht.jsxs)(i.A,{children:[Object(ht.jsx)(i.n,{children:Object(ht.jsx)(i.M,{color:"danger",children:Object(ht.jsx)(i.K,{children:"Inicio de sessi\xf3n"})})}),Object(ht.jsxs)(i.k,{fullscreen:!0,children:[Object(ht.jsxs)(i.e,{class:"ion-text-center",className:"box",children:[Object(ht.jsx)(i.p,{src:"../assets/Imagenes/SUNIPAC_GRP_ROJO.png"}),Object(ht.jsx)(i.r,{className:"input",children:Object(ht.jsx)(i.q,{type:"text",placeholder:"Usuario",onIonChange:function(e){return c(e.detail.value)},value:r})}),Object(ht.jsx)(i.r,{className:"input",children:Object(ht.jsx)(i.q,{type:"password",placeholder:"Contrase\xf1a",onIonChange:function(e){return p(e.detail.value)},value:l})}),Object(ht.jsxs)(i.r,{class:"ion-text-center",children:[Object(ht.jsx)(i.h,{slot:"start",color:"primary",checked:w,onIonChange:function(e){return I(e.detail.checked)}}),Object(ht.jsx)(i.t,{children:"Recordar Usuario y Contrase\xf1a"})]}),Object(ht.jsx)(i.c,{color:"danger",onClick:function(){x(!0),N()},className:"input button",children:"INICIAR SESSI\xd3N"})]}),Object(ht.jsx)(i.v,{cssClass:"my-custom-class",isOpen:f,onDidDismiss:function(){return x(!1)},message:"Por favor espere"}),Object(ht.jsx)(i.a,{cssClass:"my-custom-class",header:"ERROR",message:S,isOpen:S.length>0,onDidDismiss:function(){y("")}})]})]})},xt=(n(115),n(116),n(7)),mt=function(){var e=Object(s.e)(),t=Object(a.useState)(-1),n=Object(d.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(""),u=Object(d.a)(o,2),l=u[0],p=u[1],h=[{title:"Toma de agua",selects:["form-datos-toma.page","datos-contribuyente.page"],icon:xt.C,path:"/form-datos-toma.page"},{title:"Historial de lecturas",selects:["historial-lecturas.page","editar-lecturas-agua.page"],icon:xt.u,path:"/historial-lecturas.page"},{title:"Fallos en infraestructura",selects:["reportes.page"],path:"/reportes.page",icon:xt.n},{title:"Historial reportes",selects:["historial-reportes.page","detalles-reportes.page"],path:"/historial-reportes.page",icon:xt.s},{title:"Salir",selects:["inicio-de-sesion.page"],icon:xt.p}];Object(a.useEffect)((function(){O(),f()}));var O=function(){var e=window.location.pathname.toString().split("/")[1],t=!1;void 0!=e&&(h.map((function(n,a){n.selects.map((function(n,r){n==e&&(console.log(n),c(a),t=!0)}))})),t||c(0))},f=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T().then((function(e){p(String(e))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ht.jsxs)("div",{children:[Object(ht.jsx)(i.w,{side:"start",menuId:"first",contentId:"main-content",children:Object(ht.jsxs)(i.k,{children:[Object(ht.jsx)("div",{className:"center",children:""!=l?Object(ht.jsx)(i.p,{src:"data:image/png;base64,"+l}):Object(ht.jsx)(i.H,{className:"spinerItem",color:"danger",name:"lines"})}),Object(ht.jsx)(i.s,{className:"menuLeft"}),Object(ht.jsx)(i.y,{children:h.map((function(t,n){return Object(ht.jsxs)(i.r,{button:!0,className:n==r?"selected":"",onClick:function(){var n;"Salir"==(n=t).title?N().then((function(t){e.replace("/home")})):e.replace(n.path)},children:[Object(ht.jsx)(i.t,{children:t.title}),Object(ht.jsx)(i.o,{slot:"start",ios:t.icon+"-outline",md:t.icon+"-sharp",color:"blue"})]},n)}))}),Object(ht.jsx)(i.s,{})]})}),Object(ht.jsx)(i.C,{id:"main-content"})]})},gt=function(){var e=Object(s.e)(),t=Object(a.useState)(""),n=Object(d.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)([]),u=Object(d.a)(o,2),l=u[0],p=u[1],h=Object(a.useState)(""),O=Object(d.a)(h,2),f=O[0],x=O[1],m=Object(a.useState)(""),g=Object(d.a)(m,2),v=g[0],y=g[1],k=Object(a.useState)(!1),w=Object(d.a)(k,2),I=w[0],A=w[1],M=Object(a.useState)([]),D=Object(d.a)(M,2),T=D[0],Y=D[1],B=Object(a.useState)(""),_=Object(d.a)(B,2),U=_[0],q=_[1],V=Object(a.useState)(!0),H=Object(d.a)(V,2),X=H[0],W=(H[1],Object(a.useState)(!1)),$=Object(d.a)(W,2),Q=$[0],Z=$[1],ee=Object(a.useState)(!1),te=Object(d.a)(ee,2),ne=te[0],ae=te[1],re=Object(a.useState)("ERROR"),ce=Object(d.a)(re,2),oe=ce[0],se=ce[1],ie=Object(a.useState)(!1),ue=Object(d.a)(ie,2),le=ue[0],je=ue[1],be=Object(a.useState)(String),de=Object(d.a)(be,2),pe=de[0],he=de[1],Oe=Object(a.useState)(!1),fe=Object(d.a)(Oe,2),xe=fe[0],ge=fe[1],ve=Object(a.useState)(Number),Se=Object(d.a)(ve,2),ye=Se[0],ke=Se[1],Ce=Object(a.useState)(!1),we=Object(d.a)(Ce,2),Ie=we[0],Ae=we[1],Ne=Object(a.useState)(String),Me=Object(d.a)(Ne,2),Ee=Me[0],De=Me[1],Re=Object(a.useState)(!1),Pe=Object(d.a)(Re,2),Le=Pe[0],ze=Pe[1],Fe=Object(a.useState)(1),Te=Object(d.a)(Fe,2),Be=Te[0],Ue=Te[1],Ve=Object(a.useState)("Buscar por contrato"),He=Object(d.a)(Ve,2),Ge=He[0],Je=He[1],Ke=Object(a.useState)(""),Xe=Object(d.a)(Ke,2),We=(Xe[0],Xe[1],[{text:"Reintentar",handler:function(){x(""),"sectores"==U?st():it(v)}},{text:"Cancelar",handle:function(){x("")}}]),$e=Object(a.useState)(!0),Qe=Object(d.a)($e,2),Ze=Qe[0],tt=Qe[1],at=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=E(),je(!t),ae(!t),e.next=5,localStorage.getItem("@Storage:clienteNombreCorto");case 5:n=e.sent,De(String(n));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){at()}),[]),Object(a.useEffect)((function(){le?rt(le):ot()}),[le]);var rt=function(t){t&&(se("Sesi\xf3n no valida"),x("Inicie sesi\xf3n por favor\nRegresando..."),Z(!0),setTimeout(Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return se("Error"),x(""),t.next=4,N().then((function(t){e.replace("/home")}));case 4:case"end":return t.stop()}}),t)}))),2500))},ot=function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ct().then(function(){var t=Object(b.a)(j.a.mark((function t(n){var a,r,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,et();case 2:return a=t.sent,t.next=5,nt();case 5:r=t.sent,a&&r?(o=S(),c(o+""),st()):(Z(!0),x("Debe otorgar permisos para usar la aplicaci\xf3n"),ae(!0),setTimeout((function(){e.replace("/home")}),2500));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){var e=S();c(e+""),st()}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),st=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me().then((function(e){return p(e)})).catch((function(e){var t=String(e.message).includes("Sesion no valida");je(t),y(""),t||(x(e.message),q("sectores"))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.X)((function(){tt(!0)}));var it=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ze(!1),A(!0),e.next=4,_e(t).then((function(e){console.log(e),z(parseInt(e+"")),ke(parseInt(e+"")),P(0)}));case 4:return e.next=6,qe(t,0).then((function(e){Ae(!0),Y(e),ge(!1),P(0)})).catch((function(e){Y([]);var t=String(e.message).includes("Sesion no valida");je(t),t||(Z(!0),q("Error"),x(e.message))})).finally((function(){A(!1)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ut=function(){var t=Object(b.a)(j.a.mark((function t(n,a,r,c,o,s){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:2!=o&&3!=o||s||(R(xe),!0===C(n,a,r,c)&&(tt(!1),e.push("/captura-de-lectura.page")));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a,r,c,o){return t.apply(this,arguments)}}(),lt=function(){var e=Object(b.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ze(!1),A(!0),e.next=4,qe(n,t).then((function(e){Y(e),ge(!1)})).catch((function(e){console.log(e),Y([]);var t=String(e.message).includes("Sesion no valida");je(t),t||(Z(!0),q("Error"),x(e.message))})).finally((function(){A(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),bt=function(e){y(e),function(e){localStorage.setItem("@Storage:idSector",e)}(e),it(e)},pt=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ze(!0),e.next=3,Ye(pe,t,"-1").then((function(e){ge(!0),Y(e)})).catch((function(e){var t=String(e.message);t.includes("Sesion no valida")?je(!0):(Z(!0),se("ERROR"),x(t))})).finally((function(){A(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ot=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ze(!0),Y([]),Ae(!1),A(!0),console.log(gt(pe)),e.next=7,jt(gt(pe)).then((function(e){Y(e)})).catch((function(e){Y([]);var t=String(e.message).includes("Sesion no valida");je(t),t||(Z(!0),q("Error"),x(e.message))})).finally((function(){A(!1)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ft=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ze(!0),Y([]),Ae(!1),A(!0),console.log(gt(pe,10)),e.next=7,dt(gt(pe,10)).then((function(e){Y(e)})).catch((function(e){Y([]);var t=String(e.message).includes("Sesion no valida");je(t),t||(Z(!0),q("Error"),x(e.message))})).finally((function(){A(!1)}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function gt(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9;e.length<t;)e="0"+e;return e}return Object(ht.jsxs)(i.A,{children:[Ze?Object(ht.jsx)(mt,{}):Object(ht.jsx)(ht.Fragment,{}),Object(ht.jsx)(i.n,{children:Object(ht.jsxs)(i.M,{color:"danger",children:[Object(ht.jsx)(i.K,{children:"".concat(r," - ").concat(Ee)}),Object(ht.jsx)(i.d,{slot:"start",className:"btnMenu",children:Object(ht.jsx)(i.x,{})})]})}),Object(ht.jsxs)(i.k,{children:[Object(ht.jsxs)(i.e,{class:"ion-text-center",className:"box",children:[Object(ht.jsxs)(i.g,{children:[Object(ht.jsxs)("div",{children:[Object(ht.jsx)("h3",{children:"Lectura de agua potable"}),Object(ht.jsx)(i.t,{children:"Puedes realizar busquedas por:"}),Object(ht.jsx)("p",{children:"Contrato, Medidor, Nombre comercial o nombre del propietario"}),Object(ht.jsx)("br",{})]}),Object(ht.jsxs)(i.m,{children:[Object(ht.jsx)(i.D,{children:Object(ht.jsx)(i.j,{children:Object(ht.jsxs)(i.r,{children:[Object(ht.jsx)(i.t,{children:"Filtrar Por:"}),Object(ht.jsxs)(i.F,{onIonCancel:function(){Ue(1)},value:Be,placeholder:"Seleccione el filtro",interface:"action-sheet",onIonChange:function(e){var t;t=parseInt(e.detail.value+""),Ue(t),1==Be&&Je("Buscar por Medidor"),2==Be&&Je("Buscar por Contrato")},children:[Object(ht.jsx)(i.G,{value:1,children:"Contrato"}),Object(ht.jsx)(i.G,{value:2,children:"Medidor"})]})]})})}),Object(ht.jsxs)(i.D,{children:[Object(ht.jsx)(i.j,{size:"10",children:Object(ht.jsx)(i.r,{children:Object(ht.jsx)(i.q,{type:"number",placeholder:Ge,onIonChange:function(e){var t;t=String(e.detail.value),he(t)}})})}),Object(ht.jsx)(i.j,{size:"2",class:"btnSerch",children:Object(ht.jsx)(i.c,{color:"danger",size:"large",shape:"round",onClick:function(){1==Be&&Ot(),2==Be&&ft()},children:Object(ht.jsx)(i.o,{icon:xt.z,color:"light",size:"large"})})})]}),Object(ht.jsx)(i.r,{children:Object(ht.jsx)(i.t,{className:"center",color:"",children:"o seleccione un sector"})})]}),Object(ht.jsxs)(i.r,{children:[Object(ht.jsx)(i.t,{children:"Sectores"}),Object(ht.jsx)(i.F,{placeholder:"Seleccionar uno",onIonChange:function(e){bt(e.detail.value)},interface:"action-sheet",disabled:ne,cancelText:"Cancelar",value:v,children:null!=l?l.map((function(e,t){return Object(ht.jsx)(i.G,{value:e.id,children:e.Sector},t)})):Object(ht.jsx)(i.G,{disabled:!0,children:"Sin Sectores"})})]})]}),Object(ht.jsxs)(i.f,{children:[Object(ht.jsx)(i.s,{children:Ie?Object(ht.jsx)(i.m,{children:Object(ht.jsxs)(i.D,{children:[Object(ht.jsx)(i.j,{size:"2",children:Object(ht.jsx)(i.c,{shape:"round",color:"danger",size:"small",onClick:Le?function(){A(!0);var e=J();e-1<0?G(e=K()-1):(G(e-1),e--);var t=20*e;console.log(t,pe),pt(t)}:function(){var e=L();e-1<0?P(e=F()-1):(P(e-1),e--);F();lt(20*e,v)},children:Object(ht.jsx)(i.o,{icon:xt.a,size:"small"})})}),Object(ht.jsx)(i.j,{size:"8",children:Object(ht.jsxs)(i.t,{children:["Resultados: Pagina ",Le?J()+1:L()+1," de ",ye]})}),Object(ht.jsx)(i.j,{size:"2",children:Object(ht.jsx)(i.c,{shape:"round",color:"danger",onClick:Le?function(){A(!0);var e=J();G(e+1);var t=0;++e>=K()?(G(0),t=20*(e=0)):t=20*e,console.log(t,pe),pt(t)}:function(){A(!0);var e=L();P(e+1);var t=0;++e>=F()?(P(0),t=20*(e=0)):t=20*e,console.log(t,v),lt(t,v)},children:Object(ht.jsx)(i.o,{icon:xt.c,size:"small"})})})]})}):Object(ht.jsx)(i.t,{className:"center",class:"ion-text-center",children:"Mostrando Resultados"})}),Object(ht.jsx)(i.u,{children:T.map((function(e,t){var n=null!=localStorage.getItem("@Storage:CuentasPapas")?localStorage.getItem("@Storage:CuentasPapas"):"",a=function(e,t){var n="",a=["",!1];switch(1==t&&(n="Cuota Fija "),e){case 1:case 2:a=[n+"",1==t];break;case 3:a=[n+"Baja Temporal",!0];break;case 4:a=[n+"Baja Permanente",!0];break;case 5:a=[n+"Inactivo",!0];break;case 6:a=[n+"Nueva",!0];break;case 9:a=[n+"Sin Toma",!0];break;case 10:a=[n+"Multada",!0]}return a}(parseInt(e.Estatus),parseInt(e.M_etodoCobro)),r=String(n).includes(e.id);return r&&(a[0]+="Desarrollo"),Object(ht.jsx)("div",{className:r||a[1]?"cuotaFija":"",onClick:function(){ut(e.id,e.Contribuyente,e.ContratoVigente,e.Medidor,e.M_etodoCobro,r)},children:Object(ht.jsx)(i.r,{detail:!0,children:Object(ht.jsxs)(i.u,{children:[Object(ht.jsx)(i.t,{children:e.Contribuyente}),Object(ht.jsxs)("p",{children:["Contrato: ",e.ContratoVigente,", Medidor: ",e.Medidor,", Toma: ",e.Toma,"\xa0\xa0\xa0\xa0",r||a[1]?Object(ht.jsx)(i.z,{style:{fontsize:20},color:"danger",children:a[0]}):""]})]})})},t)}))})]})]}),Object(ht.jsx)(i.a,{cssClass:"my-custom-class",header:oe,message:f,isOpen:f.length>0,backdropDismiss:!1,buttons:Q?[{text:"Aceptar",handler:function(){x("")}}]:We}),Object(ht.jsx)(i.v,{cssClass:"my-custom-class",isOpen:I,onDidDismiss:function(){A(!1)},message:"Por favor espere"}),Object(ht.jsx)(i.a,{cssClass:"my-custom-class",header:"ERROR",message:"Para poder hacer uso de todas las funciones de la aplicaci\xf2n por favor acepta los permisos solicitados por la misma",isOpen:!X})]})]})},vt=n(25),St=(n(117),n(79));function yt(){var e=Object(St.a)().getPhoto;return{takePhoto:function(){var t=Object(b.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e({resultType:p.a.Uri,source:p.b.Camera,quality:50});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}}function kt(e){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(b.a)(j.a.mark((function e(t){var n,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Array,new Array,a=[{id:1,mes:"Enero"},{id:2,mes:"Febrero"},{id:3,mes:"Marzo"},{id:4,mes:"Abril"},{id:5,mes:"Mayo"},{id:6,mes:"Junio"},{id:7,mes:"Julio"},{id:8,mes:"Agosto"},{id:9,mes:"Septiembre"},{id:10,mes:"Octubre"},{id:11,mes:"Noviembre"},{id:12,mes:"Diciembre"}],r=Mt(t),n.push({Meses:a}),n.push({Anios:r}),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(e){return function(e){return It.apply(this,arguments)}(e)}function It(){return(It=Object(b.a)(j.a.mark((function e(t){var n,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.blob();case 5:return a=e.sent,e.next=8,At(a);case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function At(e){return Nt.apply(this,arguments)}function Nt(){return(Nt=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var a=new FileReader;a.onerror=n,a.onloadend=function(){var t=a.result;e(t)},a.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mt(e){for(var t=new Array,n=e-10,a=e+3,r=1;n<=a;n++)t.push({id:r,anio:n}),r++;return t}function Et(){return Dt.apply(this,arguments)}function Dt(){return(Dt=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.d.getCurrentPosition();case 3:return t=e.sent,e.abrupt("return",t.coords);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var Rt=function(){var e=Object(s.e)(),t=Object(a.useState)(Object),n=Object(d.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(Number),u=Object(d.a)(o,2),l=u[0],p=u[1],h=Object(a.useState)(""),O=Object(d.a)(h,2),f=O[0],x=O[1],m=Object(a.useState)(!1),g=Object(d.a)(m,2),v=g[0],S=g[1],y=Object(a.useState)([]),k=Object(d.a)(y,2),C=k[0],I=k[1],A=Object(a.useState)(Number),N=Object(d.a)(A,2),M=N[0],D=N[1],P=Object(a.useState)(!1),L=Object(d.a)(P,2),z=L[0],F=L[1],T=Object(a.useState)(""),Y=Object(d.a)(T,2),B=Y[0],_=Y[1],U=Object(a.useState)([]),q=Object(d.a)(U,2),V=q[0],H=q[1],G=Object(a.useState)(-1),J=Object(d.a)(G,2),K=J[0],X=J[1],W=Object(i.V)(),$=Object(d.a)(W,2),Q=$[0],Z=($[1],Object(a.useState)([])),ee=Object(d.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(a.useState)([]),re=Object(d.a)(ae,2),ce=re[0],oe=re[1],se=Object(a.useState)(""),ie=Object(d.a)(se,2),ue=ie[0],le=ie[1],je=Object(a.useState)(Number),be=Object(d.a)(je,2),de=be[0],pe=be[1],he=Object(a.useState)(Number),Oe=Object(d.a)(he,2),fe=Oe[0],xe=Oe[1],me=Object(a.useState)(11),ge=Object(d.a)(me,2),Se=ge[0],ke=ge[1],Ce=Object(a.useState)(Number),we=Object(d.a)(Ce,2),Ie=(we[0],we[1]),Ae=Object(a.useState)([]),Ne=Object(d.a)(Ae,2),Me=Ne[0],Ee=Ne[1],De=yt().takePhoto,Re=Object(a.useState)(!1),Pe=Object(d.a)(Re,2),Le=Pe[0],ze=Pe[1],Fe=Object(a.useState)(!1),Te=Object(d.a)(Fe,2),Ye=Te[0],Be=(Te[1],Object(a.useState)(Number)),_e=Object(d.a)(Be,2),Ue=_e[0],qe=_e[1],Ve=Object(a.useState)(Number),Ge=Object(d.a)(Ve,2),Je=Ge[0],Ke=Ge[1],Xe=Object(a.useState)(Number),We=Object(d.a)(Xe,2),$e=We[0],Qe=We[1],Ze=Object(a.useState)(Number),et=Object(d.a)(Ze,2),tt=et[0],nt=et[1],at=Object(a.useState)(Number),rt=Object(d.a)(at,2),ct=(rt[0],rt[1]),ot=Object(a.useState)(Number),st=Object(d.a)(ot,2),it=st[0],ut=st[1],lt=Object(a.useState)(!1),jt=Object(d.a)(lt,2),bt=jt[0],dt=jt[1],pt=Object(a.useState)(Number),Ot=Object(d.a)(pt,2),ft=Ot[0],gt=Ot[1],St=Object(a.useState)(Number),Ct=Object(d.a)(St,2),It=Ct[0],At=Ct[1],Nt=Object(a.useState)(!1),Dt=Object(d.a)(Nt,2),Rt=Dt[0],Pt=Dt[1],Lt=Object(a.useState)("ERROR"),zt=Object(d.a)(Lt,2),Ft=zt[0],Tt=zt[1],Yt=Object(a.useState)(Number),Bt=Object(d.a)(Yt,2),_t=Bt[0],Ut=Bt[1],qt=Object(a.useState)(String),Vt=Object(d.a)(qt,2),Ht=Vt[0],Gt=Vt[1],Jt=Object(a.useState)(String),Kt=Object(d.a)(Jt,2),Xt=Kt[0],Wt=Kt[1],$t=Object(a.useState)(String),Qt=Object(d.a)($t,2),Zt=Qt[0],en=Qt[1],tn=Object(a.useState)(String),nn=Object(d.a)(tn,2),an=nn[0],rn=nn[1],cn=Object(a.useState)(!1),on=Object(d.a)(cn,2),sn=on[0],un=on[1],ln=Object(a.useState)(20),jn=Object(d.a)(ln,2),bn=jn[0],dn=jn[1],pn=Object(a.useState)(!0),hn=Object(d.a)(pn,2),On=hn[0],fn=hn[1],xn=[{text:"Reintentar",handler:function(){x(""),Tt("Error"),gn()}},{text:"Cancelar"}],mn=new Date,gn=function(){var e=E();vn(e)};Object(a.useEffect)((function(){gn()}),[bt]),Object(a.useEffect)((function(){bt&&D(0)}),[ft]),Object(a.useEffect)((function(){console.log(_t)}),[_t]);var vn=function(t){t?(S(!0),Sn(),gt(0)):(Tt("Sesi\xf3n no valida"),x("Inicie sesi\xf3n por favor\nRegresando..."),setTimeout((function(){Tt("ERROR"),x(""),e.replace("/home")}),2500))};Object(i.X)((function(){fn(!1)})),Object(i.W)((function(){fn(!0)}));var Sn=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=w(),c(t),yn(t.idLectura),dt(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),yn=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He();case 2:return n=e.sent,n=parseFloat(n).toFixed(2),Ut(n),e.next=7,ve(t).then((function(e){if(300!=e.Mensaje){Gt(e.Mensaje[0].Toma),Wt(e.Mensaje[0].Municipio),en(e.Mensaje[0].Localidad),rn(e.Mensaje[0].Direccion);var t=parseInt(e.Mensaje[0].A_no),n=parseInt(e.Mensaje[0].Mes);ut(n),Ie(t),kn(t,e.ValorLectura[0].Valor,n),p(e.Mensaje[0].LecturaActual)}else kn(mn.getFullYear(),"1",mn.getMonth());ze(1==e.BloquearCampos[0].Valor),I(e.Anomalias),ct(e.ValorLectura[0].Valor),D(0)})).catch((function(e){console.log(e),(e.message+"").includes("API")&&Pt(!0),x(e.message)})).finally((function(){S(!1)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kn=function(){var e=Object(b.a)(j.a.mark((function e(t,n,a){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=parseInt(mn.getMonth().toString()),e.next=3,kt(t).then((function(e){switch(le(e[0].Meses[r].mes),pe(e[0].Meses[r].id),oe(e[0].Meses),Ee(e[1].Anios),n){case"1":Cn(t,a,e[0].Meses);break;case"2":wn(t,e[0].Meses[r].id,e[0].Meses,e[1].Anios);break;case"3":In(e[0].Meses)}}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Cn=function(e,t,n){var a=e,r=t+1;Ke(a);var c=function(e){for(var t=new Array,n=(new Date).getFullYear()+1,a=1,r=e;r<=n;r++)t.push({id:a,anio:r}),a++;return t}(e);Ee(c),13==r&&(a=e+1,r=n[0].id,le(n[0].mes),Ke(e+1)),qe(r),pe(r),c.map((function(e,t){e.anio==a&&(ke(e.id),xe(e.anio))})),null==l&&p(0)},wn=function(e,t,n,a){var r=mn.getFullYear(),c=mn.getMonth();n.map((function(e,t){e.id==c&&(pe(e.id),le(e.mes))})),qe(mn.getMonth()),Ke(mn.getFullYear());var o=Mt(r);Ee(o),o.map((function(e,t){r==e.anio&&(ke(e.id),xe(e.anio))})),null==l&&p(0)},In=function(e){var t=mn.getMonth()+1;qe(t);var n=mn.getFullYear(),a=mn.getMonth()+1;13==a&&(n=mn.getFullYear()+1,a=e[0].id,le(e[0].mes),Ke(n),qe(e[0].id)),xe(n),Ke(n),pe(a);var r=Mt(n);Ee(r),r.map((function(e,t){e.anio==n&&ke(e.id)})),null==l&&p(0)},An=function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:S(!1),Tt("Mensaje"),x("Lectura guardada\nRegresado..."),setTimeout((function(){R(!1),e.replace("/form-datos-toma.page")}),2500);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Nn=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,a,c,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,S(!0),setTimeout((function(){if(v)throw 0}),2e4),0==V.length&&z){e.next=16;break}return t=mn.getMonth()+1,n=mn.getFullYear(),e.next=8,Et();case 8:return a=e.sent,c=Rn(),console.log(c),o={route:n+""+t+"/",lecturaAnterior:l,lecturaActual:sn?l:tt,consumoFinal:c,mesCaptura:de,anhioCaptura:fe,fechaCaptura:mn,anomalia:0==$e?"":$e,tipoCoordenada:1,arregloFotos:te,comparaMes:Ue,comparaAnio:Je,lectura:1,arrayAnios:Me,indexAnio:Se,mesLectura:it,nCliente:r.nCliente,token:r.token,idUsuario:r.idUsuario,idToma:r.idLectura,Latidude:String(a.latitude),Longitude:String(a.longitude)},e.next=14,ye(o).then((function(e){An()})).catch((function(e){S(!1),x(e.message)}));case 14:e.next=18;break;case 16:x("Debe capturar almenos 1 foto"),S(!1);case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),S(!1),x("Tiempo de espera agotado.\n            Aseg\xfarese de activar la ubicaci\xf3n del dispositivo");case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}(),Mn=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,De().then(function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V.length<=2?(S(!0),En(t.webPath+"")):(S(!1),x("Solo se permiten 3 fotos como m\xe1ximo"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){(e.message+"").includes("denied")&&x("La aplicaci\xf3n no tiene permisos para usar la c\xe1mara")})).finally((function(){S(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),En=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wt(t).then((function(e){_(t),H((function(e){return[].concat(Object(vt.a)(e),[t])})),X(V.length),ne((function(t){return[].concat(Object(vt.a)(t),[e])}))})).finally((function(){S(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Dn=function(e){var t=Number(e);return isNaN(t)?"00":String(t<=9?"0"+t:t)},Rn=function(){var e=0;return 0!=$e?sn?e=_t<bn?bn:_t:(M<_t&&(e=_t),_t<bn&&(e=bn),bn<M&&(e=M)):e=M,47==$e&&(e=bn),99==$e&&(e=tt<bn?bn:tt),24==$e&&(e=_t),D(e),e};return Object(ht.jsxs)(i.A,{children:[On?Object(ht.jsx)(mt,{}):Object(ht.jsx)(ht.Fragment,{}),Object(ht.jsx)(i.n,{children:Object(ht.jsxs)(i.M,{color:"danger",children:[Object(ht.jsx)(i.K,{children:"Captura de lectura"}),Object(ht.jsx)(i.d,{slot:"start",className:"btnMenu",children:Object(ht.jsx)(i.x,{})})]})}),Object(ht.jsxs)(i.k,{children:[Object(ht.jsxs)(i.e,{children:[Object(ht.jsx)(i.g,{className:"headerData",children:Object(ht.jsxs)("div",{className:"datosContribuyete",children:[Object(ht.jsx)("h3",{children:r.contribuyente}),Object(ht.jsxs)("p",{children:["Contrato: ",r.contratoVigente,", \xa0\xa0 Medidor: ",r.medidor,", \xa0\xa0 Toma: ",Ht]}),Object(ht.jsxs)("p",{children:["Municipio: ",Xt,", \xa0\xa0 Localidad: ",Zt]}),Object(ht.jsx)("p",{children:"Direcci\xf3n: ".concat(an)}),Object(ht.jsx)(i.m,{children:Object(ht.jsxs)(i.D,{children:[Object(ht.jsx)(i.j,{size:"11"}),Object(ht.jsx)(i.j,{size:"1",children:Object(ht.jsx)(i.i,{color:"danger",onClick:function(){e.push("/datos-contribuyente.page")},children:Object(ht.jsx)(i.o,{icon:xt.t,className:"btnEditar"})})})]})})]})}),Object(ht.jsxs)(i.f,{children:[Object(ht.jsx)("br",{}),Object(ht.jsxs)(i.r,{children:[Object(ht.jsx)(i.t,{children:"Lectura anterior:"}),Object(ht.jsx)(i.q,{disabled:!0,className:"disabledInput",children:"".concat(l)})]}),Object(ht.jsx)("br",{}),Object(ht.jsxs)(i.r,{children:[Object(ht.jsx)(i.t,{children:"Lectura actual:"}),Object(ht.jsx)(i.q,{disabled:sn,type:"number",placeholder:"0",value:ft,onIonChange:function(e){!function(e){var t=e-l;nt(e),gt(e),isNaN(t)?D(0):D(t)}(parseFloat(e.detail.value+""))}})]}),Object(ht.jsx)("br",{}),Object(ht.jsxs)(i.r,{children:[Object(ht.jsx)(i.t,{children:"Consumo:"}),Object(ht.jsx)(i.q,{disabled:!0,className:"disabledInput",value:M})]}),Object(ht.jsx)("br",{}),Object(ht.jsxs)(i.r,{children:[Object(ht.jsx)(i.t,{children:"Fecha de lectura:"}),Object(ht.jsx)(i.l,{disabled:!0,displayFormat:"DD/MM/YYYY",min:"2000",max:"2026",value:"".concat(mn)})]}),Object(ht.jsx)("br",{}),Object(ht.jsxs)(i.r,{children:[Object(ht.jsx)(i.t,{children:"Anomal\xeda"}),Object(ht.jsx)(i.F,{interface:"action-sheet",onIonCancel:function(){F(!1),At(0),un(!1)},value:It,onIonChange:function(e){!function(e){Qe(e),At(e),D(_t),un(0!=e),C.map((function(t,n){t.id==e&&(F(!0),console.log(t.ActualizarAdelante+" - "+t.ActualizarAtras+" Se activa: "+(0==parseInt(t.ActualizarAdelante)||0==parseInt(t.ActualizarAtras))),1==parseInt(t.ActualizarAdelante)||1==parseInt(t.ActualizarAtras)?(un(!1),nt(ft)):(un(!0),nt(l)),dn(t.Minima),0!=ft&&(console.log("Procesando Consumo"),D(Rn())),24==e&&D(_t))}))}(e.detail.value)},children:C.map((function(e,t){return Object(ht.jsx)(i.G,{value:e.id,children:"".concat(e.clave<=10?Dn(e.clave):e.clave," - ").concat(e.descripci_on)},t)}))})]}),Object(ht.jsx)("br",{}),function(){if(z)return Object(ht.jsxs)("div",{children:[Object(ht.jsxs)(i.r,{children:[Object(ht.jsx)(i.t,{children:"Adjuntar evidencia (maximo 3 fotos)"}),Object(ht.jsx)(i.o,{icon:xt.d,className:"iconStyle",onClick:Mn})]}),V.length>0?Object(ht.jsx)(i.r,{children:Object(ht.jsx)(i.D,{children:V.map((function(e,t){return Object(ht.jsx)(i.j,{children:Object(ht.jsx)(i.p,{src:e,onClick:function(){!function(e,t){_(e),X(t)}(e,t)},className:"imgFormat"})},t)}))})}):Object(ht.jsx)(ht.Fragment,{})]})}(),""!=B?Object(ht.jsx)(i.r,{children:Object(ht.jsxs)(i.e,{className:"centrar",children:[Object(ht.jsx)(i.p,{src:B}),Object(ht.jsx)(i.f,{children:Object(ht.jsxs)(i.d,{children:[Object(ht.jsx)(i.c,{color:"secondary",onClick:function(){_("")},children:"Cerrar"}),Object(ht.jsx)(i.c,{color:"danger",onClick:function(){!function(){var e=new Array,t=new Array;V.map((function(t,n){n!=K&&e.push(t)})),te.map((function(e,n){n!=K&&t.push(e)})),H(e),ne(t),_(""),Q({message:"Se elimino la foto de la lista'",duration:2e3,position:"top",buttons:[{side:"start",icon:xt.f}]})}()},children:"Eliminar"})]})})]})}):Object(ht.jsx)(ht.Fragment,{}),Object(ht.jsxs)(i.r,{children:[Object(ht.jsx)(i.t,{children:"Mes: "}),Object(ht.jsx)(i.F,{interface:"action-sheet",value:de,selectedText:"".concat(ue),disabled:Le,onIonChange:function(e){return t=e.detail.value,void ce.map((function(e,n){e.id==t&&(pe(e.id),le(e.mes))}));var t},children:ce.map((function(e,t){return Object(ht.jsx)(i.G,{value:e.id,children:e.mes},t)}))})]}),Object(ht.jsxs)(i.r,{children:[Object(ht.jsx)(i.t,{children:"A\xf1o: "}),Object(ht.jsx)(i.F,{interface:"action-sheet",value:Se,selectedText:"".concat(fe),disabled:Le,onIonChange:function(e){return t=e.detail.value,void Me.map((function(e,n){e.id==t&&(xe(e.anio),ke(e.id))}));var t},children:Me.map((function(e,t){return Object(ht.jsx)(i.G,{value:e.id,children:e.anio},t)}))})]}),Object(ht.jsx)("br",{}),Object(ht.jsx)("div",{className:"centrar",children:Object(ht.jsx)(i.m,{children:Object(ht.jsxs)(i.D,{children:[Object(ht.jsx)(i.j,{size:"4",children:Object(ht.jsxs)(i.c,{color:"secondary",onClick:function(){e.replace("/form-datos-toma.page")},children:[Object(ht.jsx)(i.o,{icon:xt.i,slot:"start"}),"Regresar"]})}),Object(ht.jsx)(i.j,{size:"4"}),Object(ht.jsx)(i.j,{size:"4",children:Object(ht.jsxs)(i.c,{color:"danger",onClick:Nn,disabled:Ye,children:["Guardar",Object(ht.jsx)(i.o,{icon:xt.x,slot:"end"})]})})]})})})]})]}),Object(ht.jsx)(i.a,{cssClass:"my-custom-class",header:Ft,message:f,isOpen:f.length>0,backdropDismiss:!1,buttons:Rt?xn:[{text:"Aceptar",handler:function(){x("")}}]}),Object(ht.jsx)(i.v,{cssClass:"my-custom-class",isOpen:v,onDidDismiss:function(){S(!1)},message:"Por favor espere"})]})]})},Pt=function(){var e=new Date,t=Object(s.e)(),n=Object(a.useState)(""),r=Object(d.a)(n,2),c=r[0],o=r[1],u=Object(a.useState)(""),l=Object(d.a)(u,2),p=l[0],h=l[1],O=Object(a.useState)(!1),f=Object(d.a)(O,2),x=f[0],m=f[1],g=Object(a.useState)([]),v=Object(d.a)(g,2),S=v[0],y=v[1],k=Object(a.useState)(""),C=Object(d.a)(k,2),w=C[0],I=C[1],A=Object(a.useState)("MENSAJE"),M=Object(d.a)(A,2),D=M[0],R=M[1],P=Object(a.useState)(!1),L=Object(d.a)(P,2),z=L[0],F=L[1],T=Object(a.useState)(!1),Y=Object(d.a)(T,2),B=Y[0],_=Y[1],U=Object(a.useState)(Boolean),q=Object(d.a)(U,2),V=q[0],H=q[1],G=[{text:"Reintentar",handler:function(){I(""),_(!1),K(c,p)}},{text:"Cancelar",handler:function(){_(!1)}}];Object(a.useEffect)((function(){o(e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()),h(e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()),console.log(c,"\n\n",p),function(){var e=E();H(!e),F(!e)}()}),[]),Object(a.useEffect)((function(){J()}),[V]);Object(i.X)((function(){var e=null!=localStorage.getItem("@Storage:lecturaDesde")?{desde:localStorage.getItem("@Storage:lecturaDesde"),hasta:localStorage.getItem("@Storage:lecturaHasta")}:null;null!=e&&(o(String(e.desde)),h(String(e.hasta)),K(String(e.desde),String(e.hasta)))}));var J=function(){V&&(R("Sesi\xf3n no valida"),I("Inicie sesi\xf3n por favor\nRegresando..."),setTimeout((function(){N().then((function(e){R("MENSAJE"),I(""),t.replace("/home")}))}),2500))},K=function(){var e=Object(b.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!X(t,n)){e.next=7;break}return m(!0),e.next=5,Ne(t,n).then((function(e){e.Status?(console.log(e.Mensaje),y(e.Mensaje)):(y([]),R("MENSAJE"),I("No se encontraron resultados."))})).catch((function(e){console.log(e);var t=String(e.message);H(t.includes("Sesion no valida")),_(t.includes("API")),V||(R("ERROR"),I(t))})).finally((function(){m(!1)}));case 5:e.next=9;break;case 7:R("Mensaje"),I("Selecci\xf3n de fechas no validas");case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),X=function(e,t){return new Date(e)<=new Date(t)},W=function(e){var n,a,r,o,s,i;n=c,a=p,localStorage.setItem("@Storage:lecturaDesde",n),localStorage.setItem("@Storage:lecturaHasta",a),r=e.idLectura,o=e.ContratoVigente,s=e.Contribuyente,i=e.Medidor,localStorage.setItem("@Storage:editarIdLectura",r),localStorage.setItem("@Storage:editarContratoVigente",o),localStorage.setItem("@Storage:editarNContribuyente",s),localStorage.setItem("@Storage:editarMedidor",i),t.replace("/editar-lecturas-agua.page")};return Object(ht.jsx)(i.A,{children:Object(ht.jsxs)(i.k,{children:[Object(ht.jsx)(mt,{}),Object(ht.jsx)(i.n,{children:Object(ht.jsxs)(i.M,{color:"danger",children:[Object(ht.jsx)(i.K,{children:"Historial de lecturas"}),Object(ht.jsx)(i.d,{slot:"start",className:"btnMenu",children:Object(ht.jsx)(i.x,{})})]})}),Object(ht.jsxs)(i.e,{children:[Object(ht.jsx)(i.g,{children:Object(ht.jsx)("div",{className:"center",children:Object(ht.jsx)("h5",{children:"Seleccione la fecha"})})}),Object(ht.jsx)(i.r,{children:Object(ht.jsx)(i.m,{children:Object(ht.jsxs)(i.D,{children:[Object(ht.jsx)(i.j,{size:"6",children:Object(ht.jsxs)("div",{className:"center",children:[Object(ht.jsx)("label",{children:"Desde: "}),Object(ht.jsx)(i.l,{disabled:z,value:c,displayFormat:"DD-MM-YYYY",pickerFormat:"DD-MM-YYYY",cancelText:"Cancelar",doneText:"Aceptar",onIonChange:function(e){!function(e){o(e.split("T")[0]),console.log(c)}(e.detail.value+"")},children:c})]})}),Object(ht.jsx)(i.j,{size:"6",children:Object(ht.jsxs)("div",{className:"center",children:[Object(ht.jsx)("label",{children:"Hasta: "}),Object(ht.jsx)(i.l,{disabled:z,value:p,displayFormat:"DD-MM-YYYY",cancelText:"Cancelar",doneText:"Aceptar",onIonChange:function(e){!function(e){h(e.split("T")[0]),console.log(p)}(e.detail.value+"")},children:p})]})})]})})}),Object(ht.jsx)("br",{}),Object(ht.jsx)("div",{className:"center",children:Object(ht.jsx)(i.c,{disabled:z,color:"danger",onClick:function(){K(c,p)},children:"Generar"})})]}),Object(ht.jsx)(i.e,{children:Object(ht.jsx)(i.f,{children:Object(ht.jsx)(i.u,{children:S.map((function(e,t){return Object(ht.jsxs)(i.r,{onClick:function(){W(e)},children:[Object(ht.jsxs)(i.u,{children:[Object(ht.jsx)("h6",{children:e.Fecha}),Object(ht.jsx)("label",{children:e.Contribuyente}),Object(ht.jsx)("br",{}),Object(ht.jsx)("label",{children:"Contrato: ".concat(e.ContratoVigente," , Medidor: ").concat(e.Medidor,", Toma: ").concat(e.Toma)})]}),Object(ht.jsx)("label",{slot:"end",children:Object(ht.jsx)(i.o,{icon:xt.o,color:"primary"})})]},t)}))})})}),Object(ht.jsx)(i.v,{cssClass:"my-custom-class",isOpen:x,onDidDismiss:function(){m(!1)},message:"Por favor espere"}),Object(ht.jsx)(i.a,{cssClass:"my-custom-class",header:D,message:w,isOpen:w.length>0,backdropDismiss:!1,onDidDismiss:function(){_(!1)},buttons:B?G:[{text:"Aceptar",handler:function(){I("")}}]})]})})},Lt=function(){var e=Object(s.e)(),t=Object(a.useState)(Object),n=Object(d.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(!1),u=Object(d.a)(o,2),l=u[0],p=u[1],h=Object(a.useState)([]),O=Object(d.a)(h,2),f=O[0],x=O[1],m=Object(a.useState)(!0),g=Object(d.a)(m,2),v=g[0],S=g[1],y=Object(a.useState)(Number),k=Object(d.a)(y,2),C=(k[0],k[1]),w=Object(a.useState)(Number),A=Object(d.a)(w,2),M=A[0],D=A[1],R=Object(a.useState)(Number),P=Object(d.a)(R,2),L=P[0],z=P[1],F=Object(a.useState)(Number),T=Object(d.a)(F,2),Y=T[0],B=T[1],_=Object(a.useState)(Number),U=Object(d.a)(_,2),q=U[0],V=U[1],H=Object(a.useState)(String),G=Object(d.a)(H,2),J=G[0],K=G[1],X=Object(a.useState)([]),W=Object(d.a)(X,2),$=W[0],Q=W[1],Z=Object(a.useState)([]),ee=Object(d.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(Number),re=Object(d.a)(ae,2),ce=re[0],oe=re[1],se=Object(a.useState)(Number),ie=Object(d.a)(se,2),ue=ie[0],le=ie[1],je=Object(a.useState)(Number),be=Object(d.a)(je,2),de=be[0],pe=be[1],he=Object(a.useState)(Number),Oe=Object(d.a)(he,2),fe=Oe[0],xe=Oe[1],me=Object(a.useState)(Date),ge=Object(d.a)(me,2),ve=ge[0],Se=ge[1],ye=Object(a.useState)(String),ke=Object(d.a)(ye,2),Ce=ke[0],we=ke[1],Ie=Object(a.useState)(!1),Ae=Object(d.a)(Ie,2),Ne=Ae[0],Me=Ae[1],De=Object(a.useState)(!1),Re=Object(d.a)(De,2),Pe=Re[0],Le=Re[1],ze=Object(a.useState)(!1),Fe=Object(d.a)(ze,2),Te=(Fe[0],Fe[1]),Ye=Object(a.useState)(!1),Be=Object(d.a)(Ye,2),_e=Be[0],Ue=Be[1],qe=Object(a.useState)(String),Ve=Object(d.a)(qe,2),He=Ve[0],Ge=Ve[1],Je=Object(a.useState)(!1),Ke=Object(d.a)(Je,2),Xe=Ke[0],We=Ke[1],$e=Object(a.useState)(0),Qe=Object(d.a)($e,2),Ze=Qe[0],et=Qe[1],tt=Object(a.useState)(Number),nt=Object(d.a)(tt,2),at=nt[0],rt=nt[1],ct=Object(a.useState)(20),ot=Object(d.a)(ct,2),st=ot[0],it=ot[1],lt=Object(a.useState)(Number),jt=Object(d.a)(lt,2),bt=jt[0],dt=jt[1],pt=(new Date,[{text:"Reintentar",handler:function(){K(""),"onLoad"==He?Ot():yt()}},{text:"Aceptar",handler:function(){Ge(""),K("")}}]),Ot=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),t=I(),c(t),e.next=5,Ee().then((function(e){e.Status?(console.log(e.Mensaje),c(e.Mensaje[0]),vt(parseInt(e.Mensaje[0].A_no)),gt(e)):(we("Mensaje"),K("No se encontraron resultados."))})).catch((function(e){var t=String(e.message);Le(t.includes("API"));var n=t.includes("Sesion no valida");console.log("El toke es valido ?",n),Ue(n),n||(Ge("onLoad"),K(e.message),we("ERROR"))})).finally((function(){p(!1)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){!function(){var e=E();Ue(!e),Te(!e)}()}),[M]),Object(a.useEffect)((function(){ft(_e)}),[_e]);var ft=function(t){t?(we("Sesi\xf3n no valida"),K("Inicie sesi\xf3n por favor\nRegresando..."),setTimeout(Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return K(""),we("MENSAJE"),t.next=4,N().then((function(t){e.replace("/home")}));case 4:case"end":return t.stop()}}),t)}))),2500)):Ot()},gt=function(){var t=Object(b.a)(j.a.mark((function t(n){var a,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(n.tipoLectura[0].Valor),0==n.bloqueoCampos[0].Valor?S(!1):S(!0),C(n.tipoLectura[0].Valor),x(n.Anomalias),1!=(a=n.tipoLectura[0].Valor)&&2!=a&&3!=a){t.next=14;break}return D(n.Mensaje[0].A_no),z(n.Mensaje[0].Mes),B(n.Mensaje[0].A_no),V(n.Mensaje[0].Mes),t.next=12,ut(n.Mensaje[0].Padr_onAgua).then((function(e){rt(e)})).catch((function(e){rt(0)}));case 12:t.next=17;break;case 14:we("ERROR"),K("Consulte con su administrador que el c\xf3digo de lecturas de agua se encuentre en el rango de 1-3"),setTimeout((function(){e.goBack()}),2e3);case 17:r=n.Mensaje[0],oe(r.Consumo),r.Consumo,le(r.LecturaActual),dt(r.LecturaActual),pe(r.LecturaAnterior),null==r.Observaci_on?xe(0):xe(r.Observaci_on),Se(r.FechaLectura);case 25:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),vt=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(t);case 2:n=e.sent,Q(n[1].Anios),ne(n[0].Meses);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),St=function(e){var t=e-de;le(e),isNaN(t)?oe(0):oe(t)},yt=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(!0),console.log(M,L,r.Padr_onAgua),0==(t=wt())?(we("MENSAJE"),K("No se ha calculado el consumo"),p(!1)):t<0?(we("MENSAJE"),K("La lectura actual no puede ser menor a la anterior"),p(!1)):(n={anhioLectura:M,consumo:t,fechaLectura:ve,lecturaActual:ue,lecturaAnterior:de,mesLectura:L,tipoAnomalia:fe,validarAnhio:Y,validarMes:q,idPadron:r.Padr_onAgua},console.log(n),p(!1));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ct=function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ne&&(Me(!1),e.replace("/historial-lecturas.page"));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),wt=function(){var e=0;return console.log(Ze),0!=Ze?Xe?e=at<st?st:at:(ce<at&&(e=at),at<st&&(e=st),st<ce&&(e=ce)):e=ce<st&&ce>0?st:ce,47==fe&&(e=st),99==fe&&(e=ue<st?st:ue),24==fe&&(e=at),oe(e),e};return Object(ht.jsxs)(i.A,{children:[Object(ht.jsx)(mt,{}),Object(ht.jsx)(i.n,{children:Object(ht.jsxs)(i.M,{color:"danger",children:[Object(ht.jsx)(i.K,{children:"Editar lectura"}),Object(ht.jsx)(i.d,{slot:"start",className:"btnMenu",children:Object(ht.jsx)(i.x,{})})]})}),Object(ht.jsxs)(i.k,{children:[Object(ht.jsxs)(i.e,{children:[Object(ht.jsx)(i.g,{children:Object(ht.jsxs)("div",{className:"datosContribuyete",children:[Object(ht.jsx)("h3",{children:r.Nombre}),Object(ht.jsxs)("p",{children:["Contrato: ",r.ContratoVigente,", \xa0\xa0 Medidor: ",r.Medidor,", \xa0\xa0 Toma: ",r.Toma]}),Object(ht.jsxs)("p",{children:["Municipio: ",r.Municipio,", \xa0\xa0 Localidad: ",r.Localidad]}),Object(ht.jsxs)("p",{children:["Colonia: ",r.Colonia," \xa0\xa0 Calle: ",r.Calle," \xa0\xa0 Exterior: ",r.Exterior," \xa0\xa0 Interior: ",r.Interior]})]})}),Object(ht.jsxs)(i.f,{children:[Object(ht.jsx)("br",{}),Object(ht.jsxs)(i.r,{children:[Object(ht.jsx)(i.t,{children:" Lectura anterior:"}),Object(ht.jsx)(i.q,{disabled:!0,value:de})]}),Object(ht.jsx)("br",{}),Object(ht.jsxs)(i.r,{children:[Object(ht.jsx)(i.t,{children:"Lectura actual:"}),Object(ht.jsx)(i.q,{disabled:!0,value:ue,onIonChange:function(e){St(parseFloat(e.detail.value+""))}})]}),Object(ht.jsx)("br",{}),Object(ht.jsxs)(i.r,{children:[Object(ht.jsx)(i.t,{children:"Consumo :"}),Object(ht.jsx)(i.q,{disabled:!0,value:ce})]}),Object(ht.jsx)("br",{}),Object(ht.jsxs)(i.r,{children:[Object(ht.jsx)(i.t,{children:"Fecha de lectura: "}),Object(ht.jsx)(i.l,{disabled:!0,displayFormat:"DD/MM/YYYY",value:ve})]}),Object(ht.jsx)("br",{}),Object(ht.jsxs)(i.r,{children:[Object(ht.jsx)(i.t,{children:"Anomal\xeda:"}),Object(ht.jsxs)(i.F,{disabled:!0,placeholder:"Seleccione uno",interface:"action-sheet",cancelText:"Cancelar",value:fe,onIonCancel:function(){xe(0),et(0),We(!1),St(ue),le(bt)},onIonChange:function(e){var t;t=e.detail.value,et(t),xe(t),f.map((function(e,n){e.id==t&&(1==parseInt(e.ActualizarAdelante)||1==parseInt(e.ActualizarAtras)?We(!1):(We(!0),le(de)),it(e.Minima),console.log(e.Minima+"Consumo calculado"),0!=ue&&oe(wt()),24==t&&oe(at))}))},children:[Object(ht.jsx)(i.G,{value:null}),f.map((function(e,t){return Object(ht.jsx)(i.G,{value:e.id,children:"".concat(e.clave,"-").concat(e.descripci_on)},t)}))]})]}),Object(ht.jsx)("br",{}),Object(ht.jsxs)(i.r,{children:[Object(ht.jsx)(i.t,{children:" Mes: "}),Object(ht.jsx)(i.F,{disabled:v,interface:"action-sheet",placeholder:"Seleccione uno",cancelText:"Cancelar",value:L,onIonChange:function(e){var t;t=e.detail.value,z(parseInt(t))},children:te.map((function(e,t){return Object(ht.jsx)(i.G,{value:e.id,children:e.mes},t)}))})]}),Object(ht.jsx)("br",{}),Object(ht.jsxs)(i.r,{children:[Object(ht.jsx)(i.t,{children:"A\xf1o: "}),Object(ht.jsx)(i.F,{disabled:v,interface:"action-sheet",placeholder:"Seleccione uno",cancelText:"Cancelar",value:M,onIonChange:function(e){var t;t=e.detail.value,D(parseInt(t))},children:$.map((function(e,t){return Object(ht.jsx)(i.G,{value:e.anio,children:e.anio},t)}))})]}),Object(ht.jsx)("br",{}),Object(ht.jsx)("div",{className:"centrar",children:Object(ht.jsx)(i.m,{children:Object(ht.jsx)(i.D,{children:Object(ht.jsx)(i.j,{children:Object(ht.jsxs)(i.c,{color:"secondary",onClick:function(){e.replace("/historial-lecturas.page"),console.log("Regresando")},children:["Regresar",Object(ht.jsx)(i.o,{icon:xt.i,slot:"start"})," "]})})})})})]})]}),Object(ht.jsx)(i.a,{cssClass:"my-custom-class",header:Ce,message:J,isOpen:J.length>0,backdropDismiss:!1,buttons:Pe?pt:[{text:"Aceptar",handler:function(){K("")}}]}),Object(ht.jsx)(i.L,{isOpen:Ne,onDidDismiss:Ct,message:"Los datos se actualizaron correctamente",duration:2e3,position:"top",buttons:[{side:"end",icon:xt.g,handler:Ct}]}),Object(ht.jsx)(i.v,{cssClass:"my-custom-class",isOpen:l,onDidDismiss:function(){p(!1)},message:"Por favor espere"})]})]})},zt=(n(118),function(){var e=Object(s.e)(),t=Object(a.useState)(String),n=Object(d.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(String),u=Object(d.a)(o,2),l=u[0],p=u[1],h=Object(a.useState)(String),O=Object(d.a)(h,2),f=O[0],x=O[1],m=Object(a.useState)(String),g=Object(d.a)(m,2),v=g[0],S=g[1],y=Object(a.useState)(!1),k=Object(d.a)(y,2),C=k[0],w=k[1],I=Object(a.useState)(String),A=Object(d.a)(I,2),M=A[0],D=A[1],R=Object(a.useState)(String),P=Object(d.a)(R,2),L=P[0],z=P[1],F=Object(a.useState)(!1),T=Object(d.a)(F,2),Y=T[0],B=T[1],_=Object(a.useState)(!1),U=Object(d.a)(_,2),q=U[0],V=U[1],H=Object(a.useState)(!1),G=Object(d.a)(H,2),J=G[0],K=G[1],X=Object(a.useState)(String),W=Object(d.a)(X,2),$=W[0],Q=W[1],Z=Object(a.useState)(!1),ee=Object(d.a)(Z,2),te=ee[0],ne=ee[1],ae=[{text:"Reintentar",handler:function(){D(""),oe()}},{text:"Aceptar",handler:function(){D(""),console.log("Cancelando")}}],re=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=E(),V(!t),B(!t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){re()}),[]),Object(a.useEffect)((function(){ce()}),[q]);var ce=function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:q&&(z("Sesi\xf3n no valida"),D("Inicie sesi\xf3n por favor\nRegresando..."),setTimeout((function(){N().then((function(t){D(""),e.replace("/home")}))}),2500));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),oe=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),t={colonia:r,calle:l,numero:f,descripcion:v,contrato:$,fallaAdministrativa:te?1:0},e.next=4,Re(t).then((function(e){K(!1),se(),z("Mensaje"),D(e)})).catch((function(e){z("ERROR");var t=String(e.message);K(t.includes("API"));var n=t.includes("Sesion no valida");V(n),n?console.log("El token ya expiro"):D(t)})).finally((function(){w(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){c(""),p(""),x(""),S(""),Q("")};return Object(ht.jsxs)(i.A,{children:[Object(ht.jsx)(mt,{}),Object(ht.jsx)(i.n,{children:Object(ht.jsxs)(i.M,{color:"danger",children:[Object(ht.jsx)(i.K,{children:"Fallos en infraestructura"}),Object(ht.jsx)(i.d,{slot:"start",className:"btnMenu",children:Object(ht.jsx)(i.x,{})})]})}),Object(ht.jsxs)(i.k,{children:[Object(ht.jsx)("br",{}),Object(ht.jsxs)(i.e,{children:[Object(ht.jsx)(i.g,{children:Object(ht.jsx)("div",{className:"centrado",children:Object(ht.jsxs)("h5",{children:["Los campos que presentan",Object(ht.jsx)(i.I,{color:"danger",children:"*"}),"son obligatorios"]})})}),Object(ht.jsxs)(i.f,{children:[Object(ht.jsxs)(i.r,{children:[Object(ht.jsx)(i.t,{children:"Selecciones aqui si es una falla administrativa"}),Object(ht.jsx)(i.h,{color:"danger",onIonChange:function(e){var t;t=e.detail.checked,ne(t)}})]}),Object(ht.jsxs)(i.r,{children:[Object(ht.jsxs)(i.t,{position:"floating",className:"input",children:["Colonia ",Object(ht.jsx)(i.I,{color:"danger",children:"*"})]}),Object(ht.jsx)(i.q,{disabled:Y,onIonChange:function(e){var t;t=e.detail.value+"",c(t)},value:r})]}),Object(ht.jsxs)(i.r,{children:[Object(ht.jsxs)(i.t,{position:"floating",className:"input",children:["Calle",Object(ht.jsx)(i.I,{color:"danger",children:"*"})]}),Object(ht.jsx)(i.q,{disabled:Y,onIonChange:function(e){var t;t=e.detail.value+"",p(t)},value:l})]}),Object(ht.jsxs)(i.r,{children:[Object(ht.jsx)(i.t,{position:"floating",className:"input",children:"N\xfamero"}),Object(ht.jsx)(i.q,{disabled:Y,type:"number",onIonChange:function(e){var t;t=e.detail.value+"",x(t)},value:f})]}),Object(ht.jsxs)(i.r,{children:[Object(ht.jsx)(i.t,{position:"floating",className:"input",children:"Contrato"}),Object(ht.jsx)(i.q,{disabled:Y,type:"number",onIonChange:function(e){var t;t=String(e.detail.value),Q(t)}})]}),Object(ht.jsxs)(i.r,{children:[Object(ht.jsxs)(i.t,{position:"floating",className:"input",children:["Descripcion de la falla".concat(te?" administrativa":""),Object(ht.jsx)(i.I,{color:"danger",children:"*"})]}),Object(ht.jsx)(i.J,{disabled:Y,onIonChange:function(e){var t;t=e.detail.value+"",S(t)},value:v})]}),Object(ht.jsx)("br",{}),Object(ht.jsx)("br",{}),Object(ht.jsx)("div",{className:"centrar",children:Object(ht.jsx)(i.c,{disabled:Y,color:"primary",onClick:oe,children:"Crear reporte"})})]})]}),Object(ht.jsx)(i.a,{cssClass:"my-custom-class",header:L,message:M,isOpen:M.length>0,backdropDismiss:!1,buttons:J?ae:[{text:"Aceptar",handler:function(){D(""),console.log("Cancelando")}}]}),Object(ht.jsx)(i.v,{cssClass:"my-custom-class",isOpen:C,onDidDismiss:function(){w(!1)},message:"Por favor espere"})]})]})}),Ft=function(){var e=Object(s.e)(),t=Object(a.useState)(String),n=Object(d.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(String),u=Object(d.a)(o,2),l=u[0],j=u[1],b=Object(a.useState)(String),p=Object(d.a)(b,2),h=p[0],O=p[1],f=Object(a.useState)(String),x=Object(d.a)(f,2),m=x[0],g=x[1],v=Object(a.useState)(String),S=Object(d.a)(v,2),y=S[0],k=S[1],C=Object(a.useState)(String),w=Object(d.a)(C,2),I=w[0],A=w[1],M=Object(a.useState)(!1),D=Object(d.a)(M,2),R=D[0],P=D[1],L=Object(a.useState)([]),z=Object(d.a)(L,2),F=z[0],T=z[1],Y=Object(a.useState)(!1),B=Object(d.a)(Y,2),_=B[0],U=B[1],q=Object(a.useState)(!1),V=Object(d.a)(q,2),H=V[0],G=V[1],J=Object(a.useState)(!0),K=Object(d.a)(J,2),X=K[0],W=K[1],$=[{text:"Reintentar",handler:function(){k(""),ee(r,l)}},{text:"Cancelar",handler:function(){P(!1),k("")}}],Q=new Date;Object(a.useEffect)((function(){var e=Q.getFullYear()+"-"+(Q.getMonth()+1)+"-"+Q.getDate();c(e),j(e),O(e),g(e),function(){var e=E();G(!e),W(!e)}()}),[]),Object(a.useEffect)((function(){Z(H)}),[H]);Object(i.X)((function(){var e=null!=localStorage.getItem("@Storage:reporteDesde")?{desde:localStorage.getItem("@Storage:reporteDesde"),hasta:localStorage.getItem("@Storage:reporteHasta")}:null;console.log(e),null!=e&&(c(String(e.desde)),j(String(e.hasta)),ee(String(e.desde),String(e.hasta)))}));var Z=function(t){t?(A("Sesi\xf3n no valida"),k("Inicie sesi\xf3n por favor\nRegresando..."),N(),setTimeout((function(){e.replace("./home")}),2500)):console.log("La session es valida")},ee=function(e,t){ne(e,t)?(P(!0),function(e,t){return ze.apply(this,arguments)}(e,t).then((function(e){T(e)})).catch((function(e){console.log(e),T([]);var t=String(e.message);U(t.includes("API")),G(t.includes("Sesion no valida"));var n=t.includes("Sesion no valida")&&t.includes("API");A(n?"ERROR":"MENSAJE"),k(t)})).finally((function(){P(!1)}))):(A("MENSAJE"),k("Selecci\xf3n de fechas no validas"))},te=function(t){var n,a;n=r,a=l,localStorage.setItem("@Storage:reporteDesde",n),localStorage.setItem("@Storage:reporteHasta",a),function(e){localStorage.setItem("@Storage:idReporte",String(e))}(t),e.replace("/detalles-reportes.page")},ne=function(e,t){var n=new Date(e),a=new Date(t);return console.log(n,a,n<=a),n<=a};return Object(ht.jsx)(i.A,{children:Object(ht.jsxs)(i.k,{children:[Object(ht.jsx)(mt,{}),Object(ht.jsx)(i.n,{children:Object(ht.jsxs)(i.M,{color:"danger",children:[Object(ht.jsx)(i.K,{children:"Historial Reportes"}),Object(ht.jsx)(i.d,{slot:"start",className:"btnMenu",children:Object(ht.jsx)(i.x,{})})]})}),Object(ht.jsxs)(i.e,{children:[Object(ht.jsx)(i.g,{className:"center",children:Object(ht.jsx)("div",{children:Object(ht.jsx)("h5",{children:"Seleccione la fecha"})})}),Object(ht.jsx)(i.r,{children:Object(ht.jsx)(i.m,{children:Object(ht.jsxs)(i.D,{children:[Object(ht.jsx)(i.j,{size:"6",children:Object(ht.jsxs)("div",{className:"center",children:[Object(ht.jsx)("label",{children:"Desde: "}),Object(ht.jsx)(i.l,{disabled:X,onIonChange:function(e){!function(e){c(e)}(e.detail.value+"")},placeholder:h,displayFormat:"DD-MM-YYYY",pickerFormat:"DD-MM-YYYY",cancelText:"Cancelar",doneText:"Aceptar",value:r,children:r})]})}),Object(ht.jsx)(i.j,{children:Object(ht.jsxs)("div",{className:"center",children:[Object(ht.jsx)("label",{children:"Hasta: "}),Object(ht.jsx)(i.l,{disabled:X,onIonChange:function(e){!function(e){j(e)}(e.detail.value+"")},placeholder:m,displayFormat:"DD-MM-YYYY",pickerFormat:"DD-MM-YYYY",cancelText:"Cancelar",doneText:"Aceptar",value:l,children:l})]})})]})})}),Object(ht.jsx)("br",{}),Object(ht.jsx)("div",{className:"center",children:Object(ht.jsx)(i.c,{disabled:X,color:"danger",onClick:function(){ee(r,l)},children:"Generar"})})]}),Object(ht.jsx)(i.e,{children:Object(ht.jsx)(i.f,{children:Object(ht.jsx)(i.u,{children:F.map((function(e,t){return Object(ht.jsxs)(i.r,{onClick:function(){te(e.id)},children:[Object(ht.jsxs)(i.u,{children:[Object(ht.jsx)("h6",{children:e.Fecha}),Object(ht.jsx)("label",{children:e.Colonia}),Object(ht.jsx)("br",{}),Object(ht.jsx)("label",{children:"Calle: ".concat(e.Calle)}),Object(ht.jsx)("br",{}),Object(ht.jsx)("label",{children:"Colonia: ".concat(e.Colonia)})]}),Object(ht.jsx)("label",{slot:"end",children:Object(ht.jsx)(i.o,{icon:xt.o,color:"primary"})})]},t)}))})})}),Object(ht.jsx)(i.a,{isOpen:y.length>0,backdropDismiss:!1,header:I,message:y,buttons:_?$:[{text:"Aceptar",handler:function(){k(""),U(!1)}}]}),Object(ht.jsx)(i.v,{isOpen:R,message:"Espere por favor"})]})})},Tt=(n(119),function(){var e=Object(s.e)(),t=Object(a.useState)(String),n=Object(d.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(String),u=Object(d.a)(o,2),l=u[0],p=u[1],h=Object(a.useState)(String),O=Object(d.a)(h,2),f=O[0],x=O[1],m=Object(a.useState)(String),g=Object(d.a)(m,2),v=g[0],S=g[1],y=Object(a.useState)(String),k=Object(d.a)(y,2),C=k[0],w=k[1],I=Object(a.useState)(String),A=Object(d.a)(I,2),N=(A[0],A[1]),M=Object(a.useState)(!1),D=Object(d.a)(M,2),R=D[0],P=D[1],L=Object(a.useState)(String),z=Object(d.a)(L,2),F=z[0],T=z[1],Y=Object(a.useState)(String),B=Object(d.a)(Y,2),_=B[0],U=B[1],q=Object(a.useState)(!1),V=Object(d.a)(q,2),H=V[0],G=V[1],J=Object(a.useState)(!1),K=Object(d.a)(J,2),X=K[0],W=K[1],$=Object(a.useState)(String),Q=Object(d.a)($,2),Z=Q[0],ee=Q[1],te=[{text:"Reintentar",handler:function(){T(""),re()}},{text:"Aceptar",handler:function(){T(""),P(!1)}}],ne=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W(!E()),console.log("El error es por que el token es null ",!X),t={userName:localStorage.getItem("@Storage:userName"),id:localStorage.getItem("@Storage:idReporte")},n=t.id,p(String(t.userName)),c(String(n));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){re()}),[r]),Object(a.useEffect)((function(){U(H?"Error":"Mensaje")}),[H]),Object(a.useEffect)((function(){ae()}),[X]);var ae=function(){X&&(T("ERROR"),T("Inicie sesi\xf3n por favor\nRegresando..."),setTimeout((function(){e.replace("./home")}),2500))},re=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(!0),Fe(r).then((function(e){var t=e[0],n=t.Calle,a=t.Colonia,r=t.Descripcion,c=t.Fecha,o=t.Numero;S(n),x(a),ee(r),N(c),w(o)})).catch((function(e){var t=String(e.message);G(t.includes("API"));var n=t.includes("Sesion no valida");W(n),n&&T(t)})).finally((function(){P(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){ne()}),[]);return Object(ht.jsx)(i.A,{children:Object(ht.jsxs)(i.k,{children:[Object(ht.jsx)(mt,{}),Object(ht.jsxs)(i.M,{color:"danger",children:[Object(ht.jsx)(i.K,{children:"Reportes"}),Object(ht.jsx)(i.d,{slot:"start",className:"btnMenu",children:Object(ht.jsx)(i.x,{})})]}),Object(ht.jsxs)(i.e,{children:[Object(ht.jsx)(i.g,{children:Object(ht.jsx)("h6",{className:"center",children:"Reporto: ".concat(l)})}),Object(ht.jsx)(i.f,{children:Object(ht.jsxs)(i.m,{children:[Object(ht.jsx)(i.D,{children:Object(ht.jsx)(i.j,{size:"12",children:Object(ht.jsx)("h3",{className:"center",children:"Colonia: ".concat(f)})})}),Object(ht.jsx)("br",{}),Object(ht.jsxs)(i.D,{children:[Object(ht.jsx)(i.j,{size:"6",className:"center",children:"Calle: ".concat(v)}),Object(ht.jsx)(i.j,{size:"6",className:"center",children:"Numero: ".concat(C)})]}),Object(ht.jsx)("br",{}),Object(ht.jsx)(i.D,{children:Object(ht.jsx)(i.j,{size:"12",className:"center",children:"Descripci\xf3n"})}),Object(ht.jsx)(i.D,{className:"backgroundColor",children:Object(ht.jsx)(i.j,{size:"12",children:Object(ht.jsx)(i.I,{children:Z})})}),Object(ht.jsx)("br",{}),Object(ht.jsx)("div",{className:"center",children:Object(ht.jsxs)(i.c,{color:"secondary",onClick:function(){e.replace("/historial-reportes.page")},children:["Regresar",Object(ht.jsx)(i.o,{icon:xt.i,slot:"start"})]})})]})})]}),Object(ht.jsx)(i.a,{isOpen:F.length>0,header:_,message:F,backdropDismiss:!1,buttons:H?te:[{text:"Aceptar",handler:function(){T("")}}]}),Object(ht.jsx)(i.v,{isOpen:R,message:"Espere por favor"})]})})}),Yt=(n(120),function(){var e=Object(s.e)(),t=Object(a.useState)(Object),n=Object(d.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(String),u=Object(d.a)(o,2),l=u[0],p=u[1],h=Object(a.useState)(String),O=Object(d.a)(h,2),f=O[0],x=O[1],m=Object(a.useState)(String),g=Object(d.a)(m,2),v=g[0],S=g[1],y=Object(a.useState)(String),k=Object(d.a)(y,2),C=k[0],w=k[1],I=Object(a.useState)(!1),A=Object(d.a)(I,2),M=A[0],E=A[1],D=Object(a.useState)(!0),R=Object(d.a)(D,2),P=R[0],L=R[1],z=Object(a.useState)(!1),F=Object(d.a)(z,2),T=F[0],Y=F[1],B=Object(a.useState)(String),_=Object(d.a)(B,2),U=_[0],q=_[1];Object(a.useEffect)((function(){G()}),[]),Object(a.useEffect)((function(){H()}),[T]);var V=[{text:"Reintentar",handler:function(){S(""),"onLoad"==U?G():J()}},{text:"Aceptar",handler:function(){S("")}}],H=function(){T&&(w("Session no valida"),S("Inicie sesi\xf3n por favor\nRegresando..."),L(!0),setTimeout(Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N().then((function(t){w("Error"),S(""),e.replace("/home")}));case 2:case"end":return t.stop()}}),t)}))),2500))},G=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,Xe().then((function(e){p(null==e.Celular?"":e.Celular),x(null==e.Email?"":e.Email),c(e)})).catch((function(e){L(!1);var t=String(e.message);t.includes("Sesion no valida")||(w("ERROR"),q("onLoad"),S(t))})).finally((function(){E(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),t={telefono:l,email:f},e.next=4,$e(t).then((function(e){L(!0),w("MENSAJE"),S(e)})).catch((function(e){q("onUpdate");var t=String(e.message),n=t.includes("Sesion no valida"),a=t.includes("API");L(a),n?Y(!0):(L(!1),w("Error"),S(e.message))})).finally((function(){E(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ht.jsx)(i.A,{children:Object(ht.jsxs)(i.k,{fullscreen:!0,children:[Object(ht.jsx)(mt,{}),Object(ht.jsx)(i.n,{children:Object(ht.jsxs)(i.M,{color:"danger",children:[Object(ht.jsx)(i.K,{children:"Detalles contribuyente"}),Object(ht.jsx)(i.d,{slot:"start",className:"btnMenu",children:Object(ht.jsx)(i.x,{})})]})}),Object(ht.jsxs)(i.e,{children:[Object(ht.jsx)(i.g,{className:"headerData",children:Object(ht.jsxs)("div",{className:"datosContribuyete",children:[Object(ht.jsx)("h3",{children:r.Nombre}),Object(ht.jsxs)("p",{children:["Contrato: ",r.ContratoVigente,", \xa0\xa0 Medidor: ",r.Medidor,", \xa0\xa0 Toma: ",r.Toma]}),Object(ht.jsxs)("p",{children:["Municipio: ",r.Municipio,", \xa0\xa0 Localidad: ",r.Localidad]}),Object(ht.jsxs)("p",{children:["Colonia: ",r.Colonia," \xa0\xa0 Calle: ",r.Calle," \xa0\xa0 Exterior: ",r.Exterior," \xa0\xa0 Interior: ",r.Interior]})]})}),Object(ht.jsxs)(i.f,{className:"centrar",children:[Object(ht.jsx)(i.r,{children:Object(ht.jsx)(i.t,{className:"center",color:"",children:"Datos de contacto"})}),Object(ht.jsx)("br",{}),Object(ht.jsxs)(i.r,{children:[Object(ht.jsx)(i.t,{className:"input",position:"floating",children:"Telefono"}),Object(ht.jsx)(i.q,{type:"tel",placeholder:"Telefono del contribuyente",value:l,onIonChange:function(e){var t;t=String(e.detail.value),p(t)}})]}),Object(ht.jsxs)(i.r,{children:[Object(ht.jsx)(i.t,{className:"input",position:"floating",children:"Correo Electronico"}),Object(ht.jsx)(i.q,{type:"email",placeholder:"Correo Electronico",value:f,onIonChange:function(e){var t;t=String(e.detail.value),x(t)}})]}),Object(ht.jsx)("br",{}),Object(ht.jsx)(i.m,{children:Object(ht.jsxs)(i.D,{children:[Object(ht.jsx)(i.j,{size:"4",children:Object(ht.jsxs)(i.c,{color:"secondary",onClick:function(){console.log("REGRESANDO!!"),e.replace("/captura-de-lectura.page")},children:["Regresar",Object(ht.jsx)(i.o,{icon:xt.i,slot:"start"})]})}),Object(ht.jsx)(i.j,{size:"4"}),Object(ht.jsx)(i.j,{size:"4",children:Object(ht.jsxs)(i.c,{color:"danger",onClick:J,children:["Guardar",Object(ht.jsx)(i.o,{icon:xt.y,slot:"end"})]})})]})})]})]}),Object(ht.jsx)(i.a,{isOpen:v.length>0,header:C,message:v,backdropDismiss:!1,buttons:P?["Aceptar"]:V}),Object(ht.jsx)(i.v,{cssClass:"my-custom-class",isOpen:M,message:"Por favor espere",backdropDismiss:!1})]})})}),Bt=(n(121),function(){var e=Object(s.e)(),t=Object(a.useState)(String),n=Object(d.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)([]),u=Object(d.a)(o,2),l=u[0],j=u[1],b=function(){c(r),""!=r&&function(e){return rt.apply(this,arguments)}(r).then((function(e){j(e)})).catch((function(e){j([])}))},p=function(t){var n;n=t.id,localStorage.setItem("@Storage:inspeccionPadron",n),e.replace("/inspeccion-agregar.page")};return Object(a.useEffect)((function(){b()}),[r]),Object(ht.jsxs)(i.A,{children:[Object(ht.jsx)(mt,{}),Object(ht.jsx)(i.n,{children:Object(ht.jsxs)(i.M,{color:"danger",children:[Object(ht.jsx)(i.K,{children:"Agregar Inspeccci\xf3n"}),Object(ht.jsx)(i.d,{slot:"start",className:"btnMenu",children:Object(ht.jsx)(i.x,{})})]})}),Object(ht.jsx)(i.k,{fullscreen:!0,children:Object(ht.jsxs)(i.e,{children:[Object(ht.jsx)(i.n,{class:"ion-text-center",className:"box",children:Object(ht.jsxs)("div",{children:[Object(ht.jsx)("h3",{children:"Seleccione un contribuyente"}),Object(ht.jsx)(i.t,{children:"Puedes realizar busquedas por:"}),Object(ht.jsx)("p",{children:"Contrato, Medidor, Nombre comercial o nombre del propietario"}),Object(ht.jsx)("br",{})]})}),Object(ht.jsxs)(i.f,{children:[Object(ht.jsx)(i.E,{placeholder:"Contrato Vigente",value:r,onIonChange:function(e){c(e.detail.value)}}),Object(ht.jsxs)(i.u,{children:[Object(ht.jsx)(i.s,{}),l.length>0?l.map((function(e,t){return Object(ht.jsx)(i.r,{detail:!0,onClick:function(){p(e)},children:Object(ht.jsxs)(i.u,{children:[Object(ht.jsx)(i.t,{children:e.Contribuyente}),Object(ht.jsxs)("p",{children:["Contrato: ",e.ContratoVigente,", Medidor: ",e.Medidor,", Toma: ",e.Toma]})]})},t)})):""]})]})]})})]})}),_t=(n(122),function(){var e=Object(s.e)(),t=Object(i.V)(),n=Object(d.a)(t,2),r=n[0],c=(n[1],Object(a.useState)(Object)),o=Object(d.a)(c,2),u=o[0],l=o[1],p=Object(a.useState)(String),h=Object(d.a)(p,2),O=(h[0],h[1],Object(a.useState)(String)),f=Object(d.a)(O,2),x=(f[0],f[1]),m=Object(a.useState)(String),g=Object(d.a)(m,2),v=g[0],S=(g[1],Object(a.useState)(!1)),k=Object(d.a)(S,2),C=k[0],w=k[1],I=Object(a.useState)(""),A=Object(d.a)(I,2),N=A[0],M=A[1],D=Object(a.useState)([]),R=Object(d.a)(D,2),P=R[0],L=R[1],z=Object(a.useState)(-1),F=Object(d.a)(z,2),T=F[0],Y=F[1],B=Object(a.useState)([]),_=Object(d.a)(B,2),U=_[0],q=_[1],V=Object(a.useState)("ERROR"),H=Object(d.a)(V,2),G=H[0],J=H[1],K=Object(a.useState)(!1),W=Object(d.a)(K,2),$=W[0],Q=(W[1],Object(a.useState)("")),Z=Object(d.a)(Q,2),ee=Z[0],te=Z[1],ne=Object(a.useState)(!1),ae=Object(d.a)(ne,2),re=ae[0],ce=ae[1],oe=[{text:"Reintentar",handler:function(){te(""),J("Error"),ie()}},{text:"Cancelar"}],se=yt().takePhoto;Object(a.useEffect)((function(){ue()}),[]);var ie=function(){var e=E();be(e)},ue=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=y(),console.log(t.cliente+" - "+X()),null==X()){e.next=5;break}return e.next=5,st(String(X())).then((function(e){console.log(e),l(e)})).catch((function(e){x(e.mensaje)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,se().then(function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P.length<=2?(w(!0),je(t.webPath+"")):(w(!1),te("Solo se permiten 3 fotos como m\xe1ximo"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){(e.message+"").includes("denied")&&te("La aplicaci\xf3n no tiene permisos para usar la c\xe1mara")})).finally((function(){w(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wt(t).then((function(e){M(t),L((function(e){return[].concat(Object(vt.a)(e),[t])})),Y(P.length),q((function(t){return[].concat(Object(vt.a)(t),[e])})),ce(!0)})).finally((function(){w(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(t){t?w(!0):(J("Sesi\xf3n no valida"),te("Inicie sesi\xf3n por favor\nRegresando..."),setTimeout((function(){J("ERROR"),te(""),e.replace("/home")}),2500))};return Object(ht.jsxs)(i.A,{children:[Object(ht.jsx)(mt,{}),Object(ht.jsx)(i.n,{children:Object(ht.jsxs)(i.M,{color:"danger",children:[Object(ht.jsx)(i.K,{children:"Agregar Inspeccci\xf3n"}),Object(ht.jsx)(i.d,{slot:"start",className:"btnMenu",children:Object(ht.jsx)(i.x,{})})]})}),Object(ht.jsxs)(i.k,{children:[Object(ht.jsxs)(i.e,{children:[Object(ht.jsx)(i.g,{className:"headerData",children:Object(ht.jsxs)("div",{className:"datosContribuyete",children:[Object(ht.jsx)("h3",{children:u.Nombre}),Object(ht.jsxs)("p",{children:["Contrato: ",u.ContratoVigente,", \xa0\xa0 Medidor: ",u.Medidor,", \xa0\xa0 Toma: ",u.Toma]}),Object(ht.jsxs)("p",{children:["Municipio: ",u.Municipio,", \xa0\xa0 Localidad: ",u.Localidad]}),Object(ht.jsx)("p",{children:"Direcci\xf3n: ".concat(u.Colonia," ").concat(u.Calle," ").concat(u.NoExterior," ").concat(u.NoInterior," ").concat(u.CPostal)})]})}),Object(ht.jsx)(i.s,{}),Object(ht.jsx)("p",{className:"centrar",children:"Ingrese el motivo"}),Object(ht.jsx)(i.J,{className:"borderTextArea",rows:4,value:v,placeholder:"Ingrese el motivo de la inspecci\xf3n"}),Object(ht.jsx)(i.s,{}),Object(ht.jsx)(i.m,{children:Object(ht.jsxs)(i.D,{children:[Object(ht.jsx)(i.j,{size:"10",children:"Adjuntar evidencia (maximo 3 fotos)"}),Object(ht.jsx)(i.j,{size:"2",children:Object(ht.jsx)(i.o,{icon:xt.d,className:"iconStyle",onClick:le})}),Object(ht.jsxs)(i.j,{size:"12",children:[function(){if(re)return Object(ht.jsxs)("div",{children:[Object(ht.jsxs)(i.r,{children:[Object(ht.jsx)(i.t,{children:"Adjuntar evidencia (maximo 3 fotos)"}),Object(ht.jsx)(i.o,{icon:xt.d,className:"iconStyle",onClick:le})]}),P.length>0?Object(ht.jsx)(i.r,{children:Object(ht.jsx)(i.D,{children:P.map((function(e,t){return Object(ht.jsx)(i.j,{children:Object(ht.jsx)(i.p,{src:e,onClick:function(){!function(e,t){M(e),Y(t)}(e,t)},className:"imgFormat"})},t)}))})}):Object(ht.jsx)(ht.Fragment,{})]})}(),""!=N?Object(ht.jsx)(i.r,{children:Object(ht.jsxs)(i.e,{className:"centrar",children:[Object(ht.jsx)(i.p,{src:N}),Object(ht.jsx)(i.f,{children:Object(ht.jsxs)(i.d,{children:[Object(ht.jsx)(i.c,{color:"secondary",onClick:function(){M("")},children:"Cerrar"}),Object(ht.jsx)(i.c,{color:"danger",onClick:function(){!function(){var e=new Array,t=new Array;P.map((function(t,n){n!=T&&e.push(t)})),U.map((function(e,n){n!=T&&t.push(e)})),L(e),q(t),M(""),r({message:"Se elimino la foto de la lista'",duration:2e3,position:"top",buttons:[{side:"start",icon:xt.f}]})}()},children:"Eliminar"})]})})]})}):Object(ht.jsx)(ht.Fragment,{})]})]})})]}),Object(ht.jsx)(i.a,{cssClass:"my-custom-class",header:G,message:ee,isOpen:ee.length>0,backdropDismiss:!1,buttons:$?oe:[{text:"Aceptar",handler:function(){te("")}}]}),Object(ht.jsx)(i.v,{cssClass:"my-custom-class",isOpen:C,onDidDismiss:function(){w(!1)},message:"Por favor espere"})]})]})}),Ut=(n(123),n(124),n(125),n(126),n(127),n(128),n(129),n(130),n(131),n(132),n(133),function(){return Object(ht.jsx)(i.b,{children:Object(ht.jsx)(u.a,{children:Object(ht.jsxs)(i.C,{children:[Object(ht.jsx)(s.b,{exact:!0,path:"/home",children:Object(ht.jsx)(ft,{})}),Object(ht.jsx)(s.b,{exact:!0,path:"/",children:Object(ht.jsx)(s.a,{to:"/home"})}),Object(ht.jsx)(s.b,{exact:!0,path:"/form-datos-toma.page",children:Object(ht.jsx)(gt,{})}),Object(ht.jsx)(s.b,{exact:!0,path:"/captura-de-lectura.page",children:Object(ht.jsx)(Rt,{})}),Object(ht.jsx)(s.b,{exact:!0,path:"/historial-lecturas.page",children:Object(ht.jsx)(Pt,{})}),Object(ht.jsx)(s.b,{exact:!0,path:"/editar-lecturas-agua.page",children:Object(ht.jsx)(Lt,{})}),Object(ht.jsx)(s.b,{exact:!0,path:"/reportes.page",children:Object(ht.jsx)(zt,{})}),Object(ht.jsx)(s.b,{exact:!0,path:"/historial-reportes.page",children:Object(ht.jsx)(Ft,{})}),Object(ht.jsx)(s.b,{exact:!0,path:"/detalles-reportes.page",children:Object(ht.jsx)(Tt,{})}),Object(ht.jsx)(s.b,{exact:!0,path:"/datos-contribuyente.page",children:Object(ht.jsx)(Yt,{})}),Object(ht.jsx)(s.b,{exact:!0,path:"/inspeccciones.page",children:Object(ht.jsx)(Bt,{})}),Object(ht.jsx)(s.b,{exact:!0,path:"/inspeccion-agregar.page",children:Object(ht.jsx)(_t,{})})]})})})});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var qt=function(e){e&&e instanceof Function&&n.e(58).then(n.bind(null,197)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};o.a.render(Object(ht.jsx)(r.a.StrictMode,{children:Object(ht.jsx)(Ut,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),qt()},86:function(e,t,n){var a={"./ion-action-sheet.entry.js":[137,5],"./ion-alert.entry.js":[138,6],"./ion-app_8.entry.js":[139,7],"./ion-avatar_3.entry.js":[140,17],"./ion-back-button.entry.js":[141,18],"./ion-backdrop.entry.js":[142,43],"./ion-button_2.entry.js":[143,19],"./ion-card_5.entry.js":[144,20],"./ion-checkbox.entry.js":[145,21],"./ion-chip.entry.js":[146,22],"./ion-col_3.entry.js":[147,44],"./ion-datetime_3.entry.js":[148,10],"./ion-fab_3.entry.js":[149,23],"./ion-img.entry.js":[150,45],"./ion-infinite-scroll_2.entry.js":[151,46],"./ion-input.entry.js":[152,24],"./ion-item-option_3.entry.js":[153,25],"./ion-item_8.entry.js":[154,26],"./ion-loading.entry.js":[155,27],"./ion-menu_3.entry.js":[156,28],"./ion-modal.entry.js":[157,8],"./ion-nav_2.entry.js":[158,14],"./ion-popover.entry.js":[159,9],"./ion-progress-bar.entry.js":[160,29],"./ion-radio_2.entry.js":[161,30],"./ion-range.entry.js":[162,31],"./ion-refresher_2.entry.js":[163,11],"./ion-reorder_2.entry.js":[164,16],"./ion-ripple-effect.entry.js":[165,47],"./ion-route_4.entry.js":[166,32],"./ion-searchbar.entry.js":[167,33],"./ion-segment_2.entry.js":[168,34],"./ion-select_3.entry.js":[169,35],"./ion-slide_2.entry.js":[170,48],"./ion-spinner.entry.js":[171,13],"./ion-split-pane.entry.js":[172,49],"./ion-tab-bar_2.entry.js":[173,36],"./ion-tab_2.entry.js":[174,15],"./ion-text.entry.js":[175,37],"./ion-textarea.entry.js":[176,38],"./ion-toast.entry.js":[177,39],"./ion-toggle.entry.js":[178,12],"./ion-virtual-scroll.entry.js":[179,50]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=86,e.exports=r},88:function(e,t,n){var a={"./ion-icon.entry.js":[180,57]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=88,e.exports=r},96:function(e,t,n){}},[[134,3,4]]]);
//# sourceMappingURL=main.76956349.chunk.js.map