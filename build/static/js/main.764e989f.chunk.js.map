{"version":3,"sources":["controller/storageController.ts","controller/apiController.ts","api/api-laravel.service.ts","pages/Home.tsx","components/left-menu.tsx","pages/form-datos-toma/form-datos-toma.page.tsx","utilities.ts","pages/captura-de-lectura/captura-de-lectura.page.tsx","pages/historial-lecturas/historial-lecturas.page.tsx","pages/editar-lecturas-agua/editar-lecturas-agua.page.tsx","pages/reportes/reportes.page.tsx","pages/historial-reportes/historial-reportes.page.tsx","pages/detalle-reporte/detalle-reporte.page.tsx","pages/datos-contribuyente/datos-del-contribuyente.tsx","pages/inspecciones/inspeccciones.page.tsx","pages/inspeccion-agregar/inspeccion-agregar.page.tsx","App.tsx","serviceWorkerRegistration.ts","reportWebVitals.ts","index.tsx","../node_modules/@ionic/core/dist/esm-es5 lazy /^/.//.*/.entry/.js$/ groupOptions: {} namespace object","../node_modules/ionicons/dist/esm lazy /^/.//.*/.entry/.js$/ include: //.entry/.js$/ exclude: //.system/.entry/.js$/ groupOptions: {} namespace object"],"names":["restoreUser","remenberMe","localStorage","getItem","value","pass","user","remember","removeItem","guardarDatosCliente","basicData","recordar","setItem","contrasenia","usuario","String","idUsuario","cliente","token","userName","console","log","getUsuario","obtenerDatosCliente","guardarContratos","contratos","guardarDatosLectura","idLectura","contribuyente","contratoVigente","medidor","getDatosLecturaStorage","nCliente","extraerDatosEditarLectura","contrato","obtenerDatosClienteEditar","datosLectura","idConsulta","cerrarSesion","a","verifyingSession","obtenerToken","setContribuyenteBuscado","setPuntero","getPuntero","cursor","puntero","Number","isNaN","setNumeroPaginas","getNumeroPaginas","noPages","pages","getLogoStorage","setLogoStorage","logoEncode","setClienteNombreCorto","clienteNombreCorto","setContribuyente","getContribuyente","clearState","setPunteroBusqueda","getPunteroBusqueda","data","getPaginasBusqueda","getInspeccionPadronAgua","obtnerCliente","setCuentasPapas","papas","service","axios","post","headers","date","Date","netwokError","Error","sesionNotValidError","failedLoginError","userNotValidError","lecturaCodeError","noRowSelect","LecturaNull","LecturaMenor","mesMayor","mesRegistrado","anioMayor","anioRegistrado","mesIgual","API223","APIError","Login","password","remerber","acceso","passwd","getAuth","result","Status","datosUsuario","NombreCompleto","verificarUsuarioLecturista","verified","conectionError","userData","datos","buscarSectores","datosConsulta","Sectores","extraerDatosLectura","keyLectura","extraesDatosLectura","tipoLectura","ValorLectura","Valor","guardarCaptura","datosCaptura","validarDatosLectura","enviarDatosLectura","anomalia","parseInt","lectura","arrayAnios","mesActual","getMonth","isInteger","NaN","lecturaActual","consumo","consumoFinal","anioSeleccionado","indexAnio","anio","comparaMes","mesCaptura","comparaAnio","mesLectura","anhioSeleccionado","anhioCaptura","anhioActual","getFullYear","idToma","lecturaAnterior","fechaCaptura","latitud","Latidude","longitud","Longitude","tipoCoordenada","fotos","arregloFotos","ruta","route","code","Mensaje","message","historialFechas","fechaInicio","fechaFin","fechaInicioH","fechaFinH","extraerHistorial","getDatosLecturaEditar","extraerDatoseditar","crearReporte","validarDatosReporte","datosreporte","colonia","calle","numero","descripcion","fallaAdministrativa","extraerHistorialReportes","length","extraerReporte","id","obtenerContribuyente","busqueda","offset","sector","mes","datoBusqueda","a_no","Offset","obtenerDatosSectorPalabraClave","extraerContribuyente","mensaje","Array","isArray","obtenerTotalDatosSectores","extraerNumeroItems","items","cantidad","lecturasPorSectorPage","Sector","buscarLecturasPorSector","Papas","JSON","stringify","legth","obtenerPromedioConsumo","extraerPromedioContribuyente","Math","round","obtenerLogo","obtenerLogoCliente","logo","Data","obtenerDatosContribuyente","idBusqueda","extraerContactoContribuyente","Contribuyente","actualizarContribuyente","contacto","telefono","email","guardarContribuyente","error","errorMessage","errorCode","typeError","includes","verifyCameraPermission","AndroidPermissions","checkPermission","PERMISSION","CAMERA","hasPermission","verifyGPSPermission","ACCESS_COARSE_LOCATION","Cliente","Busqueda","obtenerContribuyenteInspeccion","listaDatos","solicitarPermisos","requestPermissions","obtnerContribuyenteInspeccion","Padron","obtenerDatosContribuyentePorPadron","datosContribuyente","obtenerPromedioEditar","padron","Lectura","buscarContrato","Contrato","buscarPorContrato","buscarPorMedidor","verificarDatosCoutaFija","consumoData","guardarCuotaFija","Consumo","capturarCoutaFija","Code","SplashScreen","Plugins","Home","history","useHistory","useState","User","setUserName","passwors","setPassword","loading","setLoading","setMessage","setRemember","useEffect","hide","handleRequestPermissions","recordarCredenciales","useIonViewWillEnter","validateUserData","setTimeout","then","replace","catch","err","finally","color","fullscreen","class","className","src","type","placeholder","onIonChange","e","detail","slot","checked","onClick","cssClass","isOpen","onDidDismiss","header","MenuLeft","selectedIndex","setSelectedIndex","setLogo","appPages","title","selects","icon","water","path","reader","construct","newspaper","logOut","itemSelected","cargarLogo","dir","window","location","pathname","toString","split","selected","undefined","map","item","pageIndex","index","side","menuId","contentId","name","button","ios","md","FormDatosTomaPage","setUser","sectores","setSectores","idSector","setIdSector","lecturas","setLecuras","typeErro","setTypeError","permissions","hideAlertButons","setHideAlertbuttons","block","setBlock","tipoMessage","setTipoMessage","tokenExpired","setTokenExpired","textoBusqueda","setTextoBusqueda","serched","setSerched","paginas","setPaginas","showPagination","setShowPagination","nombreCliente","setNombreCliente","setBusqueda","filtro","setFiltro","placeHolder","setPlaceHolder","alertButtons","text","handler","cargarSectores","buscarPorSector","handle","activarMenu","setActivarMenu","isSessionValid","valid","nombreCorto","prepararPantalla","camera","gps","storageUser","sessionValid","expired","abrirCapturaDatos","metodo","esPapa","push","punteroBuscarPorSector","handleSector","setSector","punteroBuscarPorClave","porContrato","zeroFill","porMedidor","number","width","onIonCancel","interface","filter","size","texto","shape","searchCircle","disabled","cancelText","itemIndex","arrowBackOutline","arrowForwardOutline","arrayData","estatus","cobro","leyendaCobro","functionValidarLectura","Estatus","M_etodoCobro","cuentaPapa","ContratoVigente","Medidor","Toma","style","fontsize","backdropDismiss","buttons","useTakePhoto","getPhoto","useCamera","takePhoto","resultType","CameraResultType","Uri","source","CameraSource","Camera","quality","cameraPhoto","generarFechas","listaMeses","listaAnios","generarAnios","obtenerBase64","leerArchivo","fetch","file","blob","blobFile","convertBase64","imgEncode","Promise","resolve","reject","FileReader","onerror","onloadend","baseSplit","readAsDataURL","defaultAnio","menorAnio","anioMaximo","idAnio","obtenerCoordenadas","Geolocation","getCurrentPosition","coords","CapturaDeLectura","Object","setDatosContribuyente","setLecturaAnterior","anomalias","setAnomalias","setConsumo","activarGaleria","setActivarGaleria","fotoActiva","setFotoActiva","fotosEvidencia","setFotosEvidencia","indexFoto","setIndexFoto","useIonToast","pressentToast","fotosCodificadas","setFotosCodificadas","setlistaMeses","mesDefautl","setMesDefault","indexMes","setIndexMes","anioActual","setAnioActual","indexAnioActual","setIndexAnioActual","setAnioLectura","setListaAnios","bloquearCampos","setBloquearcampos","btnInactivo","setComparaMes","setComparaAnio","seleccionAnomalia","setSeleccionAnomalia","setLecturaActual","setTipoLectura","setMesLectura","refreshControl","setRefreshControl","defaultLectura","setDefaultLectura","defaultAnomalia","setDefaultAnomalia","enbleButtons","setEnbleButtons","promedioLectura","setPromedioLectura","toma","setToma","municipio","setMunicipio","localidad","setLocalidad","direccion","setDireccion","bloqueoAnomalias","setBloqueoAnomalias","consumoMinimo","setConsumoMinimo","fija","setFija","fecha","cargarContribuyente","useIonViewDidEnter","extraerLectura","promedio","parseFloat","toFixed","Municipio","Localidad","Direccion","Mes","cargarFechas","LecturaActual","BloquearCampos","Anomalias","anioDefault","Meses","Anios","lecturaCasoUno","lecturaCasoDos","lecturaCasoTres","anioResult","meses","anhioLista","esteMes","anios","generarAniosPosterior","mesResult","mesComparacion","anioComparar","mensajeConsumoCero","handleBtnGuardar","validarConsumo","procesoConsumo","datosCapturados","latitude","longitude","guardarDatosCuotaFija","Anio","Fotos","handleAbrirCamera","agregarImagenEncode","webPath","imgDir","formatindex","numIndex","consumoProcesado","pencil","consumido","calcularConsumo","displayFormat","min","max","ActualizarAdelante","ActualizarAtras","Minima","handleSelectAnomalia","clave","descripci_on","foto","cambiarFotoActiva","generarGaleria","fotosTemporal","fotosEncoded","duration","position","checkmarkCircle","borrarFotoEvidencia","selectedText","chevronBackCircleOutline","saveOutline","HistorialLecturas","setFechaInicio","fechaFinal","setFechaFinal","historial","setHistorial","tipoMensaje","setTipoMensaje","setConectionErro","Boolean","expiredToken","setExpiredToken","alertsButtons","getDate","desde","hasta","validateFechas","editarContribuyente","idLectua","pickerFormat","doneText","handleSelectFechaInicio","handleSelectFechaFin","Fecha","eyeOutline","EditarLecturaAgua","setBloquearDatos","anhioLectura","setAnhioLectura","validarAnhio","setValidarAnhio","validarMes","setValidarMes","listaAnhios","setListaAnhios","setListaMeses","tipoAnomalia","setTipoAnomalia","fechaLectura","setFechaLectura","showToast","setShowToast","connectionError","setConnectionError","setTokenExpered","traceError","setTraceError","lecturaRegistrada","setLecturaRegistrada","alertRetriButtons","cargarDatos","guardarLectura","generarFechasAnhios","A_no","filtrarLectura","bloqueoCampos","goBack","LecturaAnterior","Observaci_on","FechaLectura","handleCalcularconsumo","Padr_onAgua","consumoCalculado","idPadron","regresarPantalla","Nombre","Colonia","Calle","Exterior","Interior","selectAnomalia","checkmarkCircleOutline","Reportes","setColonia","setCalle","setNumero","setDescripcion","setContrato","setFallaAdministrativa","buttonsErrorConnection","handleBtnCrearReporte","limpiarPantalla","messageError","sessionExpired","HistorilaReportes","fechaDesde","setFechaDesde","fechaHasta","setFechaHasta","placeFechaDesde","setPlaceFechaDesde","placeFechaHasta","setPlaceFechaHasta","typeMessage","setTypeMessage","reportes","setReportes","handleBtnGenerar","defaultFecha","sessionIsValid","validateFecha","historialReportes","resultMessage","errores","handelDetalleReporte","guardarIdReporte","handleFechaDesde","handleFechaHasta","DetalleReporte","idReporte","setIdReporte","setFecha","obtenerReporte","Descripcion","Numero","DatosContribuyente","setTelefono","setEmail","hideButtons","setHideButtons","handleBtnGuardarContacto","Celular","Email","sesionValid","saveSharp","AgregarInspeccion","SetContratoVigente","contribuyentes","setListaContribuyentes","handleSerchBar","handleSelectList","selectContribuyente","setMensaje","motivo","buscarDatosContibuyente","NoExterior","NoInterior","CPostal","rows","App","exact","to","hostname","match","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","webpackAsyncContext","req","__webpack_require__","o","ids","keys","module","exports"],"mappings":"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","file":"static/js/main.764e989f.chunk.js","sourcesContent":["\n//controlador del LocalStorage\nexport function restoreUser() {\n    let remenberMe = localStorage.getItem(\"@Storage:recordarUsuario\");\n    if (remenberMe != null) {\n        let value = remenberMe == \"true\";\n        if (value) {\n            let user = {\n                pass: localStorage.getItem(\"@Storage:contraseniaX\"),\n                user: localStorage.getItem(\"@Storage:usuario\"),\n                remember: value\n            }\n            return user;\n        } else {\n            localStorage.removeItem('@Storage:contraseniaX');\n            localStorage.removeItem('\"@Storage:usuario\"');\n            let user = {\n                pass: '',\n                user: '',\n                remember: value\n            }\n            return user;\n        }\n    } else {\n        let user = {\n            pass: '',\n            user: '',\n            remember: false\n        }\n        return user;\n    }\n}\nexport function guardarDatosCliente(basicData: { usuario: string, idUsuario: Number, cliente: Number, token: string, recordar: boolean, contrasenia: string, userName: string }) {\n    basicData.recordar ? localStorage.setItem(\"@Storage:contraseniaX\", basicData.contrasenia) : localStorage.removeItem(\"@Storage:contraseniaX\");\n    localStorage.setItem(\"@Storage:usuario\", basicData.usuario);\n    localStorage.setItem(\"@Storage:idUsuario\", String(basicData.idUsuario));\n    localStorage.setItem(\"@Storage:cliente\", String(basicData.cliente));\n    localStorage.setItem(\"@Storage::userToken\", basicData.token);\n    localStorage.setItem(\"@Storage:recordarUsuario\", String(basicData.recordar));\n    localStorage.setItem(\"@Storage:userName\", basicData.userName);\n    console.log(basicData.userName)\n}\nexport function getUsuario() {\n    return localStorage.getItem(\"@Storage:usuario\");\n}\nexport function obtenerDatosCliente() {\n    let result = {\n        cliente: localStorage.getItem(\"@Storage:cliente\"),\n        idUsuario: localStorage.getItem(\"@Storage:idUsuario\"),\n        token: localStorage.getItem(\"@Storage::userToken\")\n    }\n    return result;\n}\nexport function guardarContratos(contratos: string) {\n    localStorage.setItem(\"@Storage:contratos\", contratos);\n}\nexport function guardarDatosLectura(idLectura: string, contribuyente: string, contratoVigente: string, medidor: string) {\n    localStorage.setItem('@Storage:idLectura', idLectura);\n    localStorage.setItem('@Storage:nContribuyente', contribuyente);\n    localStorage.setItem('@Storage:contratoVigente', contratoVigente);\n    localStorage.setItem('@Storage:medidor', medidor);\n    return true;\n}\nexport function getDatosLecturaStorage() {\n    let lectura = {\n        idLectura: localStorage.getItem('@Storage:idLectura'),\n        contribuyente: localStorage.getItem('@Storage:nContribuyente'),\n        contratoVigente: localStorage.getItem('@Storage:contratoVigente'),\n        medidor: localStorage.getItem('@Storage:medidor'),\n        //NOTE: TESTING: datos para el guardado de la lectura\n        nCliente: localStorage.getItem(\"@Storage:cliente\"),\n        token: localStorage.getItem(\"@Storage::userToken\"),\n        idUsuario: localStorage.getItem(\"@Storage:idUsuario\")\n    }\n    return lectura;\n}\nexport function getContratos() {\n    let datos = localStorage.getItem(\"@Storage:contratos\");\n    return datos;\n}\nexport function guardarDatosEditarLectura(idLectua: string, contrato: string, contribuyente: string, medidor: string) {\n    localStorage.setItem('@Storage:editarIdLectura', idLectua);\n    localStorage.setItem('@Storage:editarContratoVigente', contrato);\n    localStorage.setItem('@Storage:editarNContribuyente', contribuyente);\n    localStorage.setItem('@Storage:editarMedidor', medidor);\n    return true;\n}\nexport function extraerDatosEditarLectura() {\n    let result = {\n        idLectura: localStorage.getItem('@Storage:editarIdLectura'),\n        contrato: localStorage.getItem('@Storage:editarContratoVigente'),\n        contribuyente: localStorage.getItem('@Storage:editarNContribuyente'),\n        medidor: localStorage.getItem('@Storage:editarMedidor')\n    }\n    return result;\n}\nexport function obtenerDatosClienteEditar() {\n    let lecturaData = {\n        idConsulta: localStorage.getItem('@Storage:editarIdLectura'),\n        nCliente: localStorage.getItem('@Storage:cliente'),\n    }\n    return { datosLectura: lecturaData, token: localStorage.getItem('@Storage::userToken') };\n}\nexport async function cerrarSesion() {\n    //Olvidando credenciales\n    let remenber = localStorage.getItem(\"@Storage:recordarUsuario\");\n    if (remenber == \"false\") {\n        localStorage.removeItem(\"@Storage:usuario\");\n        localStorage.removeItem(\"@Storage:idUsuario\");\n        localStorage.removeItem(\"@Storage:cliente\");\n        localStorage.removeItem(\"@Storage::userToken\");\n        localStorage.removeItem(\"@Storage:contraseniaX\");\n    } else {\n        localStorage.removeItem(\"@Storage:idUsuario\");\n        localStorage.removeItem(\"@Storage:cliente\");\n        localStorage.removeItem(\"@Storage::userToken\");\n    }\n    return true\n}\nexport function verifyingSession() {\n    /* localStorage.setItem(\"@Storage::userToken\",\"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwczpcL1wvYXBpLnNlcnZpY2lvZW5saW5lYS5teFwvYXBpLW1vdmlsXC9sb2dpbi1wcmVzaWRlbnRlUHJ1ZWJhIiwiaWF0IjoxNjIxMzY1OTk0LCJleHAiOjE2MjE0MDE5OTQsIm5iZiI6MTYyMTM2NTk5NCwianRpIjoiV0w3VE9EeUZpQkhWZzZqRSIsInN1YiI6MzgwMCwicHJ2IjoiODdlMGFmMWVmOWZkMTU4MTJmZGVjOTcxNTNhMTRlMGIwNDc1NDZhYSJ9.5aG5sSnugBRIPvmj0QcbhHuqxPfBRkwrxN74bGz1uho\");\n     */let token = localStorage.getItem(\"@Storage::userToken\");\n    return token != null;\n}\nexport function obtenerIdReporte() {\n    let reporte = {\n        userName: localStorage.getItem(\"@Storage:userName\"),\n        id: localStorage.getItem(\"@Storage:idReporte\")\n    }\n    return reporte;\n\n}\nexport function obtenerToken() {\n    return String(localStorage.getItem(\"@Storage::userToken\"));\n}\nexport function guardarIdReporte(id: number) {\n    localStorage.setItem(\"@Storage:idReporte\", String(id));\n}\nexport function contribuyenteBuscado() {\n    let data = localStorage.getItem(\"@Storage:serched\");\n    if (data == null) {\n        return false;\n    } else {\n        return data === \"true\";\n    }\n}\nexport function setContribuyenteBuscado(value: Boolean) {\n    localStorage.setItem(\"@Storage:serched\", String(value));\n}\nexport function setPuntero(value: number){\n    localStorage.setItem(\"@Storage:cursor\",String(value))\n}\nexport function getPuntero(){\n    let cursor =  localStorage.getItem(\"@Storage:cursor\");\n    let puntero = Number(cursor);\n    if(isNaN(puntero)){\n        return 0;\n    }else{\n        return puntero\n    }\n}\nexport function setNumeroPaginas(value: number){\n    localStorage.setItem(\"@Storage:pages\",String(value));\n}\nexport function getNumeroPaginas(){\n    let noPages = localStorage.getItem(\"@Storage:pages\");\n    let pages = Number(noPages);\n    if(isNaN(pages)){\n        return 0\n    }else{\n        return pages;\n    }\n}\nexport function deleteContratos(){\n    localStorage.removeItem(\"@Storage:contratos\");\n}\nexport async function getLogoStorage(){\n    return localStorage.getItem(\"@Storage:logoCliente\");\n}\nexport async function setLogoStorage(logoEncode: string){\n    localStorage.setItem(\"@Storage:logoCliente\",logoEncode);\n}\nexport  function setClienteNombreCorto(clienteNombreCorto: string){\n    localStorage.setItem(\"@Storage:clienteNombreCorto\",clienteNombreCorto)\n}\nexport  function getClienteNombreCorto() {\n    return localStorage.getItem(\"@Storage:clienteNombreCorto\");\n}\nexport  function setContribuyente(contribuyente: string) {\n    localStorage.setItem(\"@Storage:idContribuyente\",contribuyente);\n}\nexport  function getContribuyente() {\n    return localStorage.getItem(\"@Storage:idContribuyente\");\n}\nexport function setSector(sector: string) {\n    localStorage.setItem(\"@Storage:idSector\",sector);\n}\nexport function getSector() {\n    return localStorage.getItem(\"@Storage:idSector\");\n}\nexport function clearState(){\n    localStorage.removeItem(\"@Storage:idSector\");\n    localStorage.removeItem(\"@Storage:cursor\");\n    localStorage.removeItem(\"@Storage:pages\");\n    localStorage.removeItem(\"@Storage:lecturaDesde\");\n    localStorage.removeItem(\"@Storage:lecturaHasta\");\n    localStorage.removeItem(\"@Storage:reporteDesde\");\n    localStorage.removeItem(\"@Storage:reporteHasta\");\n}\nexport function setFechasHistorialLectura (desde: string, hasta: string) {\n    localStorage.setItem(\"@Storage:lecturaDesde\",desde);\n    localStorage.setItem(\"@Storage:lecturaHasta\",hasta);\n}\nexport function getFechasHistorialLectura(){\n    let datos = localStorage.getItem(\"@Storage:lecturaDesde\");\n    if(datos != null){\n        let data = {\n            desde: localStorage.getItem(\"@Storage:lecturaDesde\"),\n            hasta: localStorage.getItem(\"@Storage:lecturaHasta\")\n        }\n        return data;\n    }else{\n        return null;\n    }\n}\nexport function setFechasHistorialReportes(desde: string, hasta: string){\n    localStorage.setItem(\"@Storage:reporteDesde\",desde);\n    localStorage.setItem(\"@Storage:reporteHasta\",hasta);\n}\nexport function getFechasHistorialReportes(){\n    let dato = localStorage.getItem(\"@Storage:reporteDesde\");\n    if(dato!=null){\n        let data = {\n            desde: localStorage.getItem(\"@Storage:reporteDesde\"),\n            hasta: localStorage.getItem(\"@Storage:reporteHasta\")\n        }\n        return data;\n    }else{\n        return null;\n    }\n}\nexport function setPunteroBusqueda(puntero: number){\n    console.log(puntero)\n    localStorage.setItem(\"@Storage:punteroBusqueda\",String(puntero));\n}\nexport function getPunteroBusqueda(){\n    let data = localStorage.getItem(\"@Storage:punteroBusqueda\");\n    let puntero = Number(data);\n    if(isNaN(puntero)){\n        return 0;\n    }else{\n        return puntero;\n    }\n}\nexport function setPaginasBusqueda(paginas: number){\n    localStorage.setItem(\"@Storage:paginasBusqueda\",String(paginas));\n}\nexport function getPaginasBusqueda(){\n   let data = localStorage.getItem(\"@Storage:paginasBusqueda\");\n   let pages = Number(data);\n   if(isNaN(pages)){\n       return 0;\n   }else{\n        return pages;\n   }\n}\nexport function setInspeccionPadronAgua(contribuyente: string){\n    localStorage.setItem(\"@Storage:inspeccionPadron\",contribuyente);\n}\nexport function getInspeccionPadronAgua(){\n    return localStorage.getItem(\"@Storage:inspeccionPadron\");\n}\nexport function obtnerCliente(){\n    return localStorage.getItem(\"@Storage:cliente\")\n}\nexport function setCuentasPapas(papas:String){\n    localStorage.setItem(\"@Storage:CuentasPapas\",String(papas));\n}\nexport function getCuentasPapas(){\n    return localStorage.getItem(\"@Storage:CuentasPapas\") != null ? localStorage.getItem(\"@Storage:CuentasPapas\"): \"\";\n}","import { AndroidPermissions } from '@ionic-native/android-permissions';\nimport { Console } from 'node:console';\nimport { _private } from 'workbox-core';\nimport { APIservice } from '../api/api-laravel.service';\nimport {\n    guardarDatosCliente,\n    obtenerDatosCliente,\n    guardarContratos,\n    guardarDatosLectura,\n    getContratos,\n    obtenerDatosClienteEditar,\n    getDatosLecturaStorage,\n    setLogoStorage,\n    setClienteNombreCorto,\n    getContribuyente,\n    setContribuyente,\n    obtnerCliente,\n    obtenerToken,\n    extraerDatosEditarLectura,\n    setCuentasPapas\n} from '../controller/storageController';\nconst service = new APIservice();\nconst date = new Date();\n//INDEV: Errores del sistema\nconst netwokError = new Error(\"Error al intentar comunicarse con la API. Verifique que su dispositivo se encuentre conectado a la red\");\nconst sesionNotValidError = new Error(\"Sesion no valida\");\nconst failedLoginError = new Error(\"Usuario y/o contraseña incorrectos\");\nconst userNotValidError = new Error(\"No puedes iniciar sesión con este usuario\");\nconst lecturaCodeError = new Error('Consulte con su administrador que el código de lecturas de agua se encuentre en el rango de 1-3');\nconst noRowSelect = new Error(\"No se encontraron registros\");\nconst LecturaNull = new Error(\"No se ha calculado el consumo\");\nconst LecturaMenor = new Error(\"La lectura actual no puede ser menor a la anterior\");\nconst mesMayor = new Error(\"Aun no puedes realizar registros para el mes seleccionado\");\nconst mesRegistrado = new Error(\"El mes seleccionado ya fue registrado\");\nconst anioMayor = new Error(\"Aun no puedes realizar registros para este año\");\nconst anioRegistrado = new Error(\"Ya no puedes realizar registros para este año\");\nconst mesIgual = new Error(\"este mes ya fue registrado\");\nconst API223 = new Error(\"Revisa que los campos esten rellenados de forma correcta\");\nconst APIError = new Error(\"Error del servidor\");\nconst atrasError = new Error(\"El mes seleccionada debe se mayor a la actual\");\nconst adelanteError = new Error(\"El mes de la lectura debe ser menor al actual\");\nconst PermissionsError = new Error(\"Para poder hacer uso de todas las funciones de la aplicaciòn por favor acepta los permisos solicitados por la misma\");\nexport async function Login(user: string, password: string, remerber: boolean) {\n    const acceso = {\n        usuario: user,\n        passwd: password\n    }\n    try {\n        let result = await service.getAuth(acceso);\n        //Verificanos si el inicio de session es valido\n        let sessionValida = result.data.Status;\n        if (sessionValida == true) {\n            let data = {\n                usuario: user,\n                cliente: result.data.cliente,\n                idUsuario: result.data.idUsuario,\n                token: result.data.token,\n                recordar: remerber,\n                contrasenia: password,\n                userName: result.data.datosUsuario.NombreCompleto\n            }\n            console.log(data.token);\n            let verified = await verificarUsuarioLecturista(data);\n            if (verified === true) {\n                return verified;\n            } else {\n                throw verified;\n            }\n        } else {\n            throw failedLoginError;\n        }\n    } catch (error) {\n        throw conectionError(error);\n    }\n\n}\nasync function verificarUsuarioLecturista(userData: any) {\n    try {\n        let datos = {\n            usuario: userData.idUsuario,\n            cliente: userData.cliente\n        }\n        if (datos.cliente === \"-1\") {\n            throw userNotValidError;\n        }\n        let result = await service.verificarUsuarioLecturista(datos, userData.token);\n        let esLecturista = result.data.Status;\n        if (esLecturista) {\n            guardarDatosCliente(userData);\n            return true;\n        } else {\n            throw userNotValidError;\n        }\n    } catch (error) {\n        throw conectionError(error);\n    }\n}\nexport async function buscarSectores() {\n    try {\n        let basicData = obtenerDatosCliente();\n        const datosConsulta = {\n            nCliente: basicData.cliente,\n            idUsuario: basicData.idUsuario,\n        }\n        let result = await service.buscarSectores(datosConsulta, basicData.token + \"\");\n        return result.data.Sectores;\n    } catch (error) {\n        throw conectionError(error)\n    }\n}\nexport async function lecturasPorSector(sector: string) {\n    try {\n        let basicData = obtenerDatosCliente();\n        let mes = date.getMonth() + 1;\n        let anio = date.getFullYear();\n        const datosConsulta = {\n            nCliente: basicData.cliente,\n            Sector: sector,\n            mes: mes,\n            a_no: anio\n        }\n        let result = await service.buscarLecturasPorSector(datosConsulta, basicData.token + \"\");\n        let mensaje = result.data.mensaje;\n        guardarContratos(JSON.stringify(mensaje));\n        if (mensaje.legth === 0 || mensaje === \"No se encontraron registros\") {\n            throw noRowSelect;\n        } else {\n            return mensaje;\n        }\n    } catch (error) {\n        throw conectionError(error);\n    }\n}\nexport async function extraerDatosLectura(keyLectura: string) {\n    try {\n        //Extrallendo los datos de la lectura\n        let basicData = obtenerDatosCliente();\n        let datos = {\n            nCliente: basicData.cliente,\n            idLectura: keyLectura\n        }\n        let result = await service.extraesDatosLectura(datos, basicData.token + \"\");\n        console.log(result);\n        let tipoLectura = result.data.ValorLectura[0].Valor;\n        if (tipoLectura != '1' && tipoLectura != '2' && tipoLectura != '3') {\n            throw lecturaCodeError\n        } else {\n            return result.data;\n        }\n    } catch (error) {\n        throw conectionError(error);\n    }\n}\nexport async function guardarCaptura(datosCaptura: any) {\n    try {\n        let result = await validarDatosLectura(datosCaptura);\n        if (result === true) {\n            //NOTE: se manda a llamar al metodo de guardado\n            let result = await enviarDatosLectura(datosCaptura);\n            return result;\n        } else {\n            throw result;\n        }\n    } catch (error) {\n        throw conectionError(error);\n    }\n}\n/**\n * Funcion para verificar los datos de al guardar la captura del agua\n */\nasync function validarDatosLectura(data: any) {\n    let anomalia = parseInt(data.anomalia);\n    let tipoLectura = data.lectura;\n    let arrayAnios = data.arrayAnios;\n    let mesActual = date.getMonth() + 2;\n    if (!Number.isInteger(anomalia)) {\n        anomalia = NaN;\n    }\n    //Validamos que la lectura no este vacia\n    if (data.lecturaActual == \"\" || data.lecturaActual == null) {\n        throw LecturaNull;\n    }\n    //Validamos que el consumo no sea menor a 0 \n    let consumo = parseInt(data.consumoFinal);\n    if (!isNaN(anomalia)) {\n        if (consumo < 0) {\n            throw LecturaMenor;\n        }\n    } else {\n        if (consumo <= 0) {\n            throw LecturaMenor;\n        }\n    }\n    //REVIEW: Esto creo que no es necesario\n    if (tipoLectura == 3) {\n        let anioSeleccionado = arrayAnios[data.indexAnio - 1].anio;\n        //mayor \n        if (data.comparaMes < data.mesCaptura) {\n            throw mesMayor;\n        }\n        if (data.comparaAnio < anioSeleccionado) {\n            throw anioMayor\n        }\n        //menor\n        if (data.comparaMes > data.mesCaptura) {\n            throw mesRegistrado\n        }\n        if (data.comparaAnio > anioSeleccionado) {\n            throw anioRegistrado\n        }\n        if (mesActual == 13) {\n            mesActual = 1;\n        }\n        if (mesActual == data.mesLectura) {\n            throw mesIgual\n        }\n    } else\n        if (tipoLectura == 2) {\n            let anhioSeleccionado = arrayAnios[data.indexAnio - 1].anio;\n\n            if (data.comparaMes < data.mesCaptura) {\n                throw mesMayor;\n            }\n            if (data.comparaMes > data.mesCaptura) {\n                throw mesRegistrado\n            }\n            if (data.comparaAnio < anhioSeleccionado) {\n                throw anioMayor\n            }\n            if (data.comparaAnio > anhioSeleccionado) {\n                throw anioRegistrado\n            }\n            if (data.mesCaptura >= data.comparaAnio && data.anhioCaptura >= data.comparaAnio) {\n                throw mesIgual\n            }\n\n        } else\n            if (tipoLectura == 1) {\n                let anhioSeleccionado = arrayAnios[data.indexAnio - 1].anio;\n                let mesActual, anhioActual;\n                if (data.mesCaptura > data.comparaMes) {\n                    throw mesMayor\n                }\n                if (anhioSeleccionado > data.comparaAnio) {\n                    throw anioMayor\n                }\n                if (data.mesCaptura < data.comparaMes) {\n                    throw mesRegistrado\n                }\n                if (anhioSeleccionado < data.comparaAnio) {\n                    throw anioRegistrado\n                }\n                mesActual = date.getMonth() + 2;\n                anhioActual = date.getFullYear();\n                if (mesActual == 13) {\n                    mesActual = 1;\n                    anhioActual = date.getFullYear() + 1;\n                }\n                if (mesActual == data.mesCaptura && anhioActual == data.comparaAnio) {\n                    throw mesMayor\n                }\n            }\n    return true;\n\n}\nasync function enviarDatosLectura(data: any) {\n    const datos = {\n        idToma: data.idToma,\n        cliente: data.nCliente,\n        lecturaAnterior: data.lecturaAnterior,\n        lecturaActual: data.lecturaActual,\n        consumoFinal: data.consumoFinal,\n        mesCaptura: data.mesCaptura,\n        anhioCaptura: data.anhioCaptura,\n        fechaCaptura: data.fechaCaptura,\n        anomalia: data.anomalia,\n        idUsuario: data.idUsuario,\n        latitud: data.Latidude,\n        longitud: data.Longitude,\n        tipoCoordenada: 1,\n        fotos: [],\n        arregloFotos: data.arregloFotos,\n        ruta: data.route\n    }\n    let result = await service.guardarDatosLectura(datos, data.token);\n    console.log(result);\n    let code = result.data.Mensaje;\n    let message = \"\";\n    switch (code) {\n        case 200:\n            message = \"Ok\";\n            break;\n        case 224:\n            throw new Error(\"No se pudo realizar el registro\");\n            break;\n        case 223:\n            throw API223;\n        case 400:\n            throw new Error(\"El mes ya fue capturado\");\n            break;\n        default:\n            throw APIError;\n            break;\n    }\n    return message;\n}\nexport async function obtenerSiguienteIndice(idLectura: number) {\n    let contratos = getContratos();\n    let arrayContratos = new Array;\n    let indice = -1;\n    if (contratos != null) {\n        arrayContratos = JSON.parse(contratos);\n        arrayContratos.map((item, index) => {\n            if (item.id == idLectura)\n                indice = index + 1;\n        })\n    }\n    let result = false;\n    if (indice < arrayContratos.length) {\n        let lecturaSiguiente = arrayContratos[indice];\n        result = guardarDatosLectura(lecturaSiguiente.id, lecturaSiguiente.Contribuyente, lecturaSiguiente.ContratoVigente, lecturaSiguiente.Medidor)\n    }\n    return result;\n}\n//INDEV: dando soporte a los errores\nexport async function historialFechas(fechaInicio: string, fechaFin: string) {\n    try {\n        //Obteniedo los datos para la consulta\n        let basicData = obtenerDatosCliente();\n        let data = {\n            idUsuario: basicData.idUsuario,\n            nCliente: basicData.cliente,\n            fechaInicioH: fechaInicio,\n            fechaFinH: fechaFin\n        }\n        let result = await service.extraerHistorial(data, basicData.token + \"\");\n        if (result.data.Status) {\n            return result.data;\n        } else {\n            throw noRowSelect;\n        }\n    } catch (error) {\n        throw conectionError(error);\n    }\n}\nexport async function getDatosLecturaEditar() {\n    try {\n        let { datosLectura, token } = obtenerDatosClienteEditar()\n        if (token != null) {\n            let result = await service.extraerDatoseditar(datosLectura, token);\n            return result.data\n        } else {\n            throw null;\n        }\n    } catch (error) {\n        throw conectionError(error);\n    }\n}\nexport async function validorDatosEditarLectura(lecturaDatos: any) {\n    if (lecturaDatos.lecturaActual == \"\" || lecturaDatos.lecturaActual == null)\n        throw LecturaNull;\n    else if (lecturaDatos.consumo < 0)\n        throw LecturaMenor;\n    else if (lecturaDatos.validarAnhio < lecturaDatos.anhioLectura)\n        throw anioMayor;\n    else if (lecturaDatos.validarAnhio > lecturaDatos.anhioLectura)\n        throw anioRegistrado;\n    else if (lecturaDatos.mesLectura < lecturaDatos.validarMes)\n        throw mesRegistrado\n    else if (lecturaDatos.mesLectura > lecturaDatos.validarMes)\n        throw mesMayor;\n    else\n        return null\n\n}\nexport async function actualizarLectura(lecturaDatos: any) {\n    try {\n        let result = await validorDatosEditarLectura(lecturaDatos);\n        let { datosLectura, token } = obtenerDatosClienteEditar();\n        if (result == null) {\n            let data = {\n                idPadronLetura: datosLectura.idConsulta,\n                idToma: lecturaDatos.idPadron,\n                cliente: datosLectura.nCliente,\n                anhioCaptura: lecturaDatos.anhioLectura,\n                consumoFinal: lecturaDatos.consumo,\n                fechaCaptura: lecturaDatos.fechaLectura,\n                lecturaActual: lecturaDatos.lecturaActual,\n                lecturaAnterior: lecturaDatos.lecturaAnterior,\n                mesCaptura: lecturaDatos.mesLectura,\n                anomalia: lecturaDatos.tipoAnomalia\n            }\n            let result = await service.actualizarDatosLectura(data, token + \"\")\n            return result.data;\n        } else {\n            throw result;\n        }\n    } catch (error) {\n        throw conectionError(error);\n    }\n}\nexport async function crearReporte(data: { colonia: String, calle: String, numero: String, descripcion: String, contrato: string, fallaAdministrativa: number }) {\n    try {\n        let valid = validarDatosReporte(data);\n        if (valid) {\n            //Llamada a la API\n            let basicData = obtenerDatosCliente();\n            let datosreporte = {\n                cliente: basicData.cliente,\n                usuario: basicData.idUsuario,\n                colonia: data.colonia,\n                calle: data.calle,\n                numero: data.numero,\n                descripcion: data.descripcion,\n                contrato: data.contrato,\n                fallaAdministrativa: data.fallaAdministrativa,\n            }\n            let result = await service.crearReporte(datosreporte, basicData.token + \"\")\n            if (result.data.Status)\n                return result.data.Mensaje\n            else\n                throw new Error(result.data.Mensaje);\n        } else {\n            throw new Error(\"Los campos que presentan * son obligatorios\");\n        }\n    } catch (error) {\n        throw conectionError(error);\n    }\n}\nfunction validarDatosReporte(data: { colonia: String, calle: String, numero: String, descripcion: String, contrato: string }) {\n    if (data.colonia == \"\" || data.calle == \"\" || data.descripcion == \"\") {\n        return false\n    } else {\n        return true;\n    }\n}\nexport async function historialReportes(fechaInicio: string, fechaFin: string) {\n    try {\n        let basicData = obtenerDatosCliente();\n        let data = {\n            idUsuario: basicData.idUsuario,\n            cliente: basicData.cliente,\n            fechaInicio: fechaInicio,\n            fechaFin: fechaFin\n        }\n        let result = await service.extraerHistorialReportes(data, basicData.token + \"\");\n        if (result.data.Mensaje.length <= 0) {\n            throw noRowSelect;\n        } else {\n            return result.data.Mensaje;\n        }\n    } catch (error) {\n        throw conectionError(error);\n    }\n}\nexport async function extraerReporte(id: String) {\n    try {\n        //Obteniendo datos basicos para la consulta;\n        let basicData = obtenerDatosCliente();\n        let data = {\n            cliente: basicData.cliente,\n            idUsuario: basicData.idUsuario,\n            id: id\n        }\n        let result = await service.extraerReporte(data, String(basicData.token));\n        if (result.data.Mensaje.length <= 0) {\n            throw noRowSelect;\n        } else {\n            return result.data.Mensaje;\n        }\n    } catch (error) {\n        throw conectionError(error);\n    }\n}\nexport async function obtenerContribuyente(busqueda: string,offset: number,sector: String) {\n    try {\n        let { token, cliente } = obtenerDatosCliente();\n        let mes = date.getMonth() + 1;\n        let anio = date.getFullYear();\n        let datos = {\n            nCliente: cliente,\n            datoBusqueda: busqueda,\n            mes: mes,\n            a_no: anio,\n            Offset: offset,\n            sector:sector\n        }\n        let result = null;\n        if(sector != \"-1\"){\n            result = await service.obtenerDatosSectorPalabraClave(datos,String(token));\n            console.log(\"Se utiliso el sector: \" + sector);\n        }else{\n            result = await service.extraerContribuyente(datos, String(token));\n        }\n        //Mensaje \"Campos vacios\", \"No se encontraron registros\"\n        let data = result.data.mensaje;\n        let isArray = Array.isArray(data);\n        if (isArray) {\n            return data;\n        } else {\n            let message = String(data);\n            throw new Error(message);\n        }\n    } catch (err) {\n        throw conectionError(err);\n    }\n}\nexport async function obtenerTotalDatosSectores(sector: string) {\n    try {\n        let basicData = obtenerDatosCliente();\n        let mes = date.getMonth() + 1;\n        let anio = date.getFullYear();\n        const datosConsulta = {\n            cliente: basicData.cliente,\n            sector: sector,\n            mes: mes,\n            anio: anio\n        }\n        let result = await service.extraerNumeroItems(datosConsulta, String(basicData.token));\n        let exist = result.data.Mensaje.length;\n        if (exist >= 1) {\n            let items = result.data.Mensaje[0].cantidad;\n            let pages = items / 20;\n            let resid = pages % 1;\n            if (resid > 0) {\n                pages++;\n            }\n            return pages;\n        } else {\n            return 0;\n        }\n    } catch (error) {\n        throw conectionError(error);\n    }\n}\nexport async function lecturasPorSectorPage(sector: string, offset: number,) {\n    try {\n        let basicData = obtenerDatosCliente();\n        let mes = date.getMonth() + 1;\n        let anio = date.getFullYear();\n        const datosConsulta = {\n            nCliente: basicData.cliente,\n            Sector: sector,\n            mes: mes,\n            a_no: anio,\n            Offset: offset\n        }\n        let result = await service.buscarLecturasPorSector(datosConsulta, basicData.token + \"\");\n        let mensaje = result.data.mensaje;        \n        setCuentasPapas(result.data.Papas);\n        guardarContratos(JSON.stringify(mensaje));\n        if (mensaje.legth === 0 || mensaje === \"No se encontraron registros\") {\n            throw noRowSelect;\n        } else {\n            return mensaje;\n        }\n    } catch (error) {\n        throw conectionError(error);\n    }\n}\nexport async function obtenerPromedioConsumo() {\n    try {\n        let { idLectura, token, nCliente } = getDatosLecturaStorage();\n        let datos = {\n            idLectura: idLectura,\n            nCliente: nCliente,\n        }\n        let result = await service.extraerPromedioContribuyente(datos, String(token));\n        let data = result.data.Mensaje;\n        data = Math.round(data);\n        return data;\n    } catch (error) {\n        throw conectionError(error);\n    }\n}\nexport async function obtenerLogo() {\n    try {\n        let { cliente, token } = obtenerDatosCliente();\n        let data = {\n            nCliente: cliente\n        }\n        let logo = await service.obtenerLogoCliente(data, String(token));\n        setClienteNombreCorto(String(logo.data.Data));\n        setLogoStorage(String(logo.data.Mensaje));\n    } catch (error) {\n        throw conectionError(error);\n    }\n}\nexport async function obtenerDatosContribuyente() {\n    try {\n        let { idLectura, token } = getDatosLecturaStorage();\n        let { cliente } = obtenerDatosCliente();\n        let datos = {\n            nCliente: cliente,\n            idBusqueda: idLectura\n        }\n        let data = await service.extraerContactoContribuyente(datos, String(token));\n        let result = data.data.Mensaje[0];\n        setContribuyente(result.Contribuyente);\n        return result;\n    } catch (error) {\n        throw conectionError(error);\n    }\n}\nexport async function actualizarContribuyente(contacto: { telefono: String, email: String }) {\n    try {\n        let { nCliente, token } = getDatosLecturaStorage();\n        let contribuyente = getContribuyente();\n        let data = {\n            cliente: nCliente,\n            id: contribuyente,\n            telefono: contacto.telefono,\n            email: contacto.email\n        }\n        let result = await service.guardarContribuyente(data, String(token));\n        return result.data.Mensaje;\n    } catch (error) {\n        throw conectionError(error);\n    }\n}\nexport async function obtenerTotalDatosBusqueda(clave: string, sector: string) {\n    try {\n        let { cliente, token } = obtenerDatosCliente()\n        let mes = date.getMonth() + 1;\n        let anio = date.getFullYear();\n        let data = {\n            cliente: cliente,\n            mes: mes,\n            anio: anio,\n            busqueda: clave,\n            sector: sector\n        }\n        let result = null;\n        if(sector != \"-1\"){\n            console.log(data);\n            result = await service.obtenerNumeroItemsBusquedaSector(data, String(token));\n        }else{\n            result = await service.extraerNumeroItemsBusqueda(data, String(token));\n        }\n        /* return result.data.Mensaje.length; */\n        let exist = result.data.Mensaje.length;\n        if(exist >= 1){\n            let items = result.data.Mensaje[0].Total;\n            let pages = items / 20;\n            let resid = pages % 1;\n            if(resid > 0){\n                pages++;\n            }\n            return pages\n        }else{\n            return 0;\n        }\n    } catch (error) {\n        throw conectionError(error);\n    }   \n}\nfunction conectionError(error: any) {\n    let errorMessage = String(error.message);\n    let errorCode = String(error.code);\n    let typeError = error;\n    if (errorMessage.includes(\"Network Error\")) {\n        typeError = netwokError;\n    } else if (errorMessage.includes(\"400\")) {\n        typeError = sesionNotValidError;\n    } else if (errorCode.includes(\"ECONNABORTED\")) {\n        typeError = netwokError;\n    }\n    return typeError;\n}\nexport async function verifyPermissions() {\n    let list = [\n        AndroidPermissions.PERMISSION.CAMERA,\n        AndroidPermissions.PERMISSION.ACCESS_COARSE_LOCATION,\n    ]\n    let validPermissions = \"Salida:\";\n    list.map((item, index) => {\n        let data = AndroidPermissions.checkPermission(item);\n        validPermissions += data + \"\";\n    })\n    return validPermissions;\n}\nexport async function verifyCameraPermission() {\n    let value = await AndroidPermissions.checkPermission(AndroidPermissions.PERMISSION.CAMERA);\n    return value.hasPermission;\n}\nexport async function verifyGPSPermission() {\n    let value = await AndroidPermissions.checkPermission(AndroidPermissions.PERMISSION.ACCESS_COARSE_LOCATION);\n    return value.hasPermission;\n}\nexport async function obtenerContribuyenteInspeccion(busqueda: String){\n    try{\n        let { cliente, token } = obtenerDatosCliente();\n        let data = {\n            Cliente: cliente,\n            Busqueda: busqueda\n        }\n        let result = await service.obtenerContribuyenteInspeccion(data,String(token));\n        let listaDatos =  result.data.mensaje;\n        if(listaDatos instanceof Array){\n            return listaDatos;\n        }else{\n            throw noRowSelect;\n        }\n    }catch(error){\n        throw conectionError(error);\n    }   \n}\n/**\n * Funcion para pedir permisos Camara, gps, storage\n * Si se utilza en web marca un error (Cordova_web_notabiable) solo se utilza en dispisitivos fisicos y emuladoress\n */\nexport async function solicitarPermisos() {\n    let result = await AndroidPermissions.requestPermissions([\n        AndroidPermissions.PERMISSION.CAMERA,\n        AndroidPermissions.PERMISSION.ACCESS_COARSE_LOCATION,\n    ]);\n    return result;\n}\nexport async function obtnerContribuyenteInspeccion(id:String){\n    try{\n        let datos = {\n            Cliente: obtnerCliente(),\n            Padron: id\n        };\n        let result = await service.obtenerDatosContribuyentePorPadron(datos,obtenerToken());\n        console.log(result.data.mensaje.length);\n        let datosContribuyente = result.data.mensaje;\n        if(datosContribuyente.length > 0){\n            return datosContribuyente[0];\n        }else{\n            throw noRowSelect;\n        }\n    }catch(error){\n        throw conectionError(error);\n    }\n}\nexport async function  obtenerPromedioEditar(padron: number){\n    try {\n        let { token, nCliente } = getDatosLecturaStorage();\n        let datosLectura = extraerDatosEditarLectura();\n        let datos = {\n            Cliente: nCliente,\n            Padron: padron,\n            Lectura: datosLectura.idLectura //Esta es la lectura que se va a editar\n        }\n        let result = await service.obtenerPromedioEditar(datos, String(token));\n        let data = result.data.Mensaje;\n        data = Math.round(data);\n        return data;\n    } catch (error) {\n        throw conectionError(error);\n    }\n}\n\nexport async function buscarContrato(busqueda:string){\n    try{\n        console.log(\"Buscando por contrato\");\n        let { cliente,token } = obtenerDatosCliente();\n        let mes = date.getMonth() + 1;\n        let anio = date.getFullYear();\n        let datos = {\n            Cliente: cliente,\n            Contrato: busqueda,\n            mes: mes,\n            a_no: anio\n        };\n        let result = await service.buscarPorContrato(datos,String(token));\n        let data = result.data.Mensaje;\n        console.log(result.data);\n        setCuentasPapas(result.data.Papas);\n        console.log(result.data.Papas);\n        let isArray = Array.isArray(data);\n        if (isArray) {\n            return data;\n        } else {\n            let message = String(data);\n            throw new Error(message);\n        }\n    }catch (error) {\n        throw conectionError(error);\n    }\n}\nexport async function buscarPorMedidor(busqueda:string){\n    try{\n        console.log(\"Buscando por medidor\");\n        let { cliente,token } = obtenerDatosCliente();\n        let mes = date.getMonth() + 1;\n        let anio = date.getFullYear();\n        let datos = {\n            Cliente: cliente,\n            Contrato: busqueda,\n            mes: mes,\n            a_no: anio\n        };\n        let result = await service.buscarPorMedidor(datos,String(token));\n        let data = result.data.Mensaje;\n        setCuentasPapas(result.data.Papas);\n        console.log(result.data.Papas);\n        let isArray = Array.isArray(data);\n        if (isArray) {\n            return data;\n        } else {\n            let message = String(data);\n            throw new Error(message);\n        }\n    }catch(error){\n        throw conectionError(error);\n    }\n}\nfunction verificarDatosCoutaFija( consumoData: string ){\n    //NOTE: Verificamos que el consumo sea valido\n    let consumo = parseInt(consumoData);\n    if(!isNaN(consumo)){\n        if(consumo < 0 ){\n            throw LecturaMenor;\n        }else{\n            return true;\n        }\n    }else{\n        throw LecturaNull;\n    }\n}\nexport async function guardarCuotaFija(data:any){\n    try{\n        //NOTE: Verificamos los datos del consumo\n        if( verificarDatosCoutaFija(data.Consumo)){\n            //Enviamo los datoa a la API\n            let basicData = obtenerDatosCliente();\n            let token = basicData.token;\n            //NOTE: damos formato a los datos en la interfaz\n            let result = await service.capturarCoutaFija(data,String(token));\n            console.log(result);\n            if(result.data.Code == 200){\n                return true;\n            }else if(result.data.Code == 404){\n                throw noRowSelect;\n            }else if(result.data.Code == 423){\n                throw mesMayor;\n            }\n        }\n    }catch(error){\n        throw conectionError(error);\n    }\n\n}","import axios from 'axios'\nexport class APIservice {\n    //llamada a la api en la\n    getAuth(data: object) {\n        return axios.post(`https://api.servicioenlinea.mx/api-movil/login-presidentePrueba`, data)\n    }\n    verificarUsuarioLecturista(data: object, token: string) {\n        let headers = {\n            'Content-type': 'application/json',\n            'Authorization': 'Bearer' + token\n        }\n        return axios.post(`https://api.servicioenlinea.mx/api-movil/verificarUsuarioLecturistaPrueba`, data, { headers });\n    }\n    buscarSectores(data: object, token: string) {\n        let headers = {\n            'Content-type': 'application/json',\n            'Authorization': 'Bearer' + token\n        }\n        return axios.post('https://api.servicioenlinea.mx/api-movil/buscarSectores', data, { headers })\n    }\n    buscarLecturasPorSector(data: object, token: string) {\n        let headers = {\n            'Content-type': 'application/json',\n            'Authorization': 'Bearer' + token\n        }\n        return axios.post(`https://api.servicioenlinea.mx/api-movil/datosLecturaPorSector`, data, { headers });\n    }\n    extraesDatosLectura(data: object, token: string) {\n        let headers = {\n            'Content-type': 'application/json',\n            'Authorization': 'Bearer' + token\n        }\n        return axios.post('https://api.servicioenlinea.mx/api-movil/extrarDatosLecturaPrueba', data, { headers })\n    }\n    guardarDatosLectura(data: object, token: string) {\n        let headers = {\n            'Content-type': 'application/json',\n            'Authorization': 'Bearer' + token\n        }\n        return axios.post(`https://api.servicioenlinea.mx/api-movil/guardarDatosLecturaPrueba`, data, { headers })\n    }\n    extraerHistorial(data: object, token: string) {\n        let headers = {\n            'Content-type': 'application/json',\n            'Authorization': 'Bearer' + token\n        }\n        return axios.post(`https://api.servicioenlinea.mx/api-movil/extraerHistorialPrueba`, data, { headers });\n    }\n    extraerDatoseditar(data: object, token: string) {\n        let headers = {\n            'Content-type': 'application/json',\n            'Authorization': 'Bearer' + token\n        }\n        return axios.post(`https://api.servicioenlinea.mx/api-movil/extraerDatosEditarPrueba`, data, { headers });\n    }\n    actualizarDatosLectura(data: object, token: string) {\n        let headers = {\n            'Content-type': 'application/json',\n            'Authorization': 'Bearer' + token\n        }\n        return axios.post(`https://api.servicioenlinea.mx/api-movil/actualizarRegistroPrueba`, data, { headers });\n    }\n    crearReporte(data: object, token: string) {\n        let headers = {\n            'Content-type': 'application/json',\n            'Authorization': 'Bearer' + token\n        }\n        return axios.post(`https://api.servicioenlinea.mx/api-movil/crearReportePrueba`, data, { headers });\n    }\n    extraerHistorialReportes(data: object, token: string) {\n        let headers = {\n            'Content-type': 'application/json',\n            'Authorization': 'Bearer' + token\n        }\n        return axios.post(`https://api.servicioenlinea.mx/api-movil/listaReportes`, data, { headers });\n    }\n    extraerReporte(data: object, token: string) {\n        let headers = {\n            'Content-type': 'application/json',\n            'Authorization': 'Bearer' + token\n        }\n        return axios.post(`https://api.servicioenlinea.mx/api-movil/extraerReporte`, data, { headers });\n    }\n    extraerContribuyente(data: object, token: string) {\n        let headers = {\n            'Content-type': 'application/json',\n            'Authorization': 'Bearer' + token\n        }\n        return axios.post(`https://api.servicioenlinea.mx/api-movil/datosLecturaAguaPrueba`, data, { headers });\n    }\n    extraerNumeroItems(data: object, token: String) {\n        let headers = {\n            'Content-type': 'application/json',\n            'Authorization': 'Bearer' + token\n        }\n        return axios.post(`https://api.servicioenlinea.mx/api-movil/paginas`, data, { headers });\n    }\n    extraerPromedioContribuyente(data: object, token: string) {\n        let headers = {\n            'Content-type': 'application/json',\n            'Authorization': 'Bearer' + token\n        }\n        return axios.post(`https://api.servicioenlinea.mx/api-movil/obtenerConsumoPromedio`, data, { headers });\n    }\n    obtenerLogoCliente(data: object, token: string) {\n        let headers = {\n            'Content-type': 'application/json',\n            'Authorization': 'Bearer' + token\n        }\n        return axios.post(`https://api.servicioenlinea.mx/api-movil/extraerLogo`, data, { headers });\n    }\n    extraerContactoContribuyente(data: object, token: string) {\n        let headers = {\n            'Content-type': 'application/json',\n            'Authorization': 'Bearer' + token\n        }\n        return axios.post(`https://api.servicioenlinea.mx/api-movil/extraerContribuyente`, data, { headers });\n    }\n    guardarContribuyente(data: object, token: string) {\n        let headers = {\n            'Content-type': 'application/json',\n            'Authorization': 'Bearer' + token\n        }\n        return axios.post(`https://api.servicioenlinea.mx/api-movil/guardarContribuyente`,data,{headers});\n    }\n    extraerNumeroItemsBusqueda(data: object,token:string){\n        let headers = {\n            'Content-type': 'application/json',\n            'Authorization': 'Bearer' + token\n        }\n        return axios.post(`https://api.servicioenlinea.mx/api-movil/paginasBusqueda`,data,{headers});\n    }\n    obtenerContribuyenteInspeccion(data:object, token:string){\n        let headers = {\n            'Content-type': 'application/json',\n            'Authorization': 'Bearer' + token\n        }\n        return axios.post(`https://api.servicioenlinea.mx/api-movil/inspeccionContribuyente`,data,{headers});\n    }\n    obtenerDatosContribuyentePorPadron(data: object,token:String){\n        let headers = {\n            'Content-type': 'application/json',\n            'Authorization': 'Bearer' + token\n        }\n        return axios.post(`https://api.servicioenlinea.mx/api-movil/obtenerPadronContribyenteDatos`,data,{headers})\n    }\n    obtenerDatosSectorPalabraClave(data: object,token: String){\n        let headers = {\n            'Content-type': 'application/json',\n            'Authorization': 'Bearer' + token\n        }\n        return axios.post(\"https://api.servicioenlinea.mx/api-movil/buscarSectorPalabraClave\",data,{headers});\n    }\n    obtenerNumeroItemsBusquedaSector(data:object,token: String){\n        let headers = {\n            'Content-type': 'application/json',\n            'Authorization': 'Bearer' + token\n        }\n        return axios.post(\"https://api.servicioenlinea.mx/api-movil/paginasBusqueaSector\",data,{headers});\n    }\n    obtenerPromedioEditar(data:object,token:String){\n        let headers = {\n            'Content-type': 'application/json',\n            'Authorization': 'Bearer' + token\n        }\n        return axios.post(\"https://api.servicioenlinea.mx/api-movil/ObtenerPromedioEditar\",data,{headers});\n    }\n    buscarPorContrato(data:object,token:string){\n        let headers = {\n            'Content-type': 'application/json',\n            'Authorization': 'Bearer' + token\n        }\n        return axios.post(`https://api.servicioenlinea.mx/api-movil/buscarPorContrato`,data,{headers})\n    }\n    buscarPorMedidor(data:object,token:string){\n        let headers = {\n            'Content-type': 'application/json',\n            'Authorization': 'Bearer' + token\n        }\n        return axios.post(`https://api.servicioenlinea.mx/api-movil/buscarPorMedidor`,data,{headers})\n    }\n    capturarCoutaFija(data:object,token:string){\n        let headers = {\n            'Content-type': 'application/json',\n            'Authorization': 'Bearer' + token\n        }\n        return axios.post(`https://api.servicioenlinea.mx/api-movil/consumo`,data,{headers})\n    }\n}\n\n","import { IonAlert, IonButton, IonCard, IonCheckbox, IonContent, IonHeader, IonImg, IonInput, IonItem, IonLabel, IonLoading, IonPage, IonTitle, IonToolbar, useIonViewWillEnter } from '@ionic/react';\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from 'react-router-dom'\nimport { Plugins } from '@capacitor/core'\nimport './Home.css';\nimport { Login, obtenerLogo, solicitarPermisos, } from '../controller/apiController';\nimport { restoreUser,clearState } from '../controller/storageController';\nconst { SplashScreen } = Plugins\nconst Home: React.FC = () => {\n  const history = useHistory();\n  const [User, setUserName] = useState('');\n  const [passwors, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [remember, setRemember] = useState(false);\n  useEffect(() => {\n    SplashScreen.hide();\n    handleRequestPermissions();\n    recordarCredenciales();\n  }, [])\n  useIonViewWillEnter(clearState)\n  const recordarCredenciales = async () => {\n    let user = restoreUser();\n    if (user.pass != null && user.user != null) {\n      setUserName(user.user);\n      setPassword(user.pass);\n      setRemember(user.remember);\n    }\n  }\n  const handleBtnLoginPress = () => {\n    setLoading(true)\n    validateUserData();\n  }\n  const validateUserData = async () => {    \n    if (User != \"\" && passwors != \"\" && User != null && passwors != null) {\n      try {\n        setTimeout(() => {\n          if (loading) {\n            throw new Error(\"Tiempo de espera agotado.\");\n          }\n        }, 8000)\n        await Login(User, passwors, remember)\n          .then(async (result) => {\n            await obtenerLogo();\n            history.replace('./form-datos-toma.page');\n          })\n          .catch((err) => {\n            setMessage(err.message);\n          })\n          .finally(() => { setLoading(false) })\n      } catch (err) {\n        setMessage(err.message);\n        setLoading(false);\n      }\n    } else {\n      setLoading(false);\n      setMessage(\"Campos vacios\")\n    }\n  }\n  const handleRequestPermissions = async () => {\n    await solicitarPermisos().then((result) => {\n      console.log(result)\n    })\n  }\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar color=\"danger\" >\n          <IonTitle>Inicio de sessión</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent fullscreen>\n        <IonCard class=\"ion-text-center\" className=\"box\">\n          <IonImg src={\"../assets/Imagenes/SUNIPAC_GRP_ROJO.png\"}></IonImg>\n          <IonItem className=\"input\">\n            <IonInput type=\"text\" placeholder=\"Usuario\" onIonChange={e => setUserName(e.detail.value!)} value={User}>\n            </IonInput>\n          </IonItem>\n          <IonItem className=\"input\">\n            <IonInput type=\"password\" placeholder=\"Contraseña\" onIonChange={e => setPassword(e.detail.value!)} value={passwors}>\n            </IonInput>\n          </IonItem>\n          <IonItem class=\"ion-text-center\">\n            <IonCheckbox slot=\"start\" color=\"primary\" checked={remember} onIonChange={e => setRemember(e.detail.checked)}></IonCheckbox>\n            <IonLabel>Recordar Usuario y Contraseña</IonLabel>\n          </IonItem>\n          <IonButton color=\"danger\" onClick={handleBtnLoginPress} className=\"input button\">INICIAR SESSIÓN</IonButton>\n        </IonCard>\n        <IonLoading\n          cssClass=\"my-custom-class\"\n          isOpen={loading}\n          onDidDismiss={() => setLoading(false)}\n          message=\"Por favor espere\"\n        />\n        <IonAlert\n          cssClass=\"my-custom-class\"\n          header={\"ERROR\"}\n          message={message}\n          isOpen={message.length > 0}\n          onDidDismiss={() => { setMessage('') }}\n        />\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default Home;","\nimport './left-menu.css';\nimport { create, logOut, reader, water, newspaper, construct } from 'ionicons/icons'\nimport { IonMenu, IonContent, IonImg, IonItemDivider, IonMenuToggle, IonRouterOutlet, IonItem, IonLabel, IonIcon, IonSpinner } from '@ionic/react'\nimport { useEffect, useState } from 'react';\nimport { RouteComponentProps, useHistory } from 'react-router-dom'\nimport { cerrarSesion, getLogoStorage} from '../controller/storageController'\ninterface ContainerProps { }\n\nconst MenuLeft: React.FC<ContainerProps> = () => {\n    const history = useHistory();\n    let [selectedIndex, setSelectedIndex] = useState(-1);\n    const [logo,setLogo] = useState(\"\");\n    const appPages = [\n        {\n            title: 'Toma de agua',\n            selects: ['form-datos-toma.page','datos-contribuyente.page'],\n            icon: water,\n            path: '/form-datos-toma.page'\n        }, {\n            title: 'Historial de lecturas',\n            selects: ['historial-lecturas.page','editar-lecturas-agua.page'],\n            icon: reader,\n            path: '/historial-lecturas.page'\n        }, {\n\n            title: 'Fallos en infraestructura',\n            selects: ['reportes.page'],\n            path: '/reportes.page',\n            icon: construct\n        },\n        {\n            title: 'Historial reportes',\n            selects: ['historial-reportes.page', 'detalles-reportes.page'],\n            path: '/historial-reportes.page',\n            icon: newspaper\n        },\n        /*{\n            title: 'Inspecciones',\n            selects: ['inspeccciones.page'],\n            path: '/inspeccciones.page',\n            icon: newspaper\n        },*/\n        {\n            title: 'Salir',\n            selects: ['inicio-de-sesion.page'],\n            icon: logOut\n        },\n    ];\n    useEffect(() => {\n        itemSelected();\n        cargarLogo();\n    });\n    \n    const itemSelected = () => {\n        let dir = window.location.pathname.toString().split(\"/\")[1];\n        let selected = false;\n        if (dir != undefined) {\n            appPages.map((item, pageIndex) => {\n                item.selects.map((item, index) => {\n                    if (item == dir) {\n                        console.log(item);\n                        setSelectedIndex(pageIndex);\n                        selected = true;\n                    }\n                })\n            })\n            if (!selected) {\n                setSelectedIndex(0);\n            }\n        }\n    }\n    const btnSelected = (dir: any) => {\n        if (dir.title == 'Salir') {\n            cerrarSesion()\n                .then((result) => {\n                    history.replace(\"/home\")\n                })\n        } else {\n            history.replace(dir.path);\n        }\n    }\n    const cargarLogo = async ()=>{\n        await getLogoStorage().then((result)=>{\n            setLogo(String(result));\n        })\n    }\n    return (\n        <div>\n            <IonMenu side=\"start\" menuId=\"first\" contentId=\"main-content\" >\n            <IonContent >\n                    <div className = \"center\">\n                        {   logo != \"\" ? \n                            <IonImg  src= {\"data:image/png;base64,\"+logo}/* \"../assets/Imagenes/Logo recortado.png\" */></IonImg> : \n                            <IonSpinner className = \"spinerItem\" color = \"danger\" name = \"lines\"></IonSpinner>}\n                    </div>\n                    <IonItemDivider className=\"menuLeft\" />\n                    <IonMenuToggle  >\n                        {\n                            appPages.map((item, index) => {\n                                return <IonItem key={index} button={true} className={index == selectedIndex ? \"selected\" : \"\"} onClick={() => { btnSelected(item) }}>\n                                    <IonLabel>{item.title}</IonLabel>\n                                    <IonIcon slot=\"start\" ios={item.icon + \"-outline\"} md={item.icon + \"-sharp\"} color=\"blue\"></IonIcon>\n                                </IonItem>\n                            })\n                        }\n                    </IonMenuToggle>\n                    <IonItemDivider />\n                </IonContent>\n            </IonMenu>\n            <IonRouterOutlet id = \"main-content\"></IonRouterOutlet>\n        </div>\n    )\n}\n\nexport default MenuLeft;","import React, { useEffect, useState } from \"react\";\nimport {\n  IonPage,\n  IonHeader,\n  IonTitle,\n  IonToolbar,\n  IonContent,\n  IonItem,\n  IonButtons,\n  IonMenuButton,\n  IonCard,\n  IonCardHeader,\n  IonLabel,\n  IonSelect,\n  IonAlert,\n  IonSelectOption,\n  IonCardContent,\n  IonItemDivider,\n  IonList,\n  IonLoading,\n  IonButton,\n  IonInput,\n  IonIcon,\n  IonGrid,\n  IonRow,\n  IonCol,\n  useIonViewWillEnter,\n  IonNote,\n  \n} from \"@ionic/react\";\nimport { useHistory } from 'react-router-dom'\nimport \"./form-datos-toma.page.css\";\nimport MenuLeft from '../../components/left-menu';\nimport { buscarSectores, lecturasPorSectorPage, solicitarPermisos, verifyCameraPermission, verifyGPSPermission, obtenerContribuyente, obtenerTotalDatosSectores, obtenerTotalDatosBusqueda,buscarContrato,buscarPorMedidor} from '../../controller/apiController';\nimport { getUsuario, guardarDatosLectura, cerrarSesion, verifyingSession, setContribuyenteBuscado, setPuntero, getPuntero, getNumeroPaginas, setNumeroPaginas, getClienteNombreCorto, setSector, getSector, getPunteroBusqueda, getPaginasBusqueda, setPunteroBusqueda, setPaginasBusqueda,getCuentasPapas } from '../../controller/storageController';\nimport { searchCircle, arrowForwardOutline, arrowBackOutline, cogSharp } from 'ionicons/icons'\nconst FormDatosTomaPage: React.FC = () => {\n  const history = useHistory();\n  const [user, setUser] = useState('');\n  const [sectores, setSectores] = useState<any[]>([]);\n  const [message, setMessage] = useState('');\n  const [idSector, setIdSector] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [lecturas, setLecuras] = useState<any[]>([])\n  const [typeErro, setTypeError] = useState('');\n  const [permissions, setPermissons] = useState(true);\n  const [hideAlertButons, setHideAlertbuttons] = useState(false);\n  const [block, setBlock] = useState(false);\n  const [tipoMessage, setTipoMessage] = useState(\"ERROR\");\n  const [tokenExpired, setTokenExpired] = useState(false);\n  const [textoBusqueda, setTextoBusqueda] = useState(String);\n  const [serched, setSerched] = useState(false);\n  const [paginas, setPaginas] = useState(Number);\n  const [showPagination, setShowPagination] = useState(false);\n  const [nombreCliente, setNombreCliente] = useState(String);\n  const [busqueda, setBusqueda] = useState(false);\n  const [filtro,setFiltro] = useState(1);\n  const [placeHolder,setPlaceHolder] = useState(\"Buscar por contrato\");\n  const alertButtons = [\n    {\n      text: \"Reintentar\", handler: () => {\n        setMessage(\"\");\n        typeErro == \"sectores\" ? cargarSectores() : buscarPorSector(idSector);\n      }\n    },\n    {\n      text: \"Cancelar\", handle: () => {\n        setMessage(\"\");\n      }\n    }\n  ]\n  const [activarMenu,setActivarMenu] = useState(true);\n  const isSessionValid = async () => {\n    let valid = verifyingSession();\n    setTokenExpired(!valid);\n    setBlock(!valid);\n    let nombreCorto = await getClienteNombreCorto();\n    setNombreCliente(String(nombreCorto));\n  }\n\n  useEffect(() => { isSessionValid() }, []);\n  useEffect(() => { tokenExpired ? logOut(tokenExpired) : prepararPantalla() }, [tokenExpired])\n\n  const logOut = (valid: boolean) => {\n    if (valid) {\n      setTipoMessage(\"Sesión no valida\");\n      setMessage(\"Inicie sesión por favor\\nRegresando...\");\n      setHideAlertbuttons(true);\n      setTimeout(async () => {\n        setTipoMessage('Error');\n        setMessage('');\n        await cerrarSesion()\n          .then((result) => {\n            history.replace(\"/home\")\n          })\n      }, 2500);\n    }\n  }\n  const prepararPantalla = async () => {\n    await solicitarPermisos()\n      .then(async (err) => {\n        let camera = await verifyCameraPermission();\n        let gps = await verifyGPSPermission();\n        if (camera && gps) {\n          let storageUser = getUsuario();\n          setUser(storageUser + \"\");\n          cargarSectores()\n        } else {\n          setHideAlertbuttons(true);\n          setMessage(\"Debe otorgar permisos para usar la aplicación\");\n          setBlock(true)\n          setTimeout(() => {\n            history.replace(\"/home\")\n          }, 2500)\n        }\n      }).catch(() => {\n        //Quitar antes de la vercion final (solo sirve en web)\n        let storageUser = getUsuario();\n        setUser(storageUser + \"\");\n        cargarSectores()\n      })\n    /**\n   * Activar el metodo solo para la version web de prueba\n   */\n\n    //setMessage(\"EL IOIOA\")\n  }\n  const cargarSectores = async () => {\n    await buscarSectores()\n      .then(result => setSectores(result))\n      .catch(err => {\n        let errorMessage = String(err.message);\n        let sessionValid = errorMessage.includes(\"Sesion no valida\");\n        setTokenExpired(sessionValid);\n        setIdSector(\"\");\n        if (!sessionValid) {\n          setMessage(err.message)\n          setTypeError(\"sectores\")\n        }\n      })\n  }\n  useIonViewWillEnter(()=>{setActivarMenu(true)});\n  const buscarPorSector = async (idSector:string) => {\n    setBusqueda(false)\n    setLoading(true);\n    await obtenerTotalDatosSectores(idSector).then((result) => {\n      console.log(result);\n      setNumeroPaginas(parseInt(result + \"\"))\n      setPaginas(parseInt(result + \"\"));\n      setPuntero(0)\n    })\n    await lecturasPorSectorPage(idSector, 0)\n      .then((result) => {\n        setShowPagination(true);\n        setLecuras(result);\n        setSerched(false)\n        setPuntero(0);\n      })\n      .catch((err) => {\n        setLecuras([]);\n        let errorMessage = String(err.message);\n        let expired = errorMessage.includes(\"Sesion no valida\");\n        setTokenExpired(expired);\n        if (!expired) {\n          setHideAlertbuttons(true)\n          setTypeError(\"Error\");\n          setMessage(err.message)\n        }\n      })\n      .finally(() => { setLoading(false) })\n  }\n  const abrirCapturaDatos = async (idLectura: string, contribuyente: string, contratoVigente: string, medidor: string,metodo:number,esPapa:boolean)=> {\n    console.log(metodo);\n    if(!esPapa){\n      setContribuyenteBuscado(serched);\n      let result = guardarDatosLectura(idLectura, contribuyente, contratoVigente, medidor);\n      if (result === true) {\n        setActivarMenu(false);\n        //Redireccion a toma de lectura\n        history.push('/captura-de-lectura.page');\n      }\n     }\n   }\n  const buscarPalabraClave = async () => {\n\n    if(idSector == \"\"){\n      setBusqueda(true);\n      setLecuras([]);\n      setShowPagination(true);\n      setLoading(true);\n      await obtenerTotalDatosBusqueda(textoBusqueda,\"-1\").then((result) => {\n        let paginas = parseInt(String(result));\n        setPunteroBusqueda(0);\n        setPaginasBusqueda(paginas);\n        setPaginas(paginas);\n      });\n      await obtenerContribuyente(textoBusqueda,0,\"-1\").then((result) => {\n        console.log(result);\n        setSerched(true);\n        setLecuras(result);\n      }).catch((err) => {\n        setLecuras([]);\n        let errorMessage = String(err.message);\n        let sessionValid = errorMessage.includes(\"Sesion no valida\");\n        if (!sessionValid) {\n          setHideAlertbuttons(true);\n          setTipoMessage(\"ERROR\");\n          setMessage(errorMessage);\n        } else {\n          setTokenExpired(true);\n        }\n      }).finally(() => { setLoading(false) });\n    }else{\n      console.log(\"Busqueda por sector\");\n      handleBuscarSectorParablaClave();\n    }\n  }\n  const handleInputSerh = (texto: string) => {\n    setTextoBusqueda(texto);\n  }\n  const handleNextPage = () => {\n    setLoading(true);\n    let puntero = getPuntero();\n    setPuntero(puntero + 1);\n    puntero++;\n    let pages = getNumeroPaginas();\n    let itemIndex = 0;\n    if (puntero >= pages) {\n      setPuntero(0);\n      puntero = 0;\n      itemIndex = puntero * 20;\n    } else {\n      itemIndex = puntero * 20;\n    }\n    console.log(itemIndex, idSector);\n    punteroBuscarPorSector(itemIndex, idSector);\n  }\n  const handlePreviousPage = () => {\n    let puntero = getPuntero();\n    if (puntero - 1 < 0) {\n      puntero = getNumeroPaginas() - 1;\n      setPuntero(puntero);\n    } else {\n      setPuntero(puntero - 1);\n      puntero--;\n    }\n    let pages = getNumeroPaginas();\n    let itemIndex = (puntero * 20);\n    punteroBuscarPorSector(itemIndex, idSector);\n  }\n  const punteroBuscarPorSector = async (offset: number, sector: string) => {\n    setBusqueda(false);\n    setLoading(true);\n    await lecturasPorSectorPage(sector, offset)\n      .then((result) => {\n        setLecuras(result);\n        setSerched(false)\n      })\n      .catch((err) => {\n        console.log(err)\n        setLecuras([]);\n        let errorMessage = String(err.message);\n        let expired = errorMessage.includes(\"Sesion no valida\");\n        setTokenExpired(expired);\n        if (!expired) {\n          setHideAlertbuttons(true)\n          setTypeError(\"Error\");\n          setMessage(err.message)\n        }\n      })\n      .finally(() => { setLoading(false) })\n  }\n  const handleSector = (sector: string) => {\n    setIdSector(sector);\n    setSector(sector);\n    buscarPorSector(sector);\n\n  }\n  const handleNextPageBusqueda = () => {\n    setLoading(true); \n    let puntero = getPunteroBusqueda();\n    setPunteroBusqueda(puntero + 1);\n    puntero++;\n    let pages = getPaginasBusqueda()\n    let itemIndex = 0;\n    if (puntero >= pages) {\n      setPunteroBusqueda(0);\n      puntero = 0;\n      itemIndex = puntero * 20;\n    } else {\n      itemIndex = puntero * 20;\n    }\n    console.log(itemIndex, textoBusqueda);\n    punteroBuscarPorClave(itemIndex);\n  }\n  const handlePreviousPageBusqueda = () => {\n    setLoading(true);\n    let puntero = getPunteroBusqueda();\n    if (puntero - 1 < 0) {\n      puntero = getPaginasBusqueda() - 1;\n      setPunteroBusqueda(puntero);\n    } else {\n      setPunteroBusqueda(puntero - 1);\n      puntero--;\n    }\n    let itemIndex = (puntero * 20);\n    console.log(itemIndex, textoBusqueda);\n    punteroBuscarPorClave(itemIndex);\n  }\n  const punteroBuscarPorClave = async (offset: number) => {\n      setBusqueda(true);\n      await obtenerContribuyente(textoBusqueda,offset,\"-1\").then((result) => {\n        setSerched(true);\n        setLecuras(result);\n      }).catch((err) => {\n        let errorMessage = String(err.message);\n        let sessionValid = errorMessage.includes(\"Sesion no valida\");\n        if (!sessionValid) {\n          setHideAlertbuttons(true);\n          setTipoMessage(\"ERROR\");\n          setMessage(errorMessage);\n        } else {\n          setTokenExpired(true);\n        }\n      }).finally(() => { setLoading(false) });\n  }\n  const handleCancelSector = () =>{\n    setIdSector(\"\");\n  }\n  const handleBuscarSectorParablaClave = async () =>{\n    setBusqueda(true);\n    setLecuras([]);\n    setShowPagination(true);\n    setLoading(true);\n    await obtenerTotalDatosBusqueda(textoBusqueda,idSector).then((result) => {\n      let paginas = parseInt(String(result));\n      setPunteroBusqueda(0);\n      setPaginasBusqueda(paginas);\n      setPaginas(paginas);\n    });\n    await obtenerContribuyente(textoBusqueda,0,idSector).then((result) => {\n      console.log(result);\n      setSerched(true);\n      setLecuras(result);\n    }).catch((err) => {\n      setLecuras([]);\n      let errorMessage = String(err.message);\n      let sessionValid = errorMessage.includes(\"Sesion no valida\");\n      if (!sessionValid) {\n        setHideAlertbuttons(true);\n        setShowPagination(false);\n        setTipoMessage(\"Mensaje\");\n        setMessage(errorMessage);\n      } else {\n        setTokenExpired(true);\n      }\n    }).finally(() => { setLoading(false) });\n  }  \n  const handleCancelFiltro = () =>{\n    setFiltro(1);\n  }\n  const buscarFiltro = () =>{\n    if(filtro == 1){\n      porContrato();\n    }\n    if(filtro == 2){\n      porMedidor();\n    }\n    if(filtro == 3){\n    }\n  }\n  const porContrato = async () =>{\n    setBusqueda(true);\n    setLecuras([]);\n    setShowPagination(false);\n    setLoading(true);\n    console.log(zeroFill(textoBusqueda));\n    await buscarContrato(zeroFill(textoBusqueda))\n    .then(result =>{\n      setLecuras(result);\n    }).catch(err=>{\n      setLecuras([]);\n      let errorMessage = String(err.message);\n      let expired = errorMessage.includes(\"Sesion no valida\");\n      setTokenExpired(expired);\n      if (!expired) {\n        setHideAlertbuttons(true)\n        setTypeError(\"Error\");\n        setMessage(err.message)\n      }\n    }).finally(\n     ()=>{setLoading(false);} \n    )\n  }\n  const porMedidor = async () =>{ \n    setBusqueda(true);\n    setLecuras([]);\n    setShowPagination(false);\n    setLoading(true);\n    console.log(zeroFill(textoBusqueda,10));\n    await buscarPorMedidor(zeroFill(textoBusqueda,10))\n    .then(result =>{\n      setLecuras(result);\n    }).catch(err=>{\n      setLecuras([]);\n      let errorMessage = String(err.message);\n      let expired = errorMessage.includes(\"Sesion no valida\");\n      setTokenExpired(expired);\n      if (!expired) {\n        setHideAlertbuttons(true)\n        setTypeError(\"Error\");\n        setMessage(err.message)\n      }\n    }).finally(\n     ()=>{setLoading(false);} \n    )\n  }\n  const functionValidarLectura = (estatus: number, cobro:number) =>{\n    let leyendaCobro = \"\";\n    let result = [\"\",false];\n    if(cobro == 1){\n      leyendaCobro = \"Cuota Fija \";\n    }\n  switch(estatus){\n    case 1:\n      result = [ leyendaCobro + \"\",cobro == 1];\n    break;\n    case 2:\n     result = [leyendaCobro + \"\",cobro == 1];\n    break;\n    case 3:\n      result = [ leyendaCobro + \"Baja Temporal\",true];\n    break;\n    case 4:\n      result = [ leyendaCobro +  \"Baja Permanente\",true];\n    break;\n    case 5:\n      result = [ leyendaCobro + \"Inactivo\",true];\n    break;\n    case 6:\n      result = [ leyendaCobro +  \"Nueva\",true];\n    break;    \n    case 9:\n      result = [ leyendaCobro +  \"Sin Toma\",true];\n    break;\n    case 10:\n      result = [ leyendaCobro +  \"Multada\",true]\n    break;\n  }\n  return result;\n  }\n  function zeroFill( number:string,width:number = 9)\n{\n  while(number.length < width){\n    number = \"0\"+number;\n  }\n  return number;\n  }\n  const handleSelectFiltro = (filter: number) => {\n  setFiltro(filter); \n  if(filtro == 1){\n    setPlaceHolder(\"Buscar por Medidor\");\n  }\n  if(filtro == 2){\n    setPlaceHolder(\"Buscar por Contrato\");\n  }\n  }\n  return (\n    <IonPage>\n      {\n        activarMenu ? \n        <MenuLeft />: <></>\n      }\n      <IonHeader>\n        <IonToolbar color=\"danger\" >\n          <IonTitle>{`${user} - ${nombreCliente}`}</IonTitle>\n          <IonButtons slot=\"start\" className=\"btnMenu\">\n            <IonMenuButton ></IonMenuButton>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent>\n        <IonCard class=\"ion-text-center\" className=\"box\">\n          <IonCardHeader>\n            <div>\n              <h3>Lectura de agua potable</h3>\n              <IonLabel>Puedes realizar busquedas por:</IonLabel>\n              <p>Contrato, Medidor, Nombre comercial o nombre del propietario</p>\n              <br />\n            </div>\n            <IonGrid>\n            <IonRow>\n                <IonCol>\n                <IonItem>\n                  <IonLabel>Filtrar Por:</IonLabel>\n                <IonSelect onIonCancel = {handleCancelFiltro} value = {filtro} placeholder = \"Seleccione el filtro\" interface = \"action-sheet\" onIonChange = {e => {handleSelectFiltro(parseInt(e.detail.value+\"\"))}}>\n                    <IonSelectOption value={1} >Contrato</IonSelectOption>\n                    <IonSelectOption value={2} >Medidor</IonSelectOption>\n                  </IonSelect>\n                </IonItem>\n                </IonCol>\n              </IonRow>\n              <IonRow>\n                <IonCol size=\"10\">\n                  <IonItem>\n                    <IonInput type=\"number\" placeholder = {placeHolder} onIonChange={e => { handleInputSerh(String(e.detail.value)) }}></IonInput>\n                  </IonItem>\n                </IonCol>\n                <IonCol size=\"2\" class=\"btnSerch\">\n                  <IonButton color=\"danger\" size=\"large\" shape=\"round\" onClick={buscarFiltro}><IonIcon icon={searchCircle} color=\"light\" size=\"large\"></IonIcon></IonButton>\n                </IonCol>\n              </IonRow>\n              <IonItem>\n                <IonLabel className=\"center\" color=\"\">o seleccione un sector</IonLabel>\n              </IonItem>\n            </IonGrid>\n            <IonItem>\n              <IonLabel>Sectores</IonLabel>\n              <IonSelect\n                placeholder=\"Seleccionar uno\"\n                onIonChange={e => { handleSector(e.detail.value) }}\n                interface=\"action-sheet\"\n                disabled={block}\n                cancelText=\"Cancelar\"\n                value={idSector}\n              >\n                {\n                  sectores != null  ?\n                    sectores.map(function (item, index) {\n                      return <IonSelectOption key={index} value={item.id}>{item.Sector}</IonSelectOption>\n                    }) :\n                    <IonSelectOption disabled>\n                      Sin Sectores\n                    </IonSelectOption>\n                }\n              </IonSelect>\n            </IonItem>\n          </IonCardHeader>\n          <IonCardContent >\n            <IonItemDivider >\n              {showPagination ? <IonGrid>\n                <IonRow>\n                  <IonCol size=\"2\">\n                    <IonButton shape=\"round\" color=\"danger\" size=\"small\" onClick={busqueda ? handlePreviousPageBusqueda : handlePreviousPage} /* disabled={getPuntero() == 0} */>\n                      <IonIcon icon={arrowBackOutline} size=\"small\" ></IonIcon>\n                    </IonButton></IonCol>\n                  <IonCol size=\"8\"><IonLabel>Resultados: Pagina {busqueda ? getPunteroBusqueda() + 1 : getPuntero() + 1} de {paginas}</IonLabel></IonCol>\n                  <IonCol size=\"2\">\n                    <IonButton shape=\"round\" color=\"danger\" onClick={busqueda ? handleNextPageBusqueda : handleNextPage} /* disabled = {getPuntero()+1==getNumeroPaginas()} */>\n                      <IonIcon icon={arrowForwardOutline} size=\"small\" ></IonIcon>\n                    </IonButton>\n                  </IonCol>\n                </IonRow>\n              </IonGrid> : <IonLabel className=\"center\" class=\"ion-text-center\" >Mostrando Resultados</IonLabel>\n              }\n            </IonItemDivider>\n            <IonList >\n              {\n                lecturas.map(function (item, index) {\n                  let papas = getCuentasPapas();\n                  let arrayData = functionValidarLectura(parseInt(item.Estatus),parseInt(item.M_etodoCobro));\n                  let cuentaPapa = String(papas).includes(item.id);\n                  if(cuentaPapa){\n                    arrayData[0] += \"Desarrollo\";  \n                  }\n                  return <div className = { ( cuentaPapa || arrayData[1]) ? 'cuotaFija':''} key={index} onClick={() => { abrirCapturaDatos(item.id, item.Contribuyente, item.ContratoVigente, item.Medidor,item.M_etodoCobro,cuentaPapa) }}>\n                    <IonItem detail={true} >\n                      <IonList>\n                        <IonLabel>{item.Contribuyente}</IonLabel>\n                        <p>Contrato: {item.ContratoVigente},\n                           Medidor: {item.Medidor}, \n                           Toma: {item.Toma}\n                           &nbsp;&nbsp;&nbsp;&nbsp;\n                           {\n                             (cuentaPapa || arrayData[1]) ? <IonNote style ={{fontsize: 20}} color=\"danger\">{arrayData[0]}</IonNote> :\"\"\n                           }\n                        </p>\n                      </IonList>\n                    </IonItem>\n                  </div>\n                })\n              }\n            </IonList>\n          </IonCardContent>\n        </IonCard>\n        <IonAlert\n          cssClass=\"my-custom-class\"\n          header={tipoMessage}\n          message={message}\n          isOpen={message.length > 0}\n          backdropDismiss={false}\n          buttons={hideAlertButons ? [{ text: \"Aceptar\", handler: () => { setMessage(\"\") } }] : alertButtons}\n        />\n        <IonLoading\n          cssClass=\"my-custom-class\"\n          isOpen={loading}\n          onDidDismiss={() => { setLoading(false); }}\n          message=\"Por favor espere\"\n        />\n        <IonAlert\n          cssClass=\"my-custom-class\"\n          header={\"ERROR\"}\n          message={'Para poder hacer uso de todas las funciones de la aplicaciòn por favor acepta los permisos solicitados por la misma'}\n          isOpen={!permissions}\n        />\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default FormDatosTomaPage;","import { useCamera, } from '@capacitor-community/react-hooks/camera';\nimport { CameraResultType, CameraSource, Geolocation } from '@capacitor/core'\nexport function useTakePhoto() {\n  const { getPhoto } = useCamera();\n  const takePhoto = async () => {\n    const cameraPhoto = await getPhoto({\n      resultType: CameraResultType.Uri,\n      source: CameraSource.Camera,\n      quality: 50\n    });\n    return cameraPhoto;\n  }\n  return {\n    takePhoto\n  }\n}\nexport async function generarFechas(anio: number) {\n  let result = new Array;\n  let listaMeses = new Array;\n  listaMeses = [\n    {\n      id: 1,\n      mes: \"Enero\"\n    }, {\n      id: 2,\n      mes: \"Febrero\"\n    },\n    {\n      id: 3,\n      mes: \"Marzo\"\n    },\n    {\n      id: 4,\n      mes: \"Abril\"\n    }, {\n      id: 5,\n      mes: \"Mayo\"\n    }, {\n      id: 6,\n      mes: \"Junio\"\n    }, {\n      id: 7,\n      mes: \"Julio\"\n    }, {\n      id: 8,\n      mes: \"Agosto\"\n    }, {\n      id: 9,\n      mes: \"Septiembre\"\n    }, {\n      id: 10,\n      mes: \"Octubre\"\n    }, {\n      id: 11,\n      mes: \"Noviembre\"\n    }, {\n      id: 12,\n      mes: \"Diciembre\"\n    }]\n  let listaAnios = generarAnios(anio);\n  result.push({ 'Meses': listaMeses });\n  result.push({ 'Anios': listaAnios });\n  return result;\n}\nexport function generarAniosPosterior(anio: number) {\n  let listaAnios = new Array;\n  let anioActual = new Date().getFullYear() + 1;\n  let idAnio = 1;\n  for (let anios = anio; anios <= anioActual; anios++) {\n    listaAnios.push({ 'id': idAnio, anio: anios });\n    idAnio++;\n  }\n  return listaAnios;\n}\nexport function obtenerBase64(path: string) {\n  let imgEncode = leerArchivo(path);\n  return imgEncode;\n}\nasync function leerArchivo(path: string) {\n  let file = await fetch(path);\n  let blobFile = await file.blob();\n  let imgEncode = await convertBase64(blobFile);\n  return imgEncode;\n}\nasync function convertBase64(blobFile: Blob) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader;\n    reader.onerror = reject;\n    reader.onloadend = () => {\n      let baseSplit  = reader.result;/* ?.toString().split(',')[1] */\n      resolve(baseSplit);\n    }\n    reader.readAsDataURL(blobFile);\n  })\n}\nexport function generarAnios(defaultAnio: number) {\n  let listaAnios = new Array;\n  let menorAnio = (defaultAnio - 10);\n  let anioMaximo = (defaultAnio + 3);\n  let idAnio = 1;\n  for (menorAnio; menorAnio <= anioMaximo; menorAnio++) {\n    listaAnios.push({ 'id': idAnio, anio: menorAnio });\n    idAnio++;\n  }\n  return listaAnios;\n\n}\nexport async function obtenerCoordenadas() {\n  try {\n    let coords = await Geolocation.getCurrentPosition();\n\n  // return coords.coords.latitude;\n  return coords.coords;\n  } catch (err) {\n    throw err;\n  }\n}\n","import React, { useEffect, useState } from \"react\";\nimport {\n    IonAlert,\n    IonButton,\n    IonButtons,\n    IonCard,\n    IonCardContent,\n    IonCardHeader,\n    IonCol,\n    IonContent,\n    IonDatetime,\n    IonGrid,\n    IonHeader,\n    IonIcon,\n    IonImg,\n    IonInput,\n    IonItem,\n    IonLabel,\n    IonLoading,\n    IonMenuButton,\n    IonPage,\n    IonRow,\n    IonSelect,\n    IonSelectOption,\n    IonTitle,\n    IonToolbar,\n    useIonToast,\n    IonChip,\n    useIonViewWillEnter,\n    useIonViewDidEnter\n} from '@ionic/react'\nimport { camera, checkmarkCircle, saveOutline, pencil, chevronBackCircleOutline } from 'ionicons/icons';\nimport './captura-de-lectura.page.css';\nimport MenuLeft from '../../components/left-menu';\nimport { extraerDatosLectura, guardarCaptura, obtenerSiguienteIndice, obtenerPromedioConsumo, guardarCuotaFija} from '../../controller/apiController';\nimport { useTakePhoto, generarFechas, obtenerBase64, generarAniosPosterior, generarAnios, obtenerCoordenadas } from '../../utilities';\nimport { getDatosLecturaStorage, verifyingSession, contribuyenteBuscado, setContribuyenteBuscado, setPuntero, setNumeroPaginas, deleteContratos } from '../../controller/storageController';\nimport { useHistory } from 'react-router';\nconst CapturaDeLectura: React.FC = () => {\n    const history = useHistory();\n    const [datosContribuyente, setDatosContribuyente] = useState(Object);\n    const [lecturaAnterior, setLecturaAnterior] = useState(Number);\n    const [message, setMessage] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [anomalias, setAnomalias] = useState<any[]>([])\n    const [consumo, setConsumo] = useState(Number);\n    const [activarGaleria, setActivarGaleria] = useState(false);\n    const [fotoActiva, setFotoActiva] = useState('');\n    const [fotosEvidencia, setFotosEvidencia] = useState<any[]>([]);\n    const [indexFoto, setIndexFoto] = useState(-1);\n    const [pressentToast, dismissToast] = useIonToast();\n    const [fotosCodificadas, setFotosCodificadas] = useState<any[]>([]);\n    const [listaMeses, setlistaMeses] = useState<any[]>([]);\n    const [mesDefautl, setMesDefault] = useState('');\n    const [indexMes, setIndexMes] = useState(Number);\n    const [anioActual, setAnioActual] = useState(Number);\n    const [indexAnioActual, setIndexAnioActual] = useState(11);\n    const [anioLectura, setAnioLectura] = useState(Number);\n    const [listaAnios, setListaAnios] = useState<any[]>([]);\n    const { takePhoto } = useTakePhoto();\n    const [bloquearCampos, setBloquearcampos] = useState(false);\n    const [btnInactivo, setBtnInactivo] = useState(false);\n    const [comparaMes, setComparaMes] = useState(Number)\n    const [comparaAnio, setComparaAnio] = useState(Number)\n    const [seleccionAnomalia, setSeleccionAnomalia] = useState(Number);\n    const [lecturaActual, setLecturaActual] = useState(Number);\n    const [tipoLectura, setTipoLectura] = useState(Number);\n    const [mesLectura, setMesLectura] = useState(Number);\n    const [refreshControl, setRefreshControl] = useState(false);\n    const [defaultLectura, setDefaultLectura] = useState(Number);\n    const [defaultAnomalia, setDefaultAnomalia] = useState(Number);\n    const [enbleButtons, setEnbleButtons] = useState(false);\n    const [tipoMessage, setTipoMessage] = useState(\"ERROR\");\n    const [promedioLectura, setPromedioLectura] = useState(Number);\n    const [toma, setToma] = useState(String);\n    const [municipio, setMunicipio] = useState(String);\n    const [localidad, setLocalidad] = useState(String);\n    const [direccion, setDireccion] = useState(String);\n    const [bloqueoAnomalias, setBloqueoAnomalias] = useState(false);\n    const [consumoMinimo,setConsumoMinimo] = useState(20);\n    const [activarMenu,setActivarMenu] = useState(true);\n    const [ fija, setFija ] = useState(false);\n    const alertButtons = [\n        {\n            text: \"Reintentar\", handler: () => {\n                setMessage(\"\");\n                setTipoMessage(\"Error\");\n                isSessionValid();\n            }\n        },\n        {\n            text: \"Cancelar\"\n        }]\n    const fecha = new Date();\n    const isSessionValid = () => {\n        let valid = verifyingSession();\n        logOut(valid)\n    }\n    useEffect(() => { isSessionValid(); }, [refreshControl])\n    useEffect(() => {\n        //FIXME: obtenemos los datos actuales\n        if (refreshControl) {\n            setConsumo(0)\n        }\n    }, [defaultLectura])\n    useEffect(() => { console.log(promedioLectura) }, [promedioLectura])\n    const logOut = (valid: boolean) => {\n        if (!valid) {\n            setTipoMessage(\"Sesión no valida\");\n            setMessage(\"Inicie sesión por favor\\nRegresando...\");\n            setTimeout(() => {\n                setTipoMessage(\"ERROR\");\n                setMessage('');\n                history.replace(\"/home\");\n            }, 2500)\n        } else {\n            setLoading(true);\n            cargarContribuyente();\n            setDefaultLectura(0);\n        }\n    }\n    useIonViewWillEnter(()=>{setActivarMenu(false)});\n    useIonViewDidEnter(()=>{setActivarMenu(true)});\n    const cargarContribuyente = async () => {\n        let result = getDatosLecturaStorage();\n        if(result.contribuyente == \"null\"){\n            result.contribuyente = \"\";\n        }\n        setDatosContribuyente(result);\n        extraerLectura(result.idLectura);\n        setRefreshControl(false);\n    }\n    const extraerLectura = async (idLectura: any) => {\n        await obtenerPromedioConsumo().then( async (promedio)=>{\n            promedio = parseFloat(promedio).toFixed(2);\n            setPromedioLectura(promedio);\n            console.log(idLectura);\n            await extraerDatosLectura(idLectura)\n            .then((result) => {\n                setFija(result.Mensaje[0].M_etodoCobro == \"1\");\n                if(result.Mensaje != 300){\n                    setToma(result.Mensaje[0].Toma)\n                    setMunicipio(result.Mensaje[0].Municipio);\n                    setLocalidad(result.Mensaje[0].Localidad);\n                    setDireccion(result.Mensaje[0].Direccion);\n                    //FIXED: hay un bug para los contraros sin lecturas y estatus de letura 1\n                    let data = parseInt(result.Mensaje[0]['A_no']);\n                    let mesLectura = parseInt(result.Mensaje[0].Mes);\n                    //NOTE: si todo es NaN seleccionamos la fecha actual\n                    isNaN(data) ? data = fecha.getFullYear() : data = data;\n                    isNaN( mesLectura ) ? mesLectura = fecha.getMonth() : mesLectura = mesLectura;\n                    setMesLectura(mesLectura);\n                    setAnioLectura(data);\n                    cargarFechas(data, result.ValorLectura[0].Valor, mesLectura);\n                    setLecturaAnterior(result.Mensaje[0].LecturaActual != null ? result.Mensaje[0].LecturaActual : 0 );\n                }else{\n                    cargarFechas(fecha.getFullYear(), \"1\" , fecha.getMonth());\n                }\n                setBloquearcampos(result.BloquearCampos[0].Valor == 1);\n                setAnomalias(result.Anomalias);\n                setTipoLectura(result.ValorLectura[0].Valor)\n                setConsumo(0);\n            })\n            .catch((err) => {\n                console.log(\"aqui esta el error\");\n                let errorMessage = err.message + \"\";\n                if (errorMessage.includes(\"API\")) {\n                    setEnbleButtons(true);\n                }\n                setMessage(err.message);\n            })\n            .finally(() => { setLoading(false) });\n        }).catch((error)=>{\n\n        }).finally(()=>{setLoading(false)})\n        //Fin de extraer Consumo promedio del contribuyente\n    }\n    const cambiarFotoActiva = (foto: string, index: number) => {\n        setFotoActiva(foto);\n        setIndexFoto(index);\n    }\n    const borrarFotoEvidencia = () => {\n        let fotosTemporal = new Array;\n        let fotosEncoded = new Array;\n        fotosEvidencia.map((item, index) => {\n            if (index != indexFoto) {\n                fotosTemporal.push(item);\n            }\n        });\n        fotosCodificadas.map((item, index) => {\n            if (index != indexFoto) {\n                fotosEncoded.push(item);\n            }\n        })\n        setFotosEvidencia(fotosTemporal);\n        setFotosCodificadas(fotosEncoded);\n        setFotoActiva('');\n        pressentToast({\n            message: \"Se elimino la foto de la lista'\",\n            duration: 2000,\n            position: 'top',\n            buttons: [\n                {\n                    side: 'start',\n                    icon: checkmarkCircle,\n                }\n            ]\n        })\n    }\n    const cargarFechas = async (anioDefault: number, tipoLectura: string, mes: number) => {\n        const mesActual = (parseInt(fecha.getMonth().toString()));\n        await generarFechas(anioDefault).then((result) => {\n            setMesDefault(result[0].Meses[mesActual].mes);\n            setIndexMes(result[0].Meses[mesActual].id);\n            setlistaMeses(result[0].Meses);\n            setListaAnios(result[1].Anios);\n            // Se debe separar por casos\n            switch (tipoLectura) {\n                case '1':\n                    lecturaCasoUno(anioDefault, mes, result[0].Meses);\n                    break;\n                case '2':\n                    lecturaCasoDos(anioDefault, result[0].Meses[mesActual].id, result[0].Meses, result[1].Anios);\n                    break;\n                case '3':\n                    lecturaCasoTres(result[0].Meses);\n                    break;\n            }\n        })\n    }\n    const calcularConsumo = (consumido: number) => {\n        let result = consumido - lecturaAnterior;\n        setLecturaActual(consumido);\n        setDefaultLectura(consumido)\n        isNaN(result) ? setConsumo(0) : setConsumo(result)\n    }\n    const lecturaCasoUno = (anioResult: number, mes: number, meses: any[]) => {\n        let anhioLista = anioResult;\n        let esteMes = mes + 1;\n        setComparaAnio(anhioLista); //NOTE: se envia este compara anio al metodo de verificacion\n        let listaAnios = generarAniosPosterior(anioResult);\n        setListaAnios(listaAnios);\n        if (esteMes == 13) {\n            anhioLista = anioResult + 1;\n            esteMes = meses[0].id;\n            setMesDefault(meses[0].mes);\n            setComparaAnio(anioResult + 1);\n        }\n        setComparaMes(esteMes); //NOTE: se envia este compara anio al metodo de verificacion\n        setIndexMes(esteMes);\n\n        listaAnios.map((item, index) => {\n            if (item.anio == anhioLista) {\n                setIndexAnioActual(item.id);\n                setAnioActual(item.anio)\n            }\n        })\n        if (lecturaAnterior == null) {\n            setLecturaAnterior(0);\n        }\n    }\n    const lecturaCasoDos = (anioResult: number, mesResult: number, meses: any[], anios: any[]) => {\n        // se tomara la fecha actual para generar la lectura\n        let anhioLista = fecha.getFullYear();\n        let esteMes = fecha.getMonth();\n        meses.map((item, index) => {\n            if (item.id == esteMes) {\n                setIndexMes(item.id);\n                setMesDefault(item.mes);\n            }\n        })\n        setComparaMes(fecha.getMonth());    //NOTE: se envia este compara anio al metodo de verificacion\n        setComparaAnio(fecha.getFullYear());    //NOTE: se envia este compara anio al metodo de verificacion\n        //Generar lista de los años\n        let listaAnios = generarAnios(anhioLista);\n        setListaAnios(listaAnios);\n        listaAnios.map((item, index) => {\n            if (anhioLista == item.anio) {\n                setIndexAnioActual(item.id);\n                setAnioActual(item.anio);\n            }\n        })\n        if (lecturaAnterior == null) {\n            setLecturaAnterior(0);\n        }\n    }\n    const lecturaCasoTres = (meses: any[]) => {\n        // se Obtienen las fechas actuales\n        let mesComparacion = fecha.getMonth() + 1\n        setComparaMes(mesComparacion);  //NOTE: se envia este compara anio al metodo de verificacion\n        let anioComparar = fecha.getFullYear()\n        let esteMes = fecha.getMonth() + 1\n\n        if (esteMes == 13) {\n            anioComparar = fecha.getFullYear() + 1\n            esteMes = meses[0].id;\n            setMesDefault(meses[0].mes);\n            setComparaAnio(anioComparar);\n            setComparaMes(meses[0].id);\n        }\n\n        setAnioActual(anioComparar);\n        setComparaAnio(anioComparar);     //NOTE: se envia este compara anio al metodo de verificacion\n        setIndexMes(esteMes);\n        let listaAnios = generarAnios(anioComparar);\n        setListaAnios(listaAnios);\n        listaAnios.map((item, index) => {\n            if (item.anio == anioComparar) {\n                setIndexAnioActual(item.id);\n            }\n        })\n        if (lecturaAnterior == null) {\n            setLecturaAnterior(0);\n        }\n    }\n    const siguienteLectura = async () => {\n        await obtenerSiguienteIndice(datosContribuyente.idLectura)\n            .then((result) => {\n                if (result) {\n                    /*setTipoMessage(\"Mensaje\");\n                    setMessage(\"Lectura guardada\\nPasando a siguiente lectura...\");\n                    setTimeout(() => {\n                        setLoading(false);\n                        //Limpiando Componentes\n                        setActivarGaleria(false)\n                        setDefaultLectura(0)\n                        setFotoActiva('');\n                        setFotosCodificadas([]);\n                        setFotosEvidencia([]);\n                        setIndexFoto(0);\n                        setSeleccionAnomalia(-1)\n                        setDefaultAnomalia(-1)\n                        setRefreshControl(true);\n                        handleCancelAnomalia();\n                    }, 1000);*/\n                    setTipoMessage(\"Mensaje\");\n                    setMessage(\"Final de los datos en la pagina\\nRegresado...\");\n                    setPuntero(0);\n                    setNumeroPaginas(0);\n                    deleteContratos();\n                    setTimeout(() => {\n                        history.replace(\"/form-datos-toma.page\");\n                    }, 2500);\n                } else {\n                    setTipoMessage(\"Mensaje\");\n                    setMessage(\"Final de los datos en la pagina\\nRegresado...\");\n                    setPuntero(0);\n                    setNumeroPaginas(0);\n                    deleteContratos();\n                    setTimeout(() => {\n                        history.replace(\"/form-datos-toma.page\");\n                    }, 2500);\n                }\n\n            }).catch(err => {\n                setMessage(err.message);\n            }).finally(() => {\n                setLoading(false);\n            })\n    }\n    const mensajeConsumoCero = async () => {\n        //let value = contribuyenteBuscado();\n        /*if (!value) {\n            if (consumo <= 0) {\n                setEnbleButtons(false);\n                setTipoMessage(\"Mensaje\");\n                setMessage(\"El Consumo se calculo como el promedio de 12 meses\");\n                setTimeout(() => {\n                    setMessage(\"\");\n                    siguienteLectura();\n                }, 2000);\n            } else {\n                siguienteLectura();\n            }\n        } else {\n\n        }*/\n        setLoading(false);\n        setTipoMessage(\"Mensaje\");\n        setMessage(\"Lectura guardada\\nRegresado...\");\n        setTimeout(() => {\n            setContribuyenteBuscado(false);\n            history.replace(\"/form-datos-toma.page\");\n        }, 2500);\n    }\n    //Manejadores de la interfaz\n    const handleBtnGuardar = async () => {\n        try {\n            setLoading(true);\n            setTimeout(() => {\n                if (loading) {\n                    throw 0;\n                }\n            }, 20000);\n            if (!(fotosEvidencia.length == 0 && activarGaleria)) {\n                let mes = fecha.getMonth() + 1;\n                let anio = fecha.getFullYear();\n                let coords = await obtenerCoordenadas();\n                let validarConsumo = procesoConsumo(); // Falta la validacion del consumo\n                //NOTE: Verificamos la cuotafija\n                if( !fija ){\n                    let datosCapturados = {\n                        route: anio + \"\" + mes + \"/\",\n                        lecturaAnterior:  lecturaAnterior,\n                        lecturaActual: bloqueoAnomalias ? lecturaAnterior : lecturaActual,\n                        consumoFinal: validarConsumo,\n                        mesCaptura: indexMes,\n                        anhioCaptura: anioActual,\n                        fechaCaptura: fecha,\n                        anomalia: seleccionAnomalia == 0 ? \"\" : seleccionAnomalia,\n                        tipoCoordenada: 1,\n                        arregloFotos: fotosCodificadas,\n                        comparaMes: comparaMes,\n                        comparaAnio: comparaAnio,\n                        lectura: 1,\n                        arrayAnios: listaAnios,\n                        indexAnio: indexAnioActual,\n                        mesLectura: mesLectura,\n                        nCliente: datosContribuyente.nCliente,\n                        token: datosContribuyente.token,\n                        idUsuario: datosContribuyente.idUsuario,\n                        idToma: datosContribuyente.idLectura,\n                        Latidude:  String(coords.latitude) ,\n                        Longitude: String(coords.longitude),\n                    }\n                    await guardarCaptura(datosCapturados)\n                        .then((result) => { mensajeConsumoCero(); })\n                        .catch((err) => { setLoading(false); setMessage(err.message) });\n                }else{\n                    guardarDatosCuotaFija(validarConsumo,coords);\n                }\n            } else {\n                setMessage(\"Debe capturar almenos 1 foto\")\n                setLoading(false);\n            }\n        } catch (err) {\n            console.log(err);\n            setLoading(false);\n            setMessage(`Tiempo de espera agotado.\n            Asegúrese de activar la ubicación del dispositivo`)\n        }\n    }\n    //NOTE: metodo para enviar los datos de la cuotafija\n    const guardarDatosCuotaFija = async ( consumo:Number, coords: any ) => {\n        //NOTE: creamos el formato de los datos\n        let datos = {\n            Cliente: datosContribuyente.nCliente,\n            Consumo: consumo,\n            Anio: anioActual,\n            padron: datosContribuyente.idLectura,\n            mes: indexMes,\n            anomalia: seleccionAnomalia == 0 ? \"\" : seleccionAnomalia,\n            idUsuario: datosContribuyente.idUsuario,\n            Fotos: fotosCodificadas,\n            tipoCoordenada: 1,\n            Latidude:  String(coords.latitude),\n            Longitude: String(coords.longitude),\n        };\n        console.log(datos);\n        await guardarCuotaFija(datos)\n        .then(()=>{\n            mensajeConsumoCero();\n        })\n        .catch(( error )=>{\n            setLoading(false); setMessage(error.message);\n        }).finally(()=>{\n            setLoading(false);\n        })\n    }\n\n    const handleSelectAnio = (value: number) => {\n        listaAnios.map((item, index) => {\n            if (item.id == value) {\n                setAnioActual(item.anio)\n                setIndexAnioActual(item.id)\n            }\n        })\n    }\n    const handleSelectMes = (value: number) => {\n        listaMeses.map((item, index) => {\n            if (item.id == value) {\n                setIndexMes(item.id);\n                setMesDefault(item.mes);\n            }\n        })\n    }\n    const handleSelectAnomalia = (seleccionAnomalia: number) => {\n        setSeleccionAnomalia(seleccionAnomalia);\n        setDefaultAnomalia(seleccionAnomalia);\n        setConsumo(promedioLectura);\n        setBloqueoAnomalias(seleccionAnomalia != 0);\n        anomalias.map((item, index) => {\n            if (item.id == seleccionAnomalia) {\n                    setActivarGaleria(true);\n                    console.log(item.ActualizarAdelante + \" - \" + item.ActualizarAtras + \" Se activa: \" + (parseInt(item.ActualizarAdelante) == 0 || parseInt(item.ActualizarAtras) == 0));\n                    if(parseInt(item.ActualizarAdelante) == 1 || parseInt(item.ActualizarAtras) == 1 ){\n                        setBloqueoAnomalias(false);\n                        setLecturaActual(defaultLectura);\n                    }else{\n                        setBloqueoAnomalias(true);\n                        setLecturaActual(lecturaAnterior);\n                    }\n                    setConsumoMinimo(item.Minima);\n                    if(defaultLectura != 0){\n                        console.log(\"Procesando Consumo\");\n                        setConsumo(procesoConsumo());\n                    }\n                    if(seleccionAnomalia == 24){\n                        setConsumo(promedioLectura);\n                    }\n            }\n        });\n    }\n    const handleCancelAnomalia = () => { \n        setActivarGaleria(false);\n        setDefaultAnomalia(0);\n        setBloqueoAnomalias(false);\n    }\n    const handleAbrirCamera = async () => {\n        setLoading(true);\n        await takePhoto()\n            .then(async (result) => {\n                if (fotosEvidencia.length <= 2) {\n                    setLoading(true);\n                    agregarImagenEncode(result.webPath + \"\");\n                }\n                else {\n                    setLoading(false)\n                    setMessage(\"Solo se permiten 3 fotos como máximo\")\n                }\n            })\n            .catch((err) => {\n                let errorType = err.message + \"\";\n                if (errorType.includes(\"denied\")) {\n                    setMessage(\"La aplicación no tiene permisos para usar la cámara\")\n                }\n            }).finally(() => { setLoading(false) })\n    }\n    //llamada al metodo de convercion\n    const agregarImagenEncode = async (imgDir: string) => {\n        await obtenerBase64(imgDir).then((result) => {\n            setFotoActiva(imgDir);\n            setFotosEvidencia(fotosEvidencia => [...fotosEvidencia, imgDir]);\n            setIndexFoto(fotosEvidencia.length);\n            setFotosCodificadas(fotosCodificadas => [...fotosCodificadas, result])\n        }).finally(() => { setLoading(false) })\n    }\n    //METODOS PARA GENERAR ETIQUETAS DE LA INTERFAZ\n    const generarGaleria = () => {\n        if (activarGaleria) {\n            let data =\n                <div>\n                    <IonItem>\n                        <IonLabel >Adjuntar evidencia (maximo 3 fotos)</IonLabel>\n                        <IonIcon icon={camera} className=\"iconStyle\" onClick={handleAbrirCamera}></IonIcon>\n                    </IonItem>\n                    {\n                        fotosEvidencia.length > 0 ?\n                            <IonItem>\n                                <IonRow>\n                                    {\n                                        fotosEvidencia.map((item, index) => {\n                                            return <IonCol key={index}><IonImg src={item} onClick={() => { cambiarFotoActiva(item, index) }} className=\"imgFormat\"></IonImg></IonCol>\n                                        })\n                                    }\n                                </IonRow>\n                            </IonItem> : <></>\n                    }\n                </div>;\n            return data;\n        }\n    }\n    const formatindex = (index: string) => {\n        let result = \"\";\n        let numIndex = Number(index);\n        if (isNaN(numIndex)) {\n            result = '00';\n        } else {\n            numIndex <= 9 ? result = String(\"0\" + numIndex) : result = String(numIndex);\n        }\n        return result;\n    }\n    const btnDetallesContribuyente = () => {\n        history.push(\"/datos-contribuyente.page\");\n    }\n    const btnRegresar = () =>{\n        history.replace(\"/form-datos-toma.page\");\n    }\n    const procesoConsumo = () => {\n        let consumoProcesado = 0;\n        if(seleccionAnomalia != 0){\n            if(bloqueoAnomalias){ // este es el proceso de las anomalias sin capturas\n                if (promedioLectura < consumoMinimo){\n                    consumoProcesado = consumoMinimo;\n                }else{\n                    consumoProcesado = promedioLectura;\n                }\n            }else{ //este el el proceso de las anomalias con captura\n                if(consumo < promedioLectura){\n                    consumoProcesado = promedioLectura;\n                }\n                if(promedioLectura < consumoMinimo){\n                    consumoProcesado = consumoMinimo;\n                }\n                if(consumoMinimo < consumo){\n                    consumoProcesado =  consumo;\n                }\n            }\n        }else{ // este es el proceso de captura normal\n            consumoProcesado = consumo;\n        }\n        if(seleccionAnomalia == 47){\n            consumoProcesado = consumoMinimo;\n        }\n        if(seleccionAnomalia == 99){\n            if(lecturaActual < consumoMinimo){\n                consumoProcesado = consumoMinimo;\n            }else{\n                consumoProcesado = lecturaActual;\n            }\n        }\n        if(seleccionAnomalia == 24){\n            consumoProcesado = promedioLectura;\n        }\n        setConsumo(consumoProcesado);\n        return consumoProcesado;\n    }\n    return (\n        <IonPage>\n      {\n        activarMenu ? \n        <MenuLeft />: <></>\n      }\n            <IonHeader>\n                <IonToolbar color=\"danger\" >\n                    <IonTitle>Captura de lectura</IonTitle>\n                    <IonButtons slot=\"start\" className=\"btnMenu\">\n                        <IonMenuButton ></IonMenuButton>\n                    </IonButtons>\n                </IonToolbar>\n            </IonHeader>\n            <IonContent>\n                <IonCard>\n                    <IonCardHeader className=\"headerData\">\n                        <div className=\"datosContribuyete\">\n                            <h3>{datosContribuyente.contribuyente}</h3>\n                            <p>Contrato: {datosContribuyente.contratoVigente}, &nbsp;&nbsp; Medidor: {datosContribuyente.medidor}, &nbsp;&nbsp; Toma: {toma}</p>\n                            <p>Municipio: {municipio}, &nbsp;&nbsp; Localidad: {localidad}</p>\n                            <p>{`Dirección: ${direccion}`}</p>\n                            <IonGrid>\n                                <IonRow>\n                                    <IonCol size=\"11\">\n                                    </IonCol>\n                                    <IonCol size=\"1\">\n                                        <IonChip color=\"danger\" onClick={btnDetallesContribuyente}>\n                                            <IonIcon icon={pencil} className=\"btnEditar\" />\n                                        </IonChip>\n                                    </IonCol>\n                                </IonRow>\n                            </IonGrid>\n                        </div>\n                    </IonCardHeader>\n                    <IonCardContent>\n                        <br />\n                        <IonItem>\n                            <IonLabel>Lectura anterior:</IonLabel>\n                            <IonInput disabled className=\"disabledInput\">{`${lecturaAnterior}`}</IonInput>\n                        </IonItem>\n                        <br />\n                        <IonItem>\n                            <IonLabel>Lectura actual:</IonLabel>\n                            <IonInput disabled = {bloqueoAnomalias} type=\"number\" placeholder=\"0\" value={defaultLectura} onIonChange={e => { calcularConsumo(parseFloat(e.detail.value + \"\")) }}></IonInput>\n                        </IonItem>\n                        <br />\n                        <IonItem>\n                            <IonLabel>Consumo:</IonLabel>\n                            <IonInput disabled className=\"disabledInput\" value={consumo}></IonInput>\n                        </IonItem>\n                        <br />\n                        <IonItem>\n                            <IonLabel>Fecha de lectura:</IonLabel>\n                            <IonDatetime disabled displayFormat=\"DD/MM/YYYY\" min=\"2000\" max=\"2026\" value={`${fecha}`}></IonDatetime>\n                        </IonItem>\n                        <br />\n                        <IonItem>\n                            <IonLabel>Anomalía</IonLabel>\n                            <IonSelect interface=\"action-sheet\" onIonCancel = {handleCancelAnomalia} value={defaultAnomalia} onIonChange={e => { handleSelectAnomalia(e.detail.value) }}>\n                                {\n                                    anomalias.map((item, index) => {\n                                        return <IonSelectOption key={index} value={item.id}>\n                                            {`${item.clave <= 10 ? formatindex(item.clave) : item.clave} - ${item.descripci_on}`}\n                                        </IonSelectOption>\n                                    })\n                                }\n                            </IonSelect>\n                        </IonItem>\n                        <br />\n                        {\n                            generarGaleria()\n                        }\n                        {\n                            fotoActiva != '' ?\n                                <IonItem>\n                                    <IonCard className=\"centrar\">\n                                        <IonImg src={fotoActiva} />\n                                        <IonCardContent >\n                                            <IonButtons>\n                                                <IonButton color=\"secondary\" onClick={() => { setFotoActiva('') }}>Cerrar</IonButton>\n                                                <IonButton color=\"danger\" onClick={() => { borrarFotoEvidencia() }} >Eliminar</IonButton>\n                                            </IonButtons>\n                                        </IonCardContent>\n                                    </IonCard>\n                                </IonItem> : <></>\n                        }\n                        <IonItem>\n                            <IonLabel>Mes: </IonLabel>\n                            <IonSelect interface=\"action-sheet\" value={indexMes} selectedText={`${mesDefautl}`} disabled={bloquearCampos} onIonChange={e => handleSelectMes(e.detail.value)}>\n                                {\n                                    listaMeses.map((item, index) => {\n                                        return <IonSelectOption key={index} value={item.id} >{item.mes}</IonSelectOption>\n                                    })\n                                }\n                            </IonSelect>\n                        </IonItem>\n                        <IonItem>\n                            <IonLabel>Año: </IonLabel>\n                            <IonSelect interface=\"action-sheet\" value={indexAnioActual} selectedText={`${anioActual}`} disabled={bloquearCampos} onIonChange={e => handleSelectAnio(e.detail.value)}>\n                                {\n                                    listaAnios.map((item, index) => {\n                                        return <IonSelectOption key={index} value={item.id}>{item.anio}</IonSelectOption>\n                                    })\n                                }\n                            </IonSelect>\n                        </IonItem>\n                        <br />\n                        <div className=\"centrar\">\n                            <IonGrid>\n                                <IonRow>\n                                    <IonCol size=\"4\">\n                                        <IonButton color=\"secondary\" onClick = {btnRegresar}>\n                                            <IonIcon icon={chevronBackCircleOutline} slot=\"start\"></IonIcon>\n                                            Regresar\n                                        </IonButton>\n                                    </IonCol>\n                                    <IonCol size=\"4\" ></IonCol>\n                                    <IonCol size=\"4\" >\n                                        <IonButton color=\"danger\" onClick={handleBtnGuardar} disabled={btnInactivo}>\n                                            Guardar\n                                            <IonIcon icon={saveOutline} slot=\"end\"></IonIcon>\n                                        </IonButton>\n                                    </IonCol>\n                                </IonRow>\n                            </IonGrid>\n\n                        </div>\n                    </IonCardContent>\n                </IonCard>\n                <IonAlert\n                    cssClass=\"my-custom-class\"\n                    header={tipoMessage}\n                    message={message}\n\n                    isOpen={message.length > 0}\n                    backdropDismiss={false}\n                    buttons={enbleButtons ? alertButtons : [{ text: 'Aceptar', handler: () => { setMessage(\"\") } }]}\n                />\n                <IonLoading\n                    cssClass=\"my-custom-class\"\n                    isOpen={loading}\n                    onDidDismiss={() => { setLoading(false); }}\n                    message=\"Por favor espere\"\n                />\n            </IonContent>\n        </IonPage>\n    );\n}\n\nexport default CapturaDeLectura;","import { IonAlert, IonButton, IonButtons, IonCard, IonCardContent, IonCardHeader, IonCol, IonContent, IonDatetime, IonGrid, IonHeader, IonIcon, IonItem, IonItemDivider, IonLabel, IonList, IonLoading, IonMenuButton, IonPage, IonRow, IonTitle, IonToolbar, useIonViewWillEnter } from \"@ionic/react\";\nimport React, { useEffect, useState } from \"react\";\nimport MenuLeft from '../../components/left-menu';\nimport { contractOutline, eyeOutline } from 'ionicons/icons';\nimport { historialFechas } from '../../controller/apiController';\nimport { guardarDatosEditarLectura, verifyingSession, cerrarSesion, setFechasHistorialLectura, getFechasHistorialLectura } from '../../controller/storageController';\nimport { useHistory } from 'react-router-dom'\nconst HistorialLecturas: React.FC = () => {\n    const fecha = new Date();\n    const history = useHistory();\n    const [fechaInicio, setFechaInicio] = useState('');\n    const [fechaFinal, setFechaFinal] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [historial, setHistorial] = useState<any[]>([])\n    const [message, setMessage] = useState('');\n    const [tipoMensaje, setTipoMensaje] = useState(\"MENSAJE\");\n    const [block, setBlock] = useState(false);\n    const [conectionError, setConectionErro] = useState(false);\n    const [expiredToken, setExpiredToken] = useState(Boolean);\n    const alertsButtons = [\n        {\n            text: \"Reintentar\",\n            handler: () => { setMessage(\"\"); setConectionErro(false); extraerHistorial(fechaInicio,fechaFinal); }\n        },\n        {\n            text: \"Cancelar\",\n            handler: () => { setConectionErro(false) }\n        }\n    ]\n    const isSessionValid = () => {\n        let valid = verifyingSession();\n        setExpiredToken(!valid);\n        setBlock(!valid);\n    }\n    useEffect(() => {\n        setFechaInicio(fecha.getFullYear() + \"-\" + (fecha.getMonth() + 1) + \"-\" + (fecha.getDate()));\n        setFechaFinal(fecha.getFullYear() + \"-\" + (fecha.getMonth() + 1) + \"-\" + (fecha.getDate()));\n        console.log(fechaInicio, \"\\n\\n\", fechaFinal)\n        isSessionValid();\n    }, [])\n    useEffect(() => { logOut() }, [expiredToken]);\n    const verificarFechas = () =>{\n        let data = getFechasHistorialLectura();\n        if(data != null){\n            setFechaInicio(String(data.desde));\n            setFechaFinal(String(data.hasta));\n            extraerHistorial(String(data.desde),String(data.hasta));\n\n        }\n    }\n    useIonViewWillEnter(verificarFechas)\n\n    const logOut = () => {\n        if (expiredToken) {\n            setTipoMensaje(\"Sesión no valida\");\n            setMessage(\"Inicie sesión por favor\\nRegresando...\");\n            setTimeout(() => {\n                cerrarSesion().then((result) => {\n                    setTipoMensaje('MENSAJE');\n                    setMessage('');\n                    history.replace('/home');\n                })\n            }, 2500)\n        }\n    }\n    const extraerHistorial = async (desde: string,hasta:string) => {\n        let selectionValid = validateFechas(desde,hasta);\n        if (selectionValid) {\n            setLoading(true)\n            await historialFechas(desde, hasta)\n                .then((result) => {\n                    if (result.Status) {\n                        console.log(result.Mensaje)\n                        setHistorial(result.Mensaje);\n                    } else {\n                        setHistorial([]);\n                        setTipoMensaje(\"MENSAJE\");\n                        setMessage(\"No se encontraron resultados.\");\n                    }\n                })\n                .catch((err) => {\n                    console.log(err);\n                    let errorMessage = String(err.message);\n                    setExpiredToken(errorMessage.includes(\"Sesion no valida\"));\n                    setConectionErro(errorMessage.includes(\"API\"));\n                    if (!expiredToken) {\n                        setTipoMensaje(\"ERROR\");\n                        setMessage(errorMessage);\n                    }\n                })\n                .finally(() => { setLoading(false) })\n        }else{\n            setTipoMensaje(\"Mensaje\")\n            setMessage(\"Selección de fechas no validas\");\n        }\n    }\n    //manejadores de la interfaz\n    const handleSelectFechaInicio = (date: String) => {\n        setFechaInicio(date.split(\"T\")[0]);\n        console.log(fechaInicio);\n    }\n    const handleSelectFechaFin = (date: any) => {\n        setFechaFinal(date.split(\"T\")[0]);\n        console.log(fechaFinal)\n    }\n    const validateFechas = (desde: string,hasta: string) => {\n        let fechaDesde = new Date(desde);\n        let fechaHasta = new Date(hasta);\n        if (fechaDesde <= fechaHasta) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n    const editarContribuyente = (datos: any) => {\n        //Guardar fechas historial\n        setFechasHistorialLectura(fechaInicio,fechaFinal);\n        guardarDatosEditarLectura(datos.idLectura, datos.ContratoVigente, datos.Contribuyente, datos.Medidor);\n        // Mostrar editarLecturaAgua\n        history.replace('/editar-lecturas-agua.page');\n    }\n    return (\n        <IonPage>\n            <IonContent>\n                <MenuLeft />\n                <IonHeader>\n                    <IonToolbar color=\"danger\" >\n                        <IonTitle>Historial de lecturas</IonTitle>\n                        <IonButtons slot=\"start\" className=\"btnMenu\">\n                            <IonMenuButton ></IonMenuButton>\n                        </IonButtons>\n                    </IonToolbar>\n                </IonHeader>\n                <IonCard>\n                    <IonCardHeader>\n                        <div className=\"center\">\n                            <h5>Seleccione la fecha</h5>\n                        </div>\n                    </IonCardHeader>\n                    <IonItem>\n                        <IonGrid>\n                            <IonRow>\n                                <IonCol size=\"6\">\n                                    <div className=\"center\">\n                                        <label>Desde: </label>\n                                        <IonDatetime disabled={block} value={fechaInicio} displayFormat=\"DD-MM-YYYY\" pickerFormat=\"DD-MM-YYYY\" cancelText=\"Cancelar\" doneText=\"Aceptar\" onIonChange={e => { handleSelectFechaInicio(e.detail.value + \"\") }} >{fechaInicio}</IonDatetime>\n                                    </div>\n                                </IonCol>\n                                <IonCol size=\"6\">\n                                    <div className=\"center\">\n                                        <label>Hasta: </label>\n                                        <IonDatetime disabled={block} value={fechaFinal} displayFormat=\"DD-MM-YYYY\" cancelText=\"Cancelar\" doneText=\"Aceptar\" onIonChange={e => { handleSelectFechaFin(e.detail.value + \"\") }} >{fechaFinal}</IonDatetime>\n                                    </div>\n                                </IonCol>\n                            </IonRow>\n                        </IonGrid>\n                    </IonItem>\n                    <br />\n                    <div className=\"center\">\n                        <IonButton disabled={block} color=\"danger\" onClick={()=>{extraerHistorial(fechaInicio,fechaFinal)}}>Generar</IonButton>\n                    </div>\n                </IonCard>\n                <IonCard>\n                    <IonCardContent>\n                        <IonList>\n                            {\n                                historial.map((item, index) => {\n                                    return <IonItem key={index} onClick={() => { editarContribuyente(item) }}>\n                                        <IonList>\n                                            <h6>{item.Fecha}</h6>\n                                            <label>{item.Contribuyente}</label><br />\n                                            <label>{`Contrato: ${item.ContratoVigente} , Medidor: ${item.Medidor}, Toma: ${item.Toma}`}</label>\n                                        </IonList>\n                                        <label slot=\"end\" ><IonIcon icon={eyeOutline} color=\"primary\"></IonIcon></label>\n                                    </IonItem>\n                                })\n                            }\n                        </IonList>\n                    </IonCardContent>\n                </IonCard>\n                <IonLoading\n                    cssClass=\"my-custom-class\"\n                    isOpen={loading}\n                    onDidDismiss={() => { setLoading(false); }}\n                    message=\"Por favor espere\"\n                />\n                <IonAlert\n                    cssClass=\"my-custom-class\"\n                    header={tipoMensaje}\n                    message={message}\n                    isOpen={message.length > 0}\n                    backdropDismiss={false}\n                    onDidDismiss={() => { setConectionErro(false) }}\n                    buttons={conectionError ? alertsButtons : [{ text: \"Aceptar\", handler: () => { setMessage(\"\"); } }]}\n                />\n            </IonContent>\n        </IonPage>\n    )\n}\nexport default HistorialLecturas;","import React, { useEffect, useState } from 'react';\nimport {\n    IonPage,\n    IonButtons,\n    IonHeader,\n    IonMenuButton,\n    IonTitle,\n    IonToolbar,\n    IonContent,\n    IonCard,\n    IonCardHeader,\n    IonCardContent,\n    IonItem,\n    IonLabel,\n    IonInput,\n    IonDatetime,\n    IonSelect,\n    IonSelectOption,\n    IonButton,\n    IonIcon,\n    IonAlert,\n    IonToast,\n    IonLoading,\n    IonGrid,\n    IonRow,\n    IonCol\n} from '@ionic/react';\nimport LeftMenu from '../../components/left-menu';\nimport { getDatosLecturaEditar, actualizarLectura, obtenerPromedioEditar} from '../../controller/apiController';\nimport { saveOutline, checkmarkCircleOutline, chevronBackCircleOutline, star, } from 'ionicons/icons';\nimport { useHistory } from \"react-router-dom\";\nimport { useTakePhoto, generarFechas, obtenerBase64, generarAniosPosterior, generarAnios, obtenerCoordenadas } from '../../utilities';\nimport { cerrarSesion, extraerDatosEditarLectura, verifyingSession } from '../../controller/storageController';\nconst EditarLecturaAgua: React.FC = () => {\n    const history = useHistory();\n    const [datosContribuyente, setDatosContribuyente] = useState(Object)\n    const [loading, setLoading] = useState(false);\n    const [anomalias, setAnomalias] = useState<any[]>([]);\n    const [bloquearCampos, setBloquearDatos] = useState(true);\n    const [tipoLectura, setTipoLectura] = useState(Number);\n    const [anhioLectura, setAnhioLectura] = useState(Number);\n    const [mesLectura, setMesLectura] = useState(Number)\n    const [validarAnhio, setValidarAnhio] = useState(Number);\n    const [validarMes, setValidarMes] = useState(Number);\n    const [message, setMessage] = useState(String);\n    const [listaAnhios, setListaAnhios] = useState<any[]>([]);\n    const [listaMeses, setListaMeses] = useState<any[]>([]);\n    const [consumo, setConsumo] = useState(Number);\n    const [lecturaActual, setLecturaActual] = useState(Number);\n    const [lecturaAnterior, setLecturaAnterior] = useState(Number);\n    const [tipoAnomalia, setTipoAnomalia] = useState(Number);\n    const [fechaLectura, setFechaLectura] = useState(Date);\n    const [tipoMensaje, setTipoMensaje] = useState(String);\n    const [showToast, setShowToast] = useState(false);\n    const [connectionError, setConnectionError] = useState(false);\n    const [block, setBlock] = useState(false);\n    const [tokenExpired, setTokenExpered] = useState(false);\n    const [traceError, setTraceError] = useState(String);\n    //INDEV: Actualizar el registro de la lectura\n    const [bloqueoAnomalias, setBloqueoAnomalias] = useState(false);\n    const [seleccionAnomalia,setSeleccionAnomalia] = useState(0);\n    const [promedioLectura,setPromedioLectura] = useState(Number);\n    const [consumoMinimo,setConsumoMinimo] = useState(20);\n    const [lecturaRegistrada,setLecturaRegistrada] = useState(Number);\n    let consumoDatos = 0;\n    const fecha = new Date();\n    const alertRetriButtons = [\n        { text: \"Reintentar\", handler: () => { setMessage(\"\"); traceError == \"onLoad\" ? cargarDatos() : guardarLectura(); } },\n        { text: \"Aceptar\", handler: () => { setTraceError(\"\"); setMessage(\"\"); } }\n    ]\n    const alertAcceptButtons = [{ text: \"Aceptar\", handler: () => { } }];\n    const isSessionValid = () => {\n        let valid = verifyingSession(); //Verificamos si existe algun token guardado\n        setTokenExpered(!valid);        //Validacion para ver si el token expiro (Si valid == false se lanza el error de la sesion)\n        setBlock(!valid);               //Si existe el token\n    }\n    \n    const cargarDatos = async () => {\n        setLoading(true);\n        let result = extraerDatosEditarLectura();\n        setDatosContribuyente(result);\n        //Obtenemos el promedio de las lecturas\n        await getDatosLecturaEditar()\n            .then((result) => {\n                if (result.Status) {\n                    //Me falta contrato vigente\n                    console.log(result.Mensaje);\n                    setDatosContribuyente(result.Mensaje[0]);\n                    generarFechasAnhios(parseInt(result.Mensaje[0].A_no));\n                    filtrarLectura(result)\n\n                } else {\n                    setTipoMensaje(\"Mensaje\");\n                    setMessage(\"No se encontraron resultados.\");\n                }\n            })\n            .catch((err) => {\n                let errorMessage = String(err.message);\n                setConnectionError(errorMessage.includes(\"API\"));\n                let sessionValid = errorMessage.includes(\"Sesion no valida\");\n                console.log(\"El toke es valido ?\", sessionValid)\n                setTokenExpered(sessionValid);\n                if (!sessionValid) {\n                    setTraceError(\"onLoad\");\n                    setMessage(err.message)\n                    setTipoMensaje(\"ERROR\");\n                }\n            })\n            .finally(() => {\n                setLoading(false)\n            })\n    }\n    useEffect(() => { isSessionValid(); }, [anhioLectura]);\n    useEffect(() => { logOut(tokenExpired); }, [tokenExpired])\n    const logOut = (valid: boolean) => {\n        if (valid) {\n            setTipoMensaje(\"Sesión no valida\");\n            setMessage(\"Inicie sesión por favor\\nRegresando...\");\n            setTimeout(async () => {\n                setMessage('');\n                setTipoMensaje('MENSAJE')\n                await cerrarSesion().then((result) => {\n                    history.replace(\"/home\");\n                })\n            }, 2500)\n        } else {\n            cargarDatos();\n        }\n    }\n    const filtrarLectura = async (result: any) => {\n        console.log(result.tipoLectura[0].Valor);\n        result.bloqueoCampos[0].Valor == 0 ? setBloquearDatos(false) : setBloquearDatos(true);\n        setTipoLectura(result.tipoLectura[0].Valor);\n        setAnomalias(result.Anomalias);\n        let lectura = result.tipoLectura[0].Valor;\n        if (lectura == 1 || lectura == 2 || lectura == 3) {\n            setAnhioLectura(result.Mensaje[0]['A_no']);\n            setMesLectura(result.Mensaje[0]['Mes'])\n            setValidarAnhio(result.Mensaje[0]['A_no']);\n            setValidarMes(result.Mensaje[0]['Mes']);\n            //Obtenemos el promedio\n            await obtenerPromedioEditar(result.Mensaje[0]['Padr_onAgua']).then((result)=>{\n                setPromedioLectura(result);\n            }).catch((e)=>{\n                setPromedioLectura(0);\n            });\n        } else {\n            //Mensaje de error\n            setTipoMensaje('ERROR')\n            setMessage('Consulte con su administrador que el código de lecturas de agua se encuentre en el rango de 1-3');\n            setTimeout(() => {\n                history.goBack();\n            }, 2000)\n        }\n        let datosLectura = result.Mensaje[0];\n        setConsumo(datosLectura.Consumo);\n        consumoDatos = datosLectura.Consumo;\n        setLecturaActual(datosLectura.LecturaActual);\n        setLecturaRegistrada(datosLectura.LecturaActual);\n        setLecturaAnterior(datosLectura.LecturaAnterior);\n        datosLectura.Observaci_on == null ? setTipoAnomalia(0) : setTipoAnomalia(datosLectura.Observaci_on);\n        setFechaLectura(datosLectura.FechaLectura);\n    }\n    const generarFechasAnhios = async (anio: number) => {\n        let data = await generarFechas(anio);\n        setListaAnhios(data[1].Anios);\n        setListaMeses(data[0].Meses);\n    }\n    const handleCalcularconsumo = (consumido: number) => {\n        //Calculando el consumo\n        let result = consumido - lecturaAnterior;\n        setLecturaActual(consumido);\n        isNaN(result) ? setConsumo(0) : setConsumo(result)\n        \n    }\n    const guardarLectura = async () => {\n        setLoading(true);\n        //localStorage.setItem(\"@Storage::userToken\",\"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJodHRwczpcL1wvYXBpLnNlcnZpY2lvZW5saW5lYS5teFwvYXBpLW1vdmlsXC9sb2dpbi1wcmVzaWRlbnRlUHJ1ZWJhIiwiaWF0IjoxNjIxMzY1OTk0LCJleHAiOjE2MjE0MDE5OTQsIm5iZiI6MTYyMTM2NTk5NCwianRpIjoiV0w3VE9EeUZpQkhWZzZqRSIsInN1YiI6MzgwMCwicHJ2IjoiODdlMGFmMWVmOWZkMTU4MTJmZGVjOTcxNTNhMTRlMGIwNDc1NDZhYSJ9.5aG5sSnugBRIPvmj0QcbhHuqxPfBRkwrxN74bGz1uho\");\n        console.log(anhioLectura, mesLectura,datosContribuyente.Padr_onAgua);\n        let consumoCalculado = procesoConsumo();\n        if(consumoCalculado == 0){\n            setTipoMensaje(\"MENSAJE\");\n            setMessage(\"No se ha calculado el consumo\");\n            setLoading(false);\n        }else if(consumoCalculado < 0){\n            setTipoMensaje(\"MENSAJE\");\n            setMessage(\"La lectura actual no puede ser menor a la anterior\");\n            setLoading(false);\n        }else{\n            //Enviamos los datos a editar\n            let data = {\n                anhioLectura: anhioLectura,\n                consumo: consumoCalculado,\n                fechaLectura: fechaLectura,\n                lecturaActual: lecturaActual,\n                lecturaAnterior: lecturaAnterior,\n                mesLectura: mesLectura,\n                tipoAnomalia: tipoAnomalia,\n                validarAnhio: validarAnhio,\n                validarMes: validarMes,\n                idPadron: datosContribuyente.Padr_onAgua,\n            }\n            console.log(data);\n            setLoading(false);\n                 /*await actualizarLectura(data)\n            .then((result) => {\n                setShowToast(true);\n                console.log(result)\n            })\n            .catch((err) => {\n                let errorMessage = String(err.message);\n                setConnectionError(errorMessage.includes(\"API\"));\n                let sessionValid = errorMessage.includes(\"Sesion no valida\");\n                setTokenExpered(sessionValid);\n                if (!sessionValid) {\n                    setTraceError(\"onUpdate\");\n                    setTipoMensaje(\"ERROR\");\n                    setMessage(err.message)\n                }\n            })\n            .finally(() => {\n                setLoading(false);\n            })*/\n        }\n   \n    }\n    const regresarPantalla = async () => {\n        if (showToast) {\n            setShowToast(false);\n            history.replace('/historial-lecturas.page');\n        }\n    }\n    //Manejadores de \n    const handleSelectMes = (mes: string) => {\n        setMesLectura(parseInt(mes));\n    }\n    const handleSelectAnio = (anio: string) => {\n        setAnhioLectura(parseInt(anio));\n    }\n    const handlebtnRegresar = () => {\n        history.replace(\"/historial-lecturas.page\");\n        console.log(\"Regresando\");\n    }\n    const handleSelectAnomalia = (selectAnomalia: number) =>{\n        setSeleccionAnomalia(selectAnomalia);\n        setTipoAnomalia(selectAnomalia);\n        anomalias.map((item,index)=>{\n            if(item.id == selectAnomalia){\n                if(parseInt(item.ActualizarAdelante) == 1 || parseInt(item.ActualizarAtras) == 1){\n                    setBloqueoAnomalias(false);\n                }else{\n                    setBloqueoAnomalias(true);\n                    setLecturaActual(lecturaAnterior);\n                }\n                setConsumoMinimo(item.Minima);\n                console.log(item.Minima + \"Consumo calculado\");\n                if(lecturaActual != 0){\n                    setConsumo(procesoConsumo());\n                }\n                if(selectAnomalia == 24){\n                    setConsumo(promedioLectura);\n                }\n            }\n        });\n    }\n    const handleCancelAnomalia = () =>{\n        setTipoAnomalia(0);\n        setSeleccionAnomalia(0);\n        setBloqueoAnomalias(false);\n        handleCalcularconsumo(lecturaActual);\n        setLecturaActual(lecturaRegistrada);\n    }\n    const procesoConsumo = () => {\n        let consumoProcesado = 0;\n        console.log(seleccionAnomalia);\n        if( seleccionAnomalia != 0){\n            if(bloqueoAnomalias){ // este es el proceso de las anomalias sin capturas\n                if (promedioLectura < consumoMinimo){\n                    consumoProcesado = consumoMinimo;\n                }else{\n                    consumoProcesado = promedioLectura;\n                }\n            }else{ //este el el proceso de las anomalias con captura\n                if(consumo < promedioLectura){\n                    consumoProcesado = promedioLectura;\n                }\n                if(promedioLectura < consumoMinimo){\n                    consumoProcesado = consumoMinimo;\n                }\n                if(consumoMinimo < consumo){\n                    consumoProcesado =  consumo;\n                }\n            }\n        }else{ // este es el proceso de captura normal\n            if(consumo < consumoMinimo && consumo > 0){\n                consumoProcesado = consumoMinimo;\n            }else{\n                consumoProcesado = consumo;\n            }\n        }\n        if(tipoAnomalia == 47){\n            consumoProcesado = consumoMinimo;\n        }\n        if(tipoAnomalia == 99){\n            if(lecturaActual < consumoMinimo){\n                consumoProcesado = consumoMinimo;\n            }else{\n                consumoProcesado = lecturaActual;\n            }\n        }\n        if(tipoAnomalia == 24){\n            consumoProcesado = promedioLectura;\n        }\n        \n        setConsumo(consumoProcesado);\n        return consumoProcesado;\n    }\n    return (\n        <IonPage>\n            <LeftMenu />\n            <IonHeader>\n                <IonToolbar color=\"danger\" >\n                    <IonTitle>Editar lectura</IonTitle>\n                    <IonButtons slot=\"start\" className=\"btnMenu\">\n                        <IonMenuButton ></IonMenuButton>\n                    </IonButtons>\n                </IonToolbar>\n            </IonHeader>\n            <IonContent>\n                <IonCard>\n                    <IonCardHeader>\n                        <div className=\"datosContribuyete\">\n                            <h3>{datosContribuyente.Nombre}</h3>\n                            <p>Contrato: {datosContribuyente.ContratoVigente}, &nbsp;&nbsp; Medidor: {datosContribuyente.Medidor}, &nbsp;&nbsp; Toma: {datosContribuyente.Toma}</p>\n                            <p>Municipio: {datosContribuyente.Municipio}, &nbsp;&nbsp; Localidad: {datosContribuyente.Localidad}</p>\n                            <p>Colonia: {datosContribuyente.Colonia} &nbsp;&nbsp; Calle: {datosContribuyente.Calle} &nbsp;&nbsp; Exterior: {datosContribuyente.Exterior} &nbsp;&nbsp; Interior: {datosContribuyente.Interior}</p>\n                        </div>\n                    </IonCardHeader>\n                    <IonCardContent>\n                        <br />\n                        <IonItem>\n                            <IonLabel> Lectura anterior:</IonLabel>\n                            <IonInput disabled value={lecturaAnterior}></IonInput>\n                        </IonItem>\n                        <br />\n                        <IonItem>\n                            <IonLabel>Lectura actual:</IonLabel>\n                            <IonInput disabled  value={lecturaActual} onIonChange={e => { handleCalcularconsumo(parseFloat(e.detail.value + \"\")) }}></IonInput>\n                        </IonItem>\n                        <br />\n                        <IonItem>\n                            <IonLabel>Consumo :</IonLabel>\n                            <IonInput disabled value={consumo}></IonInput>\n                        </IonItem>\n                        <br />\n                        <IonItem>\n                            <IonLabel>Fecha de lectura: </IonLabel>\n                            <IonDatetime disabled displayFormat=\"DD/MM/YYYY\" value={fechaLectura}></IonDatetime>\n                        </IonItem>\n                        <br />\n                        <IonItem>\n                            <IonLabel>Anomalía:</IonLabel>\n                            <IonSelect \n                                disabled\n                                placeholder=\"Seleccione uno\" \n                                interface=\"action-sheet\" \n                                cancelText=\"Cancelar\" \n                                value={tipoAnomalia}\n                                onIonCancel = {handleCancelAnomalia}\n                                onIonChange = { e => { handleSelectAnomalia(e.detail.value) } } >\n                                <IonSelectOption value={null}></IonSelectOption>\n                                {\n                                    //Lista de anomalias\n                                    anomalias.map((item, index) => {\n                                        return <IonSelectOption key={index} value={item.id}>\n                                            {`${item.clave}-${item.descripci_on}`}\n                                        </IonSelectOption>\n                                    })\n                                }\n                            </IonSelect>\n                        </IonItem>\n                        <br />\n                        <IonItem>\n                            <IonLabel> Mes: </IonLabel>\n                            <IonSelect disabled={bloquearCampos} interface=\"action-sheet\" placeholder=\"Seleccione uno\" cancelText=\"Cancelar\" value={mesLectura} onIonChange={e => { handleSelectMes(e.detail.value) }}>\n                                {\n                                    listaMeses.map((item, index) => {\n                                        return <IonSelectOption key={index} value={item.id}>\n                                            {item.mes}\n                                        </IonSelectOption>\n                                    })\n                                }\n                            </IonSelect>\n                        </IonItem>\n                        <br />\n                        <IonItem>\n                            <IonLabel>Año: </IonLabel>\n                            <IonSelect disabled={bloquearCampos} interface=\"action-sheet\" placeholder=\"Seleccione uno\" cancelText=\"Cancelar\" value={anhioLectura} onIonChange={e => { handleSelectAnio(e.detail.value) }}>\n                                {\n                                    listaAnhios.map((item, index) => {\n                                        return <IonSelectOption key={index} value={item.anio}>\n                                            {item.anio}\n                                        </IonSelectOption>\n                                    })\n                                }\n                            </IonSelect>\n                        </IonItem>\n                        <br />\n                        <div className=\"centrar\">\n                            <IonGrid>\n                                <IonRow>\n                                    <IonCol>\n                                        <IonButton color=\"secondary\" onClick={handlebtnRegresar} >Regresar<IonIcon icon={chevronBackCircleOutline} slot=\"start\"></IonIcon> </IonButton>\n                                    </IonCol>\n                                </IonRow>\n                            </IonGrid>\n\n\n                        </div>\n                    </IonCardContent>\n                </IonCard>\n                <IonAlert\n                    cssClass=\"my-custom-class\"\n                    header={tipoMensaje}\n                    message={message}\n                    isOpen={message.length > 0}\n                    backdropDismiss={false}\n                    buttons={connectionError ? alertRetriButtons : [{ text: \"Aceptar\", handler: () => { setMessage(\"\") } }]}\n                />\n                <IonToast\n                    isOpen={showToast}\n                    onDidDismiss={regresarPantalla}\n                    message=\"Los datos se actualizaron correctamente\"\n                    duration={2000}\n                    position=\"top\"\n                    buttons={[{ side: \"end\", icon: checkmarkCircleOutline, handler: regresarPantalla }]}\n                ></IonToast>\n                <IonLoading\n                    cssClass=\"my-custom-class\"\n                    isOpen={loading}\n                    onDidDismiss={() => { setLoading(false); }}\n                    message=\"Por favor espere\"\n                />\n            </IonContent>\n        </IonPage>\n    )\n}\n\nexport default EditarLecturaAgua;","import { IonAlert, IonButton, IonButtons, IonCard, IonCardContent, IonCardHeader, IonCheckbox, IonCol, IonContent, IonGrid, IonHeader, IonInput, IonItem, IonLabel, IonLoading, IonMenuButton, IonPage, IonRow, IonText, IonTextarea, IonTitle, IonToolbar } from '@ionic/react'\nimport { useEffect, useState } from 'react'\nimport LeftMenu from '../../components/left-menu';\nimport { crearReporte } from '../../controller/apiController';\nimport { verifyingSession, cerrarSesion } from '../../controller/storageController';\nimport { useHistory } from 'react-router';\nimport './reportes.page.css';\nimport { isatty } from 'node:tty';\nconst Reportes: React.FC = () => {\n    const history = useHistory();\n    const [colonia, setColonia] = useState(String);\n    const [calle, setCalle] = useState(String);\n    const [numero, setNumero] = useState(String);\n    const [descripcion, setDescripcion] = useState(String);\n    const [loading, setLoading] = useState(false);\n    const [message, setMessage] = useState(String);\n    const [tipoMensaje, setTipoMensaje] = useState(String);\n    const [block, setBlock] = useState(false);\n    const [tokenExpired, setTokenExpired] = useState(false);\n    const [connectionError, setConnectionError] = useState(false);\n    const [contrato,setContrato] = useState(String);\n    const [fallaAdministrativa, setFallaAdministrativa] = useState(false)\n    //Verificando la session\n    const buttonsErrorConnection = [\n        { text: \"Reintentar\", handler: () => { setMessage(\"\"); handleBtnCrearReporte(); } },\n        { text: \"Aceptar\", handler: () => { setMessage(\"\"); console.log(\"Cancelando\") } }\n    ]\n    const isSessionValid = async () => {\n        let valid = verifyingSession();\n        setTokenExpired(!valid);\n        setBlock(!valid);\n    }\n    useEffect(() => { isSessionValid() }, []);\n    useEffect(() => { logOut() }, [tokenExpired]);\n    //Manejadores de la interfaz\n    const logOut = async () => {\n        if (tokenExpired) {\n            setTipoMensaje(\"Sesión no valida\");\n            setMessage(\"Inicie sesión por favor\\nRegresando...\");\n            setTimeout(() => {\n                cerrarSesion()\n                    .then((result) => {\n                        setMessage('');\n                        history.replace('/home');\n                    })\n            }, 2500)\n        }\n    }\n    const handleColonia = (data: string) => {\n        setColonia(data)\n    }\n    const handleCalle = (data: string) => {\n        setCalle(data)\n    }\n    const handleNumero = (data: string) => {\n        setNumero(data);\n    }\n    const handledescripcion = (data: string) => {\n        setDescripcion(data);\n    }\n    const handleBtnCrearReporte = async () => {\n        setLoading(true);\n        let data = {\n            colonia: colonia,\n            calle: calle,\n            numero: numero,\n            descripcion: descripcion,\n            contrato: contrato,\n            fallaAdministrativa: fallaAdministrativa ? 1 : 0,\n        }\n        await crearReporte(data)\n            .then((result) => {\n                setConnectionError(false);\n                limpiarPantalla();\n                setTipoMensaje(\"Mensaje\");\n                setMessage(result);\n            }).catch((err) => {\n                setTipoMensaje(\"ERROR\");\n                let messageError = String(err.message);\n                setConnectionError(messageError.includes(\"API\"));\n                let sessionExpired = messageError.includes(\"Sesion no valida\");\n                setTokenExpired(sessionExpired);\n                if (!sessionExpired) {\n                    setMessage(messageError);\n                } else {\n                    console.log(\"El token ya expiro\")\n                }\n            }).finally(() => {\n                setLoading(false);\n            })\n    }\n    const limpiarPantalla = () => {\n        setColonia(\"\");\n        setCalle(\"\");\n        setNumero(\"\");\n        setDescripcion(\"\");\n        setContrato(\"\");\n    }\n    const handleContrato = (data: string) =>{\n        setContrato(data);\n    }\n    const handleCheckAdminstraivo = (value: boolean) =>{\n        setFallaAdministrativa(value)\n    }\n    return (\n        <IonPage>\n            <LeftMenu />\n            <IonHeader>\n                <IonToolbar color=\"danger\" >\n                    <IonTitle>Fallos en infraestructura</IonTitle>\n                    <IonButtons slot=\"start\" className=\"btnMenu\">\n                        <IonMenuButton></IonMenuButton>\n                    </IonButtons>\n                </IonToolbar>\n            </IonHeader>\n            <IonContent>\n                <br />\n                <IonCard>\n                    <IonCardHeader>\n                        <div className=\"centrado\">\n                            <h5>\n                                Los campos que presentan<IonText color=\"danger\">*</IonText>son obligatorios\n                            </h5>\n                        </div>\n                    </IonCardHeader>\n                    <IonCardContent>\n                        <IonItem>\n                            <IonLabel>Selecciones aqui si es una falla administrativa</IonLabel>\n                            <IonCheckbox color = \"danger\" onIonChange = {e=>{handleCheckAdminstraivo(e.detail.checked)}}></IonCheckbox>\n                        </IonItem>\n                        <IonItem >\n                            <IonLabel position=\"floating\" className=\"input\">Colonia <IonText color=\"danger\">*</IonText></IonLabel>\n                            <IonInput disabled={block} onIonChange={e => { handleColonia(e.detail.value + \"\") }} value={colonia} ></IonInput>\n                        </IonItem>\n                        <IonItem >\n                            <IonLabel position=\"floating\" className=\"input\">Calle<IonText color=\"danger\">*</IonText></IonLabel>\n                            <IonInput disabled={block} onIonChange={e => { handleCalle(e.detail.value + \"\") }} value={calle}  ></IonInput>\n                        </IonItem>\n                        <IonItem >\n                            <IonLabel position=\"floating\" className=\"input\">Número</IonLabel>\n                            <IonInput disabled={block} type=\"number\" onIonChange={e => { handleNumero(e.detail.value + \"\") }} value={numero}  ></IonInput>\n                        </IonItem>\n                        <IonItem>\n                            <IonLabel position = \"floating\" className = \"input\">Contrato</IonLabel>\n                            <IonInput disabled={block} type=\"number\" onIonChange = {e => {handleContrato(String(e.detail.value))}}></IonInput>\n                        </IonItem>\n                        <IonItem >\n                            <IonLabel position=\"floating\" className=\"input\">{ `Descripcion de la falla${fallaAdministrativa ? \" administrativa\": \"\"}`}<IonText color=\"danger\">*</IonText></IonLabel>\n                            <IonTextarea disabled={block} onIonChange={e => { handledescripcion(e.detail.value + \"\") }} value={descripcion} ></IonTextarea>\n                        </IonItem >\n                        <br /><br />\n                        <div className=\"centrar\">\n                            <IonButton disabled={block} color=\"primary\" onClick={handleBtnCrearReporte}>Crear reporte</IonButton>\n                        </div>\n                        \n                    </IonCardContent>\n                </IonCard>\n                <IonAlert\n                    cssClass=\"my-custom-class\"\n                    header={tipoMensaje}\n                    message={message}\n                    isOpen={message.length > 0}\n                    backdropDismiss={false}\n                    buttons={connectionError ? buttonsErrorConnection : [{ text: \"Aceptar\", handler: () => { setMessage(\"\"); console.log(\"Cancelando\") } }]}\n                />\n                <IonLoading\n                    cssClass=\"my-custom-class\"\n                    isOpen={loading}\n                    onDidDismiss={() => { setLoading(false); }}\n                    message=\"Por favor espere\"\n                />\n            </IonContent>\n        </IonPage>\n    )\n}\n\nexport default Reportes;","import { IonAlert, IonButton, IonButtons, IonCard, IonCardContent, IonCardHeader, IonCol, IonContent, IonDatetime, IonGrid, IonHeader, IonIcon, IonItem, IonItemOption, IonItemOptions, IonItemSliding, IonLabel, IonList, IonLoading, IonMenuButton, IonPage, IonRow, IonTitle, IonToolbar, useIonViewWillEnter } from '@ionic/react';\nimport LeftMenu from '../../components/left-menu';\nimport React, { useState, useEffect } from 'react';\nimport { historialReportes } from '../../controller/apiController';\nimport { eyeOutline } from 'ionicons/icons';\nimport { guardarIdReporte, verifyingSession, cerrarSesion, getFechasHistorialReportes, setFechasHistorialReportes } from '../../controller/storageController'\nimport { useHistory } from 'react-router-dom';\nconst HistorilaReportes: React.FC = () => {\n    const history = useHistory();\n    const [fechaDesde, setFechaDesde] = useState(String);\n    const [fechaHasta, setFechaHasta] = useState(String);\n    const [placeFechaDesde, setPlaceFechaDesde] = useState(String);\n    const [placeFechaHasta, setPlaceFechaHasta] = useState(String);\n    const [message, setMessage] = useState(String);\n    const [typeMessage, setTypeMessage] = useState(String);\n    const [loading, setLoading] = useState(false);\n    const [reportes, setReportes] = useState<any[]>([]);\n    const [connectionError, setConnectionError] = useState(false);\n    const [tokenExpired, setTokenExpired] = useState(false);\n    const [block, setBlock] = useState(true);\n    const alertsButtons = [\n        {\n            text: \"Reintentar\",\n            handler: () => { setMessage(''); handleBtnGenerar(fechaDesde,fechaHasta); }\n        },\n        {\n            text: \"Cancelar\",\n            handler: () => { setLoading(false); setMessage(''); }\n        }\n    ]\n    const fecha = new Date();\n\n    const sessionIsValid = () => {\n        let valid = verifyingSession();\n        setTokenExpired(!valid);\n        setBlock(!valid);\n    }\n    useEffect(() => {\n        let defaultFecha = (fecha.getFullYear() + \"-\" + (fecha.getMonth() + 1) + \"-\" + (fecha.getDate()));\n        setFechaDesde(defaultFecha);\n        setFechaHasta(defaultFecha);\n        setPlaceFechaDesde(defaultFecha);\n        setPlaceFechaHasta(defaultFecha);\n        sessionIsValid();\n    }, [])\n    useEffect(() => { logOut(tokenExpired) }, [tokenExpired])\n    const verificarFechas = () =>{\n        let data = getFechasHistorialReportes();\n        console.log(data);\n        if(data != null){\n            setFechaDesde(String(data.desde));\n            setFechaHasta(String(data.hasta));\n            handleBtnGenerar(String(data.desde),String(data.hasta));\n        }\n    }\n    useIonViewWillEnter(verificarFechas)\n    const logOut = (valid: boolean) => {\n        if (valid) {\n            setTypeMessage(\"Sesión no valida\");\n            setMessage(\"Inicie sesión por favor\\nRegresando...\");\n            cerrarSesion();\n            setTimeout(() => {\n                history.replace(\"./home\")\n            }, 2500);\n        } else {\n            console.log(\"La session es valida\");\n        }\n    }\n    //Manejadores de la interfaz\n    const handleBtnGenerar = (desde: string, hasta:string) => {\n        let valid = validateFecha(desde,hasta);\n        if (valid) {\n            setLoading(true);\n            historialReportes(desde, hasta)\n                .then((result) => { setReportes(result) })\n                .catch((error) => {\n                    console.log(error);\n                    setReportes([]);\n                    let resultMessage = String(error.message);\n                    setConnectionError(resultMessage.includes(\"API\"));\n                    setTokenExpired(resultMessage.includes(\"Sesion no valida\"));\n                    let errores = resultMessage.includes(\"Sesion no valida\") && resultMessage.includes(\"API\");\n                    errores ? setTypeMessage(\"ERROR\") : setTypeMessage(\"MENSAJE\");\n                    setMessage(resultMessage);\n                })\n                .finally(() => { setLoading(false) })\n        }else{\n            setTypeMessage(\"MENSAJE\");\n            setMessage(\"Selección de fechas no validas\"); \n        }\n    }\n    const handleFechaDesde = (fecha: string) => {\n        setFechaDesde(fecha)\n    }\n    const handleFechaHasta = (fecha: string) => {\n        setFechaHasta(fecha)\n    }\n    const handleAlertBtnAceptar = () => { setMessage(''); setConnectionError(false) }\n    const handelDetalleReporte = (id: number) => {\n        //Giardar las fechas de los reportes\n        setFechasHistorialReportes(fechaDesde,fechaHasta);\n        guardarIdReporte(id);\n        history.replace('/detalles-reportes.page');\n    }\n    const validateFecha = (desde: string,hasta:string) => {\n        let fechaInicio = new Date(desde);\n        let fechaFin = new Date(hasta);\n        console.log(fechaInicio,fechaFin, fechaInicio <= fechaFin);\n        return fechaInicio <= fechaFin;\n    }\n    return (\n        <IonPage>\n            <IonContent>\n                <LeftMenu />\n                <IonHeader>\n                    <IonToolbar color=\"danger\" >\n                        <IonTitle>Historial Reportes</IonTitle>\n                        <IonButtons slot=\"start\" className=\"btnMenu\">\n                            <IonMenuButton ></IonMenuButton>\n                        </IonButtons>\n                    </IonToolbar>\n                </IonHeader>\n                <IonCard>\n                    <IonCardHeader className=\"center\">\n                        <div>\n                            <h5>Seleccione la fecha</h5>\n                        </div>\n                    </IonCardHeader>\n                    <IonItem>\n                        <IonGrid>\n                            <IonRow>\n                                <IonCol size=\"6\">\n                                    <div className=\"center\">\n                                        <label>Desde: </label>\n                                        <IonDatetime disabled={block}\n                                            onIonChange={e => { handleFechaDesde(e.detail.value + \"\") }}\n                                            placeholder={placeFechaDesde}\n                                            displayFormat=\"DD-MM-YYYY\"\n                                            pickerFormat=\"DD-MM-YYYY\"\n                                            cancelText=\"Cancelar\"\n                                            doneText=\"Aceptar\"\n                                            value={fechaDesde}>{fechaDesde}</IonDatetime>\n                                    </div>\n                                </IonCol>\n                                <IonCol>\n                                    <div className=\"center\">\n                                        <label>Hasta: </label>\n                                        <IonDatetime disabled={block}\n                                            onIonChange={e => { handleFechaHasta(e.detail.value + \"\") }}\n                                            placeholder={placeFechaHasta}\n                                            displayFormat=\"DD-MM-YYYY\"\n                                            pickerFormat=\"DD-MM-YYYY\"\n                                            cancelText=\"Cancelar\"\n                                            doneText=\"Aceptar\"\n                                            value={fechaHasta} >{fechaHasta}</IonDatetime>\n                                    </div>\n                                </IonCol>\n                            </IonRow>\n                        </IonGrid>\n                    </IonItem>\n                    <br />\n                    <div className=\"center\">\n                        <IonButton disabled={block} color=\"danger\" onClick={()=>{handleBtnGenerar(fechaDesde,fechaHasta)}}>Generar</IonButton>\n                    </div>\n                </IonCard>\n                <IonCard>\n                    <IonCardContent>\n                        <IonList>\n                            {\n                                reportes.map((item, index) => {\n                                    return <IonItem key={index} onClick={() => { handelDetalleReporte(item.id) }}>\n                                        <IonList>\n                                            <h6>{item.Fecha}</h6>\n                                            <label>{item.Colonia}</label><br />\n                                            <label>{`Calle: ${item.Calle}`}</label>\n                                            <br />\n                                            <label>{`Colonia: ${item.Colonia}`}</label>\n                                        </IonList>\n                                        <label slot=\"end\" ><IonIcon icon={eyeOutline} color=\"primary\"></IonIcon></label>\n                                    </IonItem>\n                                })\n                            }\n                        </IonList>\n                    </IonCardContent>\n                </IonCard>\n                <IonAlert\n                    isOpen={message.length > 0}\n                    backdropDismiss={false}\n                    header={typeMessage}\n                    message={message}\n                    buttons={connectionError ? alertsButtons : [{ text: \"Aceptar\", handler: handleAlertBtnAceptar }]} />\n                <IonLoading\n                    isOpen={loading}\n                    message=\"Espere por favor\"\n                />\n            </IonContent>\n        </IonPage>\n    )\n}\nexport default HistorilaReportes;","import { IonAlert, IonButton, IonButtons, IonCard, IonCardContent, IonCardHeader, IonCol, IonContent, IonGrid, IonHeader, IonIcon, IonLabel, IonLoading, IonMenu, IonMenuButton, IonPage, IonRow, IonText, IonTitle, IonToolbar } from '@ionic/react'\nimport { useEffect, useState } from 'react'\nimport LeftMenu from \"../../components/left-menu\";\nimport { obtenerIdReporte, verifyingSession } from '../../controller/storageController'\nimport { extraerReporte } from '../../controller/apiController';\nimport { useHistory } from 'react-router'\nimport { chevronBackCircleOutline } from 'ionicons/icons'\nimport './detalle-reporte.page.css'\nconst DetalleReporte: React.FC = () => {\n    const history = useHistory();\n    const [idReporte, setIdReporte] = useState(String);\n    const [userName, setUserName] = useState(String);\n    const [colonia, setColonia] = useState(String);\n    const [calle, setCalle] = useState(String);\n    const [numero, setNumero] = useState(String);\n    const [fecha, setFecha] = useState(String)\n    const [loading, setLoading] = useState(false);\n    const [message, setMessage] = useState(String);\n    const [typeMessage, setTypeMessage] = useState(String);\n    const [connectionError, setConnectionError] = useState(false);\n    const [expiredToken, setExpiredToken] = useState(false);\n    const [descripcion, setDescripcion] = useState(String);\n    const alertButtons = [\n        {\n            text: \"Reintentar\",\n            handler: () => { setMessage(''); obtenerReporte() }\n        },\n        {\n            text: \"Aceptar\",\n            handler: () => { setMessage(''); setLoading(false) }\n        }]\n    const cargarDatos = async () => {\n        setExpiredToken(!verifyingSession());\n        console.log(\"El error es por que el token es null \", !expiredToken);\n        let { id, userName } = obtenerIdReporte();\n        setUserName(String(userName));\n        setIdReporte(String(id));\n    }\n    useEffect(() => { obtenerReporte() }, [idReporte]);\n    useEffect(() => { connectionError ? setTypeMessage(\"Error\") : setTypeMessage(\"Mensaje\") }, [connectionError]);\n    useEffect(() => { logOut() }, [expiredToken]);\n    const logOut = () => {\n        if (expiredToken) {\n            setMessage(\"ERROR\");\n            setMessage(\"Inicie sesión por favor\\nRegresando...\");\n            setTimeout(() => {\n                history.replace(\"./home\")\n            }\n                , 2500);\n        }\n    }\n    const obtenerReporte = async () => {\n        setLoading(true);\n        extraerReporte(idReporte)\n            .then((result) => {\n                let { Calle, Colonia, Descripcion, Fecha, Numero } = result[0];\n                setCalle(Calle);\n                setColonia(Colonia);\n                setDescripcion(Descripcion);\n                setFecha(Fecha);\n                setNumero(Numero);\n            })\n            .catch((err) => {\n                let errorMessage = String(err.message);\n                setConnectionError((errorMessage.includes(\"API\")));\n                let expired = errorMessage.includes(\"Sesion no valida\");\n                setExpiredToken(expired);\n                if (expired) {\n                    setMessage(errorMessage);\n                }\n            })\n            .finally(() => { setLoading(false) })\n\n    }\n    useEffect(() => { cargarDatos() }, [])\n    const handleBtnRegresar = () =>{\n        history.replace(\"/historial-reportes.page\");\n    }\n    return (\n        <IonPage>\n            <IonContent>\n                <LeftMenu />\n                <IonToolbar color=\"danger\" >\n                    <IonTitle>Reportes</IonTitle>\n                    <IonButtons slot=\"start\" className=\"btnMenu\">\n                        <IonMenuButton></IonMenuButton>\n                    </IonButtons>\n                </IonToolbar>\n                <IonCard>\n                    <IonCardHeader>\n                        <h6 className=\"center\">{`Reporto: ${userName}`}</h6>\n                    </IonCardHeader>\n                    <IonCardContent>\n                        <IonGrid>\n                            <IonRow>\n                                <IonCol size=\"12\">\n                                    <h3 className=\"center\">{`Colonia: ${colonia}`}</h3>\n                                </IonCol>\n                            </IonRow>\n                            <br />\n                            <IonRow >\n                                <IonCol size=\"6\" className=\"center\">\n                                    {`Calle: ${calle}`}\n                                </IonCol>\n                                <IonCol size=\"6\" className=\"center\">\n                                    {`Numero: ${numero}`}\n                                </IonCol>\n                            </IonRow>\n                            <br />\n                            <IonRow>\n                                <IonCol size=\"12\" className=\"center\">\n                                    Descripción\n                                </IonCol>\n                            </IonRow>\n                            <IonRow className=\"backgroundColor\">\n                                <IonCol size=\"12\">\n                                    <IonText>\n                                        {descripcion}\n                                    </IonText>\n                                </IonCol>\n                            </IonRow>\n                            <br />\n                            <div className=\"center\">\n                                <IonButton color=\"secondary\" onClick = {handleBtnRegresar}>\n                                    Regresar\n                                <IonIcon icon={chevronBackCircleOutline} slot=\"start\"></IonIcon>\n                                </IonButton>\n                            </div>\n                        </IonGrid>\n                    </IonCardContent>\n                </IonCard>\n                <IonAlert\n                    isOpen={message.length > 0}\n                    header={typeMessage}\n                    message={message}\n                    backdropDismiss={false}\n                    buttons={connectionError ? alertButtons : [{ text: \"Aceptar\", handler: () => { setMessage('') } }]}\n                />\n                <IonLoading\n                    isOpen={loading}\n                    message=\"Espere por favor\"\n                />\n            </IonContent>\n        </IonPage>\n    )\n}\n\nexport default DetalleReporte;","import { IonIcon, IonButton, IonButtons, IonCard, IonCardContent, IonCardHeader, IonContent, IonHeader, IonInput, IonItem, IonLabel, IonMenuButton, IonPage, IonTitle, IonToolbar, IonAlert, IonLoading, IonGrid, IonCol, IonRow, IonFooter, IonFab, IonFabButton } from '@ionic/react';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport './datos-del-contribuyente.css'\nimport MenuLeft from '../../components/left-menu';\nimport { obtenerDatosContribuyente, actualizarContribuyente } from '../../controller/apiController';\nimport { backspaceOutline, chevronBackCircleOutline, saveOutline, saveSharp, logoFacebook, compassOutline } from 'ionicons/icons';\nimport { cerrarSesion } from '../../controller/storageController';\nconst DatosContribuyente: React.FC = () => {\n    const history = useHistory();\n    const [datosContribuyente, setDatosContribuyente] = useState(Object);\n    const [telefono, setTelefono] = useState(String);\n    const [email, setEmail] = useState(String);\n    const [message, setMessage] = useState(String);\n    const [typeMessage, setTypeMessage] = useState(String);\n    const [loading, setLoading] = useState(false);\n    const [hideButtons, setHideButtons] = useState(true);\n    const [tokenExpired, setTokenExpired] = useState(false);\n    const [ typeError, setTypeError ] = useState(String);\n    useEffect(() => { obtenerContribuyente() }, []);\n    useEffect(() => { logOut() }, [tokenExpired]);\n    const alertButtons = [\n        { text: \"Reintentar\", handler: () => { setMessage(\"\"); typeError == \"onLoad\" ? obtenerContribuyente() : handleBtnGuardarContacto();} },\n        { text: \"Aceptar\", handler: () => { setMessage(\"\"); } }\n    ]\n    const logOut = () => {\n        if (tokenExpired) {\n            setTypeMessage(\"Session no valida\");\n            setMessage(\"Inicie sesión por favor\\nRegresando...\");\n            setHideButtons(true);\n            setTimeout(async () => {\n                await cerrarSesion().then((result) => {\n                    setTypeMessage(\"Error\");\n                    setMessage('');\n                    history.replace('/home');\n                })\n            }, 2500)\n        }\n    }\n    const obtenerContribuyente = async () => {\n        setLoading(true);\n        await obtenerDatosContribuyente()\n            .then((result) => {\n                setTelefono(result.Celular == null ? \"\" : result.Celular);\n                setEmail(result.Email == null ? \"\" : result.Email);\n                setDatosContribuyente(result);\n            })\n            .catch((error) => { \n                setHideButtons(false);\n                let errorMessage = String(error.message);\n                let validSession = errorMessage.includes(\"Sesion no valida\");\n                if(!validSession){\n                    setTypeMessage(\"ERROR\");\n                    setTypeError(\"onLoad\");\n                    setMessage(errorMessage);\n                }\n             })\n            .finally(() => { setLoading(false) });\n    }\n    const handleTelefono = (value: string) => {\n        setTelefono(value);\n    }\n    const handleEmail = (value: string) => {\n        setEmail(value);\n    }\n    const handleBtnGuardarContacto = async () => {\n        setLoading(true);\n        let datos = {\n            telefono: telefono,\n            email: email\n        }\n        await actualizarContribuyente(datos)\n            .then((result) => {\n                setHideButtons(true);\n                setTypeMessage(\"MENSAJE\");\n                setMessage(result);\n            })\n            .catch(err => {\n                setTypeError(\"onUpdate\");\n                let errorMessage = String(err.message);\n                let sesionValid = errorMessage.includes(\"Sesion no valida\");\n                let connectionError = errorMessage.includes(\"API\");\n                setHideButtons(connectionError);\n                if (!sesionValid) {\n                    setHideButtons(false);\n                    setTypeMessage(\"Error\");\n                    setMessage(err.message);\n                } else {\n                    setTokenExpired(true);\n                }\n            })\n            .finally(() => { setLoading(false) })\n    }\n    const handleBtnRegresar = () =>{\n        console.log(\"REGRESANDO!!\");\n        history.replace(\"/captura-de-lectura.page\")\n    }\n    return (\n        <IonPage>\n            <IonContent fullscreen = {true}>\n                <MenuLeft />\n                <IonHeader>\n                    <IonToolbar color=\"danger\" >\n                        <IonTitle>Detalles contribuyente</IonTitle>\n                        <IonButtons slot=\"start\" className=\"btnMenu\">\n                            <IonMenuButton ></IonMenuButton>\n                        </IonButtons>\n                    </IonToolbar>\n                </IonHeader>\n                <IonCard >\n                    <IonCardHeader className=\"headerData\">\n                        <div className=\"datosContribuyete\">\n                            <h3>{datosContribuyente.Nombre}</h3>\n                            <p>Contrato: {datosContribuyente.ContratoVigente}, &nbsp;&nbsp; Medidor: {datosContribuyente.Medidor}, &nbsp;&nbsp; Toma: {datosContribuyente.Toma}</p>\n                            <p>Municipio: {datosContribuyente.Municipio}, &nbsp;&nbsp; Localidad: {datosContribuyente.Localidad}</p>\n                            <p>Colonia: {datosContribuyente.Colonia} &nbsp;&nbsp; Calle: {datosContribuyente.Calle} &nbsp;&nbsp; Exterior: {datosContribuyente.Exterior} &nbsp;&nbsp; Interior: {datosContribuyente.Interior}</p>\n                        </div>\n                    </IonCardHeader>\n                    <IonCardContent className=\"centrar\">\n                        <IonItem>\n                            <IonLabel className=\"center\" color=\"\">Datos de contacto</IonLabel>\n                        </IonItem>\n                        <br />\n                        <IonItem>\n                            <IonLabel className=\"input\" position=\"floating\">Telefono</IonLabel>\n                            <IonInput type=\"tel\" placeholder=\"Telefono del contribuyente\" value={telefono} onIonChange={e => { handleTelefono(String(e.detail.value)) }} />\n                        </IonItem>\n                        <IonItem>\n                            <IonLabel className=\"input\" position=\"floating\" >Correo Electronico</IonLabel>\n                            <IonInput type=\"email\" placeholder=\"Correo Electronico\" value={email} onIonChange={e => { handleEmail(String(e.detail.value)) }} />\n                        </IonItem>\n                        <br />\n                        <IonGrid>\n                            <IonRow>\n                                <IonCol size=\"4\">\n                                    <IonButton color=\"secondary\" onClick = {handleBtnRegresar}>\n                                        Regresar\n                                        <IonIcon icon={chevronBackCircleOutline} slot=\"start\"></IonIcon>\n                                    </IonButton>\n                                </IonCol>\n                                <IonCol size=\"4\" ></IonCol>\n                                <IonCol size=\"4\">\n                                    <IonButton color=\"danger\" onClick={handleBtnGuardarContacto}>\n                                        Guardar\n                                        <IonIcon icon={saveSharp} slot=\"end\"></IonIcon>\n                                    </IonButton>\n                                </IonCol>\n                            </IonRow>\n                        </IonGrid>\n                    </IonCardContent>\n                </IonCard>\n                <IonAlert\n                    isOpen={message.length > 0}\n                    header={typeMessage}\n                    message={message}\n                    backdropDismiss={false}\n                    buttons={hideButtons ? [\"Aceptar\"] : alertButtons}\n                />\n                <IonLoading\n                    cssClass=\"my-custom-class\"\n                    isOpen={loading}\n                    message={\"Por favor espere\"}\n                    backdropDismiss={false}\n                />\n            </IonContent>\n        </IonPage>\n    )\n}\n\nexport default DatosContribuyente;","import { IonAlert, IonButton, IonButtons, IonCard, IonCardContent, IonCheckbox, IonChip, IonContent, IonHeader, IonIcon, IonImg, IonInput, IonItem, IonItemDivider, IonLabel, IonList, IonLoading, IonMenuButton, IonPage, IonSearchbar, IonSelect, IonSelectOption, IonText, IonTitle, IonToolbar} from '@ionic/react';\nimport LeftMenu from '../../components/left-menu';\nimport React, { useState, useEffect } from 'react';\nimport { obtenerContribuyenteInspeccion } from '../../controller/apiController'\nimport { search } from \"ionicons/icons\";\nimport { useHistory } from 'react-router-dom';\nimport { getInspeccionPadronAgua, setInspeccionPadronAgua } from '../../controller/storageController';\nimport \"./inspecciones.page.css\";\nconst AgregarInspeccion: React.FC = () => {\n    const history = useHistory();\n    const [contratoVigente,SetContratoVigente] = useState(String);\n    const [contribuyentes,setListaContribuyentes] = useState<any[]>([]);\n    const handleSerchBar = () => {\n        SetContratoVigente(contratoVigente);\n        if(contratoVigente != \"\"){\n            obtenerContribuyenteInspeccion(contratoVigente)\n            .then((result)=>{\n                setListaContribuyentes(result);\n            })\n            .catch((err)=>{\n                setListaContribuyentes([]);\n            })\n        }\n    }\n    const handleSelectList = (selectContribuyente:any) =>{\n        setInspeccionPadronAgua(selectContribuyente.id);\n        history.replace(\"/inspeccion-agregar.page\");\n    }\n    useEffect(()=>{handleSerchBar()},[contratoVigente])\n    return (\n        <IonPage>\n            <LeftMenu/>\n            <IonHeader>\n                <IonToolbar color=\"danger\" >\n                    <IonTitle>Agregar Inspeccción</IonTitle>\n                    <IonButtons slot=\"start\" className=\"btnMenu\">\n                        <IonMenuButton ></IonMenuButton>\n                    </IonButtons>\n                </IonToolbar>\n            </IonHeader>\n          <IonContent fullscreen>\n              <IonCard>\n                  <IonHeader class=\"ion-text-center\" className=\"box\">\n                  <div>\n                    <h3>Seleccione un contribuyente</h3>\n                    <IonLabel>Puedes realizar busquedas por:</IonLabel>\n                    <p>Contrato, Medidor, Nombre comercial o nombre del propietario</p>\n                    <br />\n                  </div>\n                  </IonHeader>\n                  <IonCardContent>\n                  <IonSearchbar placeholder = \"Contrato Vigente\" value = {contratoVigente} onIonChange = {e => {SetContratoVigente(e.detail.value!)}}></IonSearchbar>\n                  <IonList>\n                      <IonItemDivider/>\n                  {\n                      contribuyentes.length > 0 ? (\n                            contribuyentes.map((item,index)=>{\n                            return <IonItem detail={true} key = {index} onClick = {()=>{handleSelectList(item)}}>\n                                <IonList >\n                                  <IonLabel>{item.Contribuyente}</IonLabel>\n                                  <p>Contrato: {item.ContratoVigente}, Medidor: {item.Medidor}, Toma: {item.Toma}</p>\n                                </IonList>\n                            </IonItem>\n                            })\n                      ):(\"\")\n                  }\n                  </IonList>\n                  </IonCardContent>\n              </IonCard>\n          </IonContent>\n        </IonPage>\n      );\n}\n\n\nexport default AgregarInspeccion;","import { \n    IonButtons,\n    IonButton, \n    IonCard, \n    IonCardHeader, \n    IonContent, \n    IonHeader, \n    IonMenuButton, \n    IonPage, \n    IonTitle, \n    IonToolbar,\n    IonTextarea, \n    IonItemDivider,\n    IonGrid,\n    IonRow,\n    IonCol,\n    IonIcon,\n    IonLoading,\n    IonAlert,\n    IonItem,\n    IonLabel,\n    IonImg,\n    useIonToast,\n    IonCardContent} from '@ionic/react';\nimport React, { useState, useEffect } from 'react';\nimport \"./inspeccion-agregar.page.css\";\nimport { getInspeccionPadronAgua, obtenerDatosCliente, verifyingSession} from '../../controller/storageController';\nimport { useHistory } from 'react-router-dom';\nimport { obtnerContribuyenteInspeccion } from '../../controller/apiController';\nimport { camera,checkmarkCircle } from 'ionicons/icons';\nimport LeftMenu from '../../components/left-menu';\nimport { useTakePhoto, obtenerBase64} from '../../utilities';\nconst AgregarInspeccion: React.FC = () =>{\n    const history = useHistory();\n    const [pressentToast, dismissToast] = useIonToast();\n    const [contribuyente,setContribuyente] = useState(Object);\n    const [padron,setPadron] = useState(String);\n    const [mensaje,setMensaje] = useState(String);\n    const [motivo,setMotivo] = useState(String);\n    const [loading,setLoading] = useState(false);\n    const [fotoActiva, setFotoActiva] = useState('');\n    const [fotosEvidencia, setFotosEvidencia] = useState<any[]>([]);\n    const [indexFoto, setIndexFoto] = useState(-1);\n    const [fotosCodificadas, setFotosCodificadas] = useState<any[]>([]);\n    const [tipoMessage, setTipoMessage] = useState(\"ERROR\");\n    const [enbleButtons, setEnbleButtons] = useState(false);\n    const [message,setMessage] = useState('');\n    const [activarGaleria,setActivarGaleria] = useState(false);\n\n    const alertButtons = [\n        {\n            text: \"Reintentar\", handler: () => {\n                setMessage(\"\");\n                setTipoMessage(\"Error\");\n                isSessionValid();\n            }\n        },\n        {\n            text: \"Cancelar\"\n        }]\n    const { takePhoto } = useTakePhoto();\n    useEffect(()=>{buscarDatosContibuyente()},[]);\n    const isSessionValid = () =>{\n        let valid = verifyingSession();\n        logOut(valid)\n    }\n    const buscarDatosContibuyente = async () => {\n        let datos = obtenerDatosCliente();\n        console.log(datos.cliente + \" - \" + getInspeccionPadronAgua());\n        if(getInspeccionPadronAgua() != null){\n            await obtnerContribuyenteInspeccion(String(getInspeccionPadronAgua()))\n            .then((result)=>{console.log(result); setContribuyente(result)})\n            .catch((error)=>{setMensaje(error.mensaje)})\n        }\n    }\n    const handleAbrirCamera = async () => {\n        setLoading(true);\n        await takePhoto()\n            .then(async (result) => {\n                if (fotosEvidencia.length <= 2) {\n                    setLoading(true);\n                    agregarImagenEncode(result.webPath + \"\");\n                }\n                else {\n                    setLoading(false)\n                    setMessage(\"Solo se permiten 3 fotos como máximo\")\n                }\n            })\n            .catch((err) => {\n                let errorType = err.message + \"\";\n                if (errorType.includes(\"denied\")) {\n                    setMessage(\"La aplicación no tiene permisos para usar la cámara\")\n                }\n            }).finally(() => { setLoading(false) })\n    }\n    //llamada al metodo de convercion\n    const agregarImagenEncode = async (imgDir: string) => {\n        await obtenerBase64(imgDir).then((result) => {\n            setFotoActiva(imgDir);\n            setFotosEvidencia(fotosEvidencia => [...fotosEvidencia, imgDir]);\n            setIndexFoto(fotosEvidencia.length);\n            setFotosCodificadas(fotosCodificadas => [...fotosCodificadas, result]);\n            setActivarGaleria(true);\n        }).finally(() => { setLoading(false) })\n    }\n    const logOut = (valid: boolean) => {\n        if (!valid) {\n            setTipoMessage(\"Sesión no valida\");\n            setMessage(\"Inicie sesión por favor\\nRegresando...\");\n            setTimeout(() => {\n                setTipoMessage(\"ERROR\");\n                setMessage('');\n                history.replace(\"/home\");\n            }, 2500)\n        } else {\n            setLoading(true);\n        }\n    }\n    const cambiarFotoActiva = (foto: string, index: number) => {\n        setFotoActiva(foto);\n        setIndexFoto(index);\n    }\n    const generarGaleria = () => {\n        if (activarGaleria) {\n            let data =\n                <div>\n                    <IonItem>\n                        <IonLabel >Adjuntar evidencia (maximo 3 fotos)</IonLabel>\n                        <IonIcon icon={camera} className=\"iconStyle\" onClick={handleAbrirCamera}></IonIcon>\n                    </IonItem>\n                    {\n                        fotosEvidencia.length > 0 ?\n                            <IonItem>\n                                <IonRow>\n                                    {\n                                        fotosEvidencia.map((item, index) => {\n                                            return <IonCol key={index}><IonImg src={item} onClick={() => { cambiarFotoActiva(item, index) }} className=\"imgFormat\"></IonImg></IonCol>\n                                        })\n                                    }\n                                </IonRow>\n                            </IonItem> : <></>\n                    }\n                </div>;\n            return data;\n        }\n    }\n    const borrarFotoEvidencia = () => {\n        let fotosTemporal = new Array;\n        let fotosEncoded = new Array;\n        fotosEvidencia.map((item, index) => {\n            if (index != indexFoto) {\n                fotosTemporal.push(item);\n            }\n        });\n        fotosCodificadas.map((item, index) => {\n            if (index != indexFoto) {\n                fotosEncoded.push(item);\n            }\n        })\n        setFotosEvidencia(fotosTemporal);\n        setFotosCodificadas(fotosEncoded);\n        setFotoActiva('');\n        pressentToast({\n            message: \"Se elimino la foto de la lista'\",\n            duration: 2000,\n            position: 'top',\n            buttons: [\n                {\n                    side: 'start',\n                    icon: checkmarkCircle,\n                }\n            ]\n        })\n    }\n    /*const handleValidarDatos = () =>{\n        let handleDatosValidos = dato\n    }*/\n    return(\n        <IonPage>\n            <LeftMenu/>\n            <IonHeader>\n                <IonToolbar color=\"danger\" >\n                    <IonTitle>Agregar Inspeccción</IonTitle>\n                    <IonButtons slot=\"start\" className=\"btnMenu\">\n                        <IonMenuButton></IonMenuButton>\n                    </IonButtons>\n                </IonToolbar>\n            </IonHeader>\n            <IonContent>\n                <IonCard>\n                <IonCardHeader className=\"headerData\">\n                        <div className=\"datosContribuyete\">\n                            <h3>{contribuyente.Nombre}</h3>\n                            <p>Contrato: {contribuyente.ContratoVigente}, &nbsp;&nbsp; Medidor: {contribuyente.Medidor}, &nbsp;&nbsp; Toma: {contribuyente.Toma}</p>\n                            <p>Municipio: {contribuyente.Municipio}, &nbsp;&nbsp; Localidad: {contribuyente.Localidad}</p>\n                            <p>{`Dirección: ${contribuyente.Colonia} ${contribuyente.Calle} ${contribuyente.NoExterior} ${contribuyente.NoInterior} ${ contribuyente.CPostal }`}</p>\n                        </div>\n                </IonCardHeader>\n                <IonItemDivider/>\n                    <p className = \"centrar\">Ingrese el motivo</p>\n                    <IonTextarea className = \"borderTextArea\" rows = {4} value = {motivo} placeholder = {\"Ingrese el motivo de la inspección\"}></IonTextarea>\n                    <IonItemDivider/>\n                    <IonGrid>\n                    <IonRow >\n                        <IonCol size = \"10\">\n                            Adjuntar evidencia (maximo 3 fotos)\n                        </IonCol>\n                        <IonCol size = \"2\">\n                            <IonIcon icon={camera} className=\"iconStyle\" onClick={handleAbrirCamera}></IonIcon>\n                        </IonCol>\n                        <IonCol size = \"12\">\n                        {\n                             generarGaleria()\n                        }\n                        {\n                            fotoActiva != '' ?\n                                <IonItem>\n                                    <IonCard className=\"centrar\">\n                                        <IonImg src={fotoActiva} />\n                                        <IonCardContent >\n                                            <IonButtons>\n                                                <IonButton color=\"secondary\" onClick={() => { setFotoActiva('') }}>Cerrar</IonButton>\n                                                <IonButton color=\"danger\" onClick={() => { borrarFotoEvidencia() }} >Eliminar</IonButton>\n                                            </IonButtons>\n                                        </IonCardContent>\n                                    </IonCard>\n                                </IonItem> : <></>\n                        }\n                        </IonCol>\n                    </IonRow>\n                </IonGrid>\n                </IonCard>\n                <IonAlert\n                    cssClass=\"my-custom-class\"\n                    header={tipoMessage}\n                    message={message}\n\n                    isOpen={message.length > 0}\n                    backdropDismiss={false}\n                    buttons={enbleButtons ? alertButtons : [{ text: 'Aceptar', handler: () => { setMessage(\"\") } }]}\n                />\n                <IonLoading\n                    cssClass=\"my-custom-class\"\n                    isOpen={loading}\n                    onDidDismiss={() => { setLoading(false); }}\n                    message=\"Por favor espere\"\n                />\n            </IonContent>\n        </IonPage>\n    )\n}\n\nexport default AgregarInspeccion;","import { Redirect, Route } from 'react-router-dom';\nimport { IonApp, IonRouterOutlet } from '@ionic/react';\nimport { IonReactRouter } from '@ionic/react-router';\nimport Home from './pages/Home';\nimport TomaDatos from './pages/form-datos-toma/form-datos-toma.page'\nimport CapturaLectura from './pages/captura-de-lectura/captura-de-lectura.page'\nimport HistorialLecturas from './pages/historial-lecturas/historial-lecturas.page'\nimport EditarLectura from './pages/editar-lecturas-agua/editar-lecturas-agua.page'\nimport Reportes from './pages/reportes/reportes.page';\nimport HistorialReportes from './pages/historial-reportes/historial-reportes.page';\nimport DetallesHistorial from './pages/detalle-reporte/detalle-reporte.page';\nimport DatosContribuyente from './pages/datos-contribuyente/datos-del-contribuyente';\nimport ContribuyenteInspeccion from './pages/inspecciones/inspeccciones.page';\nimport AgregarInspeccion from './pages/inspeccion-agregar/inspeccion-agregar.page';\n/* Core CSS required for Ionic components to work properly */\nimport '@ionic/react/css/core.css';\n\n/* Basic CSS for apps built with Ionic */\nimport '@ionic/react/css/normalize.css';\nimport '@ionic/react/css/structure.css';\nimport '@ionic/react/css/typography.css';\n\n/* Optional CSS utils that can be commented out */\nimport '@ionic/react/css/padding.css';\nimport '@ionic/react/css/float-elements.css';\nimport '@ionic/react/css/text-alignment.css';\nimport '@ionic/react/css/text-transformation.css';\nimport '@ionic/react/css/flex-utils.css';\nimport '@ionic/react/css/display.css';\n\n/* Theme variables */\nimport './theme/variables.css';\n\nconst App: React.FC = () => (\n  <IonApp>\n    <IonReactRouter>\n      <IonRouterOutlet>\n        <Route exact path=\"/home\">\n          <Home />\n        </Route>\n        <Route exact path=\"/\">\n          <Redirect to=\"/home\" />\n        </Route>\n        <Route exact path = \"/form-datos-toma.page\">\n          <TomaDatos />\n        </Route>\n        <Route exact path = \"/captura-de-lectura.page\">\n          <CapturaLectura/>\n        </Route>\n        <Route exact path = \"/historial-lecturas.page\">\n          <HistorialLecturas/>\n        </Route>\n        <Route exact path = \"/editar-lecturas-agua.page\">\n          <EditarLectura/>\n        </Route>\n        <Route exact path = \"/reportes.page\">\n          <Reportes/>\n        </Route>\n        <Route exact path = \"/historial-reportes.page\">\n          <HistorialReportes/>\n        </Route>\n        <Route exact path = \"/detalles-reportes.page\">\n          <DetallesHistorial/>\n        </Route>\n        <Route exact path = \"/datos-contribuyente.page\">\n          <DatosContribuyente/>\n        </Route>\n        <Route exact path = \"/inspeccciones.page\">\n        <ContribuyenteInspeccion/>\n        </Route>\n        <Route exact path = \"/inspeccion-agregar.page\">\n          <AgregarInspeccion/>\n        </Route>\n      </IonRouterOutlet>\n    </IonReactRouter>\n  </IonApp>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.unregister();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","var map = {\n\t\"./ion-action-sheet.entry.js\": [\n\t\t137,\n\t\t5\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t138,\n\t\t6\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t139,\n\t\t7\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t140,\n\t\t17\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t141,\n\t\t18\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t142,\n\t\t43\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t143,\n\t\t19\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t144,\n\t\t20\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t145,\n\t\t21\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t146,\n\t\t22\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t147,\n\t\t44\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t148,\n\t\t10\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t149,\n\t\t23\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t150,\n\t\t45\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t151,\n\t\t46\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t152,\n\t\t24\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t153,\n\t\t25\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t154,\n\t\t26\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t155,\n\t\t27\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t156,\n\t\t28\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t157,\n\t\t8\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t158,\n\t\t14\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t159,\n\t\t9\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t160,\n\t\t29\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t161,\n\t\t30\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t162,\n\t\t31\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t163,\n\t\t11\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t164,\n\t\t16\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t165,\n\t\t47\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t166,\n\t\t32\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t167,\n\t\t33\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t168,\n\t\t34\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t169,\n\t\t35\n\t],\n\t\"./ion-slide_2.entry.js\": [\n\t\t170,\n\t\t48\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t171,\n\t\t13\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t172,\n\t\t49\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t173,\n\t\t36\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t174,\n\t\t15\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t175,\n\t\t37\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t176,\n\t\t38\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t177,\n\t\t39\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t178,\n\t\t12\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t179,\n\t\t50\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 86;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./ion-icon.entry.js\": [\n\t\t180,\n\t\t57\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 88;\nmodule.exports = webpackAsyncContext;"],"sourceRoot":""}